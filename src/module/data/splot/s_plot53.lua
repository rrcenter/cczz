local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "白帝城之战2",
    maxRounds    = 30,
    mapId        = "53.tmx",
    weatherStart = {"晴", "晴", "阴", "晴", "阴"},
    weatherType  = {"普通"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    enemyGeneralList = {
        {uid = "诸葛亮", aiType = "坚守原地", levelAdd = 4},
        {uid = "姜维", aiType = "坚守原地", levelAdd = 4},
        {uid = "马谡", aiType = "坚守原地", levelAdd = 4},
        {uid = "马良", aiType = "坚守原地", levelAdd = 4},
        {uid = "炮兵1", aiType = "被动出击"},
        {uid = "炮兵2", aiType = "被动出击"},
        {uid = "炮兵3", aiType = "被动出击"},
        {uid = "炮兵4", aiType = "被动出击"},
        {uid = "炮兵5", aiType = "坚守原地"},
        {uid = "炮兵6", aiType = "坚守原地"},
        {uid = "炮兵7", aiType = "坚守原地"},
        {uid = "张翼", aiType = "坚守原地", levelAdd = 2},
        {uid = "步兵2", aiType = "坚守原地"},
        {uid = "步兵3", aiType = "坚守原地"},
        {uid = "步兵4", aiType = "坚守原地"},
        {uid = "弓兵1", aiType = "坚守原地"},
        {uid = "弓兵2", aiType = "坚守原地"},
        {uid = "弓兵3", aiType = "坚守原地"},
        {uid = "弓兵4", aiType = "坚守原地"},
        {uid = "步兵1", aiType = "坚守原地"},
        {uid = "步兵5", aiType = "坚守原地"},
        {uid = "步兵6", aiType = "坚守原地"},
        {uid = "步兵7", aiType = "坚守原地"},
        {uid = "弓兵5", aiType = "坚守原地"},
        {uid = "弓兵6", aiType = "坚守原地"},
        {uid = "魏延", aiType = "被动出击", levelAdd = 4},
        {uid = "张嶷", aiType = "被动出击", levelAdd = 2},
        {uid = "骑兵1", aiType = "被动出击"},
        {uid = "骑兵2", aiType = "被动出击"},
        {uid = "武术家1", aiType = "被动出击"},
        {uid = "武术家2", aiType = "被动出击"},
        {uid = "马岱", aiType = "被动出击", levelAdd = 4},
        {uid = "西凉骑兵1", aiType = "坚守原地"},
        {uid = "西凉骑兵2", aiType = "坚守原地"},
        {uid = "西凉骑兵3", aiType = "坚守原地"},
        {uid = "西凉骑兵4", aiType = "坚守原地"},
        {uid = "西凉骑兵5", aiType = "坚守原地"},
        {uid = "木人1", aiType = "主动出击", isHide = true},
        {uid = "木人2", aiType = "主动出击", isHide = true},
        {uid = "木人3", aiType = "主动出击", isHide = true},
        {uid = "木人4", aiType = "主动出击", isHide = true},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"诸葛亮", "白羽扇", 0, "鹤氅", 0, "诸葛巾"}},
    },
    {cmd = "AddObstacle", args = {"Gate-147", true, "城门", 18, 4}},
    {cmd = "AddObstacle", args = {"Gate-149", true, "城门", 18, 5}},
    {cmd = "AddObstacle", args = {"Gate-143", true, "城门", 22, 4}},
    {cmd = "AddObstacle", args = {"Gate-145", true, "城门", 22, 5}},
    {cmd = "AddObstacle", args = {"Gate-151", true, "城门", 14, 12}},
    {cmd = "AddObstacle", args = {"Gate-153", true, "城门", 15, 12}},
    {cmd = "PlayMusic", args = {"Track3"}},
    {
        {cmd = "FaceToFace", args = {"曹操", "诸葛亮"}},
        {cmd = "Dialog", args = {"曹操", "孔明据守在白帝城，究竟要做什么？"}},
        {cmd = "GeneralChangeDirection", args = {"诸葛亮", "up"}},
        {cmd = "Dialog", args = {"诸葛亮", "…………"}},
        {cmd = "FaceToFace", args = {"姜维", "马谡"}},
        {cmd = "Dialog", args = {"姜维", "马谡，不可让曹操靠近！"}},
        {cmd = "Dialog", args = {"姜维", "替我再争取一些时间吧。"}},
        {cmd = "FaceToFace", args = {"马谡", "姜维"}},
        {cmd = "Dialog", args = {"马谡", "尽管放心吧，不碍事的。"}},
        {cmd = "Dialog", args = {"马谡", "有我马谡在此，谁也休想接近。"}},
        {cmd = "Dialog", args = {"马谡", "哈哈哈！"}},
        {cmd = "FaceToFace", args = {"马良", "曹操"}},
        {cmd = "Dialog", args = {"马良", "刘备主公，张飞将军先后逝去，关羽也临阵倒戈叛蜀归魏，如今只有靠孔明先生的奇术了。"}},
        {cmd = "GeneralAction", args = {"马良", "defense"}},
        {cmd = "Dialog", args = {"马良", "为了取得新的奇术对付魏军，一定要让这个祈祷仪式成功。"}},
        {cmd = "Dialog", args = {"马良", "即使为蜀国牺牲也在所不惜！"}},
        {cmd = "FaceToFace", args = {"魏延", "马良"}},
        {cmd = "Dialog", args = {"魏延", "那种妖法奇术只会混乱人世。"}},
        {cmd = "Dialog", args = {"魏延", "作战就是应该运用计谋和武力去较量！"}},
        {cmd = "FaceToFace", args = {"张嶷", "魏延"}},
        {cmd = "Dialog", args = {"张嶷", "算了，魏延将军，你就忍耐一下吧！"}},
        {cmd = "Dialog", args = {"张嶷", "为了对抗并吞吴国的魏军，这些法术一定派得上用场的。"}},
        {cmd = "Dialog", args = {"马岱", "（继庞德之后，关羽将军也降魏了……"}},
        {cmd = "Dialog", args = {"马岱", "这两个忠义之士为何降魏呢？）"}},
        {cmd = "FaceToFace", args = {"张翼", "曹操"}},
        {cmd = "GeneralAction", args = {"张翼", "defense"}},
        {cmd = "Dialog", args = {"张翼", "哼，曹军要来就尽管来吧！"}},
        {cmd = "Dialog", args = {"张翼", "我张翼誓死也要守住此地。"}},
    },
    {cmd = "PlayMusic", args = {"Track4"}},
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、歼灭所有敌军。\n\n失败条件\n一、曹操死亡。\n二、回合数超过30。"}},
    {cmd = "ShowBattleWinCondition", args = {"歼灭所有敌军！"}},
    {cmd = "VarSet", args = {"Var553", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "RoundsTest", args = {4, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var70"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var70", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {7, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var71"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var71", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {10, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var72"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var72", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {13, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var73"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var73", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {16, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var74"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var74", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {19, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var75"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var75", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {22, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var76"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var76", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {25, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var77"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var77", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {28, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var78"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var78", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {31, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var79"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var79", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {34, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var80"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var80", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {37, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var81"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var81", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {40, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var57", "Var82"}}}},
        {
            {cmd = "GeneralReborn", args = {"木人1", 13, 6, "down"}},
            {cmd = "GeneralReborn", args = {"木人2", 13, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人3", 16, 5, "down"}},
            {cmd = "GeneralReborn", args = {"木人4", 16, 6, "down"}},
            {cmd = "VarSet", args = {"Var82", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 14, 5}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AddItem", args = {"恢复用桃", 0}},
            {cmd = "VarSet", args = {"Var20", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 15, 4}},
        {cmd = "VarTest", args = {{falseConditions = {"Var21"}}}},
        {
            {cmd = "AddItem", args = {"神秘酒", 0}},
            {cmd = "VarSet", args = {"Var21", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 14, 4}},
        {cmd = "VarTest", args = {{falseConditions = {"Var22"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var22", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 15, 5}},
        {cmd = "VarTest", args = {{falseConditions = {"Var23"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var23", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 13, 14, 16, 18}},
        {cmd = "VarTest", args = {{falseConditions = {"Var30"}}}},
        {
            {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 13, 14, 16, 17, "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var30", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 4, 3, 9, 8}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var31"}}}},
        {
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                {cmd = "GeneralAction", args = {"马岱", "defense"}},
                {cmd = "Dialog", args = {"马岱", "不会让你们通过此地的！"}},
            },
            {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 6, 3, 9, 6, "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var31", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 3, 8, 11, 16}},
        {cmd = "VarTest", args = {{falseConditions = {"Var32"}}}},
        {
            {cmd = "GeneralAiChange", args = {"炮兵5", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵6", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵7", "被动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var32", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 7, 1, 22, 11}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var33"}}}},
        {
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var3", "Var50", "Var51", "Var52"}}}},
                {
                    {cmd = "GeneralCountsTest", args = {{"player"}, 0, "=", "指定区域", 11, 1, 24, 8}},
                    {cmd = "FaceToFace", args = {"诸葛亮", "姜维"}},
                    {cmd = "Dialog", args = {"诸葛亮", "呼………"}},
                    {cmd = "Dialog", args = {"诸葛亮", "一切都按计划进行。"}},
                    {cmd = "Dialog", args = {"诸葛亮", "姜维，走吧。"}},
                    {cmd = "FaceToFace", args = {"姜维", "诸葛亮"}},
                    {cmd = "Dialog", args = {"姜维", "是，即刻出发。"}},
                    {cmd = "FaceToFace", args = {"诸葛亮", "马谡"}},
                    {cmd = "Dialog", args = {"诸葛亮", "马谡，后面的事就交给你了！"}},
                    {cmd = "Dialog", args = {"诸葛亮", "利用剑阁和阳平关阻挡敌军！"}},
                    {cmd = "FaceToFace", args = {"马谡", "诸葛亮"}},
                    {cmd = "Dialog", args = {"马谡", "交给我吧。"}},
                    {cmd = "Dialog", args = {"马谡", "我马谡绝不会失手的。"}},
                    {cmd = "AddObstacle", args = {"Gate-147", false, "城内", 18, 4}},
                    {cmd = "AddObstacle", args = {"Gate-149", false, "城内", 18, 5}},
                    {cmd = "AddObstacle", args = {"Gate-143", false, "城内", 22, 4}},
                    {cmd = "AddObstacle", args = {"Gate-145", false, "城内", 22, 5}},
                    {cmd = "RoleMove", args = {"诸葛亮", "right", 24, 4}},
                    {cmd = "RoleMove", args = {"姜维", "right", 24, 5}},
                    {cmd = "RoleDisappear", args = {"诸葛亮"}},
                    {cmd = "RoleDisappear", args = {"姜维"}},
                    {cmd = "GeneralChangeDirection", args = {"曹操", "right"}},
                    {cmd = "Dialog", args = {"曹操", "糟、糟了。"}},
                    {cmd = "Dialog", args = {"曹操", "让孔明逃了！"}},
                },
                {cmd = "VarSet", args = {"Var3", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var2", "Var57"}}}},
                {cmd = "FaceToFace", args = {"马良", "曹操"}},
                {cmd = "Dialog", args = {"马良", "孔明先生授予的奇术，现在正好派上用场。"}},
                {cmd = "GeneralAction", args = {"马良", "prepareAttack"}},
                {cmd = "Dialog", args = {"马良", "出来吧，木人！"}},
                {cmd = "Dialog", args = {"马良", "击败曹操！"}},
                {cmd = "GeneralAction", args = {"马良", "stand"}},
                {cmd = "GeneralShow", args = {"木人1"}},
                {cmd = "GeneralShow", args = {"木人2"}},
                {cmd = "GeneralShow", args = {"木人3"}},
                {cmd = "GeneralShow", args = {"木人4"}},
                {cmd = "VarSet", args = {"Var2", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var31"}}}},
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                    {cmd = "FaceToFace", args = {"马岱", "曹操"}},
                    {cmd = "Dialog", args = {"马岱", "一定要阻挡他们的去路！"}},
                    {cmd = "Dialog", args = {"马岱", "不能再任由他们猖狂了！"}},
                },
                {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 6, 3, 9, 6, "到指定点", "无", 14, 5}},
                {cmd = "VarSet", args = {"Var31", true}},
            },
            {cmd = "VarSet", args = {"Var33", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 3, 12, 7, 16}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var34"}}}},
        {
            {cmd = "FaceToFace", args = {"张翼", "曹操"}},
            {cmd = "GeneralAction", args = {"张翼", "prepareAttack"}},
            {cmd = "Dialog", args = {"张翼", "来了是吗？"}},
            {cmd = "Dialog", args = {"张翼", "冲！"}},
            {cmd = "GeneralAction", args = {"张翼", "stand"}},
            {cmd = "GeneralAiChange", args = {"张翼", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var34", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "马谡", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"曹操", "马谡"}},
            {cmd = "FaceToFace", args = {"马谡", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "你休想阻挠！"}},
            {cmd = "Dialog", args = {"曹操", "如今孔明妖孽附体，不除掉孔明，世间将永无宁日。"}},
            {cmd = "Dialog", args = {"马谡", "啧、啧、啧。"}},
            {cmd = "Dialog", args = {"马谡", "撒谎也该高明一点嘛！"}},
            {cmd = "Dialog", args = {"马谡", "孔明先生日理万机，就让我来会会你吧！"}},
            {cmd = "Dialog", args = {"马谡", "哼。"}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "张翼", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"张翼", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "张翼"}},
            {cmd = "Dialog", args = {"张翼", "曹操！"}},
            {cmd = "Dialog", args = {"曹操", "嗯！"}},
            {
                {cmd = "PkPrepare", args = {"曹操", "张翼"}},
                {cmd = "PkGeneralShow", args = {true, "拿命来吧！", "攻击"}},
                {cmd = "PkGeneralShow", args = {false, "休想！", "防御"}},
                {cmd = "PkGeneralAction", args = {true, "前移"}},
                {cmd = "PkGeneralAttack2", args = {true, "格挡", true}},
                {cmd = "PkGeneralAttack", args = {false, "移动攻击", true}},
                {cmd = "Delay", args = {15}},
                {cmd = "PkShowDialog", args = {true, "哇啊！", true}},
                {cmd = "PkGeneralAction", args = {true, "晕倒"}},
                {cmd = "PkGeneralDie", args = {true}},
                {cmd = "PkOver"},
            },
            {cmd = "VarSet", args = {"Var56", true}},
            {cmd = "GeneralRetreat", args = {"张翼", true}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var33", "Var54", "Var55"}}}},
                {cmd = "ChoiceDialog", args = {"曹操", {"真是千钧一发。", "无名小卒快滚开吧！"}}},
                {
                    {cmd = "Dialog", args = {"曹操", "我一定要阻止孔明。"}},
                    {cmd = "Dialog", args = {"曹操", "绝不能死在这个地方。"}},
                    {cmd = "FaceToFace", args = {"张嶷", "曹操"}},
                    {cmd = "Dialog", args = {"张嶷", "张翼………"}},
                    {cmd = "Dialog", args = {"张嶷", "我会为你报仇的……"}},
                },
                {
                    {cmd = "Dialog", args = {"曹操", "除了孔明以外，我不想找你们麻烦！"}},
                    {cmd = "Dialog", args = {"曹操", "如果胆敢阻碍我大军，定斩不饶！"}},
                    {cmd = "FaceToFace", args = {"魏延", "曹操"}},
                    {cmd = "Dialog", args = {"魏延", "你以为杀得了我魏延吗？"}},
                    {cmd = "Dialog", args = {"魏延", "太猖狂了！"}},
                    {cmd = "FaceToFace", args = {"张嶷", "曹操"}},
                    {cmd = "GeneralAction", args = {"张嶷", "prepareAttack"}},
                    {cmd = "Dialog", args = {"张嶷", "张翼，我来替你报仇！"}},
                    {cmd = "Dialog", args = {"张嶷", "打开城门！"}},
                    {cmd = "GeneralAction", args = {"张嶷", "stand"}},
                    {cmd = "FaceToFace", args = {"魏延", "张嶷"}},
                    {cmd = "GeneralAction", args = {"魏延", "dizzy"}},
                    {cmd = "Dialog", args = {"魏延", "喂！？"}},
                    {cmd = "Dialog", args = {"魏延", "快回来！"}},
                    {cmd = "AddObstacle", args = {"Gate-151", false, "城内", 14, 12}},
                    {cmd = "AddObstacle", args = {"Gate-153", false, "城内", 15, 12}},
                    {cmd = "FaceToFace", args = {"魏延", "曹操"}},
                    {cmd = "Dialog", args = {"魏延", "没办法了。"}},
                    {cmd = "Dialog", args = {"魏延", "我去宰了那曹操！"}},
                    {
                        {cmd = "GeneralAiChange", args = {"炮兵1", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵2", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵3", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵4", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵5", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵6", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵7", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"魏延", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"骑兵1", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"骑兵2", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"张嶷", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"武术家1", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"武术家2", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"弓兵1", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"弓兵2", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"弓兵3", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"弓兵4", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"步兵2", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"步兵3", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"步兵4", "主动出击", "无", 1, 1}},
                    },
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                        {cmd = "FaceToFace", args = {"马岱", "张嶷"}},
                        {cmd = "Dialog", args = {"马岱", "为什么开城应战！"}},
                        {cmd = "Dialog", args = {"马岱", "怎么如此愚蠢……"}},
                    },
                },
            },
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"关羽", "魏延", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"魏延", "关羽"}},
            {cmd = "FaceToFace", args = {"关羽", "魏延"}},
            {cmd = "Dialog", args = {"魏延", "关羽，看来你已经叛蜀降魏了。"}},
            {cmd = "Dialog", args = {"魏延", "堂堂关羽竟然是个见风使舵的人！"}},
            {cmd = "Dialog", args = {"关羽", "关某投奔魏国实在情非得已。"}},
            {cmd = "Dialog", args = {"关羽", "孔明如今已经遭到魔王附体，关某无论如何都要除掉孔明。"}},
            {cmd = "Dialog", args = {"魏延", "你一定是想隐瞒事实才编些瞎话的，不过现在已经没有必要再解释了。"}},
            {cmd = "Dialog", args = {"魏延", "让我一刀把你砍成两段吧！"}},
            {cmd = "Dialog", args = {"关羽", "看来是行不通了……"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"庞德", "马岱", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var43"}}}},
        {
            {cmd = "FaceToFace", args = {"马岱", "庞德"}},
            {cmd = "FaceToFace", args = {"庞德", "马岱"}},
            {cmd = "Dialog", args = {"马岱", "庞德，你为何投奔魏国？"}},
            {cmd = "Dialog", args = {"马岱", "难道忘记曹操杀主之仇了吗。"}},
            {cmd = "Dialog", args = {"庞德", "马岱将军，曹丞相并非循私而为，完全是为天下着想的。"}},
            {cmd = "Dialog", args = {"庞德", "为了打倒企图祸害人间的魔王孔明，丞相如今更是不顾一切挺身而战，凡是有志之士应该追随丞相才是。"}},
            {cmd = "Dialog", args = {"马岱", "我以为你会有什么别的好理由的，谁知你竟然相信诓骗孩童的话语投魏，庞德啊庞德，你实在应该感到可耻。"}},
            {cmd = "Dialog", args = {"马岱", "我们既已恩断义绝，从今天起毫不相干。"}},
            {cmd = "Dialog", args = {"马岱", "身为蜀将的我只有杀了身为魏将的你！"}},
            {cmd = "VarSet", args = {"Var43", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"诸葛亮", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "Dialog", args = {"诸葛亮", "唔唔！竟然攻到此地！？"}},
            {cmd = "Dialog", args = {"诸葛亮", "不过如今大功告成，曹操还是迟来一步。"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                {cmd = "FaceToFace", args = {"诸葛亮", "马谡"}},
                {cmd = "Dialog", args = {"诸葛亮", "马谡，后面的事就交给你了！"}},
                {cmd = "Dialog", args = {"诸葛亮", "利用剑阁和阳平关阻挡敌军！"}},
                {cmd = "FaceToFace", args = {"马谡", "诸葛亮"}},
                {cmd = "Dialog", args = {"马谡", "交给我吧。"}},
                {cmd = "Dialog", args = {"马谡", "我马谡绝不会失手的。"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"诸葛亮", "姜维"}},
                {cmd = "Dialog", args = {"诸葛亮", "走吧，姜维。"}},
                {cmd = "Dialog", args = {"诸葛亮", "已不必留在此地了。"}},
                {cmd = "FaceToFace", args = {"姜维", "诸葛亮"}},
                {cmd = "Dialog", args = {"姜维", "是，孔明先生！"}},
                {cmd = "RoleDisappear", args = {"姜维"}},
            },
            {cmd = "GeneralRetreat", args = {"诸葛亮", false}},
            {cmd = "VarSet", args = {"Var50", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"姜维", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"姜维", "我还有事要办。"}},
            {cmd = "Dialog", args = {"姜维", "先退兵吧。"}},
            {cmd = "GeneralRetreat", args = {"姜维", false}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"马谡", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"马谡", "若不是孔明大人有过交代，我本来还想再杀一会儿的。"}},
            {cmd = "Dialog", args = {"马谡", "没办法，只好退兵了。"}},
            {cmd = "GeneralRetreat", args = {"马谡", false}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"马岱", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"马岱", "啧，太失算了！"}},
            {cmd = "Dialog", args = {"马岱", "对不起，我得先退兵了。"}},
            {cmd = "GeneralRetreat", args = {"马岱", false}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"魏延", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
        {
            {cmd = "Dialog", args = {"魏延", "这下不妙了。"}},
            {cmd = "Dialog", args = {"魏延", "暂时先退兵！"}},
            {cmd = "GeneralRetreat", args = {"魏延", false}},
            {cmd = "VarSet", args = {"Var54", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张嶷", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
        {
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var56"}}}},
                {cmd = "Dialog", args = {"张嶷", "对、对不起…张翼……"}},
                {cmd = "Dialog", args = {"张嶷", "你的仇还没报，我就要死了……"}},
                {cmd = "Dialog", args = {"张嶷", "原、原谅我……唔呃！"}},
            },
            {
                {cmd = "Else"},
                {cmd = "Dialog", args = {"张嶷", "哇啊！"}},
                {cmd = "Dialog", args = {"张嶷", "曹、曹操……"}},
                {cmd = "Dialog", args = {"张嶷", "我先到阴间等你了………"}},
            },
            {cmd = "GeneralRetreat", args = {"张嶷", true}},
            {cmd = "VarSet", args = {"Var55", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张翼", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
        {
            {cmd = "Dialog", args = {"张翼", "曹、曹操！"}},
            {cmd = "Dialog", args = {"张翼", "唔、唔呃……"}},
            {cmd = "FaceToFace", args = {"曹操", "张翼"}},
            {cmd = "GeneralRetreat", args = {"张翼", true}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var33", "Var54", "Var55"}}}},
                {cmd = "ChoiceDialog", args = {"曹操", {"…………", "别理那些喽啰！"}}},
                {
                    {cmd = "Dialog", args = {"曹操", "不愧是蜀将。"}},
                    {cmd = "Dialog", args = {"曹操", "个个都不怕死！"}},
                    {cmd = "FaceToFace", args = {"张嶷", "曹操"}},
                    {cmd = "Dialog", args = {"张嶷", "张翼………"}},
                    {cmd = "Dialog", args = {"张嶷", "我会为你报仇的……"}},
                },
                {
                    {cmd = "Dialog", args = {"曹操", "除了孔明以外，我不想找你们麻烦！"}},
                    {cmd = "Dialog", args = {"曹操", "如果胆敢阻碍我大军，定斩不饶！"}},
                    {cmd = "FaceToFace", args = {"魏延", "曹操"}},
                    {cmd = "Dialog", args = {"魏延", "你以为杀得了我魏延吗？"}},
                    {cmd = "Dialog", args = {"魏延", "太猖狂了！"}},
                    {cmd = "FaceToFace", args = {"张嶷", "曹操"}},
                    {cmd = "GeneralAction", args = {"张嶷", "prepareAttack"}},
                    {cmd = "Dialog", args = {"张嶷", "张翼，我来替你报仇！"}},
                    {cmd = "Dialog", args = {"张嶷", "打开城门！"}},
                    {cmd = "GeneralAction", args = {"张嶷", "stand"}},
                    {cmd = "FaceToFace", args = {"魏延", "张嶷"}},
                    {cmd = "GeneralAction", args = {"魏延", "dizzy"}},
                    {cmd = "Dialog", args = {"魏延", "喂！？"}},
                    {cmd = "Dialog", args = {"魏延", "快回来！"}},
                    {cmd = "AddObstacle", args = {"Gate-151", false, "城内", 14, 12}},
                    {cmd = "AddObstacle", args = {"Gate-153", false, "城内", 15, 12}},
                    {cmd = "FaceToFace", args = {"魏延", "曹操"}},
                    {cmd = "Dialog", args = {"魏延", "没办法了。"}},
                    {cmd = "Dialog", args = {"魏延", "我去宰了曹操！"}},
                    {
                        {cmd = "GeneralAiChange", args = {"炮兵1", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵2", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵3", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵4", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵5", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵6", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"炮兵7", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"魏延", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"骑兵1", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"骑兵2", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"张嶷", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"武术家1", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"武术家2", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"弓兵1", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"弓兵2", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"弓兵3", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"弓兵4", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"步兵2", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"步兵3", "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAiChange", args = {"步兵4", "主动出击", "无", 1, 1}},
                    },
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                        {cmd = "FaceToFace", args = {"马岱", "张嶷"}},
                        {cmd = "Dialog", args = {"马岱", "为什么开城应战！"}},
                        {cmd = "Dialog", args = {"马岱", "怎么如此愚蠢……"}},
                    },
                },
            },
            {cmd = "VarSet", args = {"Var56", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"马良", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
        {
            {cmd = "Dialog", args = {"马良", "哇啊！"}},
            {cmd = "GeneralRetreat", args = {"马良", true}},
            {cmd = "RoleDisappear", args = {"木人1"}},
            {cmd = "RoleDisappear", args = {"木人2"}},
            {cmd = "RoleDisappear", args = {"木人3"}},
            {cmd = "RoleDisappear", args = {"木人4"}},
            {cmd = "VarSet", args = {"Var57", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "原来孔明曾在此地祈祷？"}},
            {cmd = "Dialog", args = {"曹操", "想不到白帝城内还设了祭坛……"}},
            {cmd = "Dialog", args = {"曹操", "还有两个祭坛，一定要设法阻止！"}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var50"}}}},
                {cmd = "BattleExtraItems", args = {0, "朱雀宝玉", 0, "白羽扇", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "朱雀宝玉", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var642", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操被蜀军击败。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
