local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "樊城救援战",
    maxRounds    = 20,
    mapId        = "38.tmx",
    weatherStart = {"阴", "晴", "雨", "阴", "雪"},
    weatherType  = {"雨"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    enemyGeneralList = {
        {uid = "王甫", aiType = "被动出击", levelAdd = 2},
        {uid = "关兴", aiType = "被动出击", levelAdd = 4},
        {uid = "马良", aiType = "被动出击", levelAdd = 4},
        {uid = "伊籍", aiType = "被动出击", levelAdd = 2},
        {uid = "骑兵1", aiType = "被动出击"},
        {uid = "骑兵2", aiType = "被动出击"},
        {uid = "弓骑兵1", aiType = "被动出击"},
        {uid = "步兵1", aiType = "被动出击"},
        {uid = "步兵2", aiType = "被动出击"},
        {uid = "步兵3", aiType = "被动出击"},
        {uid = "步兵4", aiType = "被动出击"},
        {uid = "弓兵1", aiType = "被动出击"},
        {uid = "弓兵2", aiType = "被动出击"},
        {uid = "炮兵1", aiType = "被动出击"},
        {uid = "关索", aiType = "坚守原地", levelAdd = 4},
        {uid = "廖化", aiType = "坚守原地", levelAdd = 2},
        {uid = "骑兵3", aiType = "被动出击"},
        {uid = "骑兵4", aiType = "被动出击"},
        {uid = "弓骑兵2", aiType = "被动出击"},
        {uid = "驯虎师1", aiType = "被动出击"},
        {uid = "驯虎师2", aiType = "被动出击"},
        {uid = "驯熊师1", aiType = "被动出击"},
        {uid = "步兵5", aiType = "坚守原地", isHide = true},
        {uid = "步兵6", aiType = "坚守原地", isHide = true},
        {uid = "步兵7", aiType = "坚守原地", isHide = true},
        {uid = "步兵8", aiType = "被动出击"},
        {uid = "步兵9", aiType = "被动出击"},
        {uid = "弓兵3", aiType = "被动出击"},
        {uid = "弓兵4", aiType = "被动出击"},
        {uid = "关羽", aiType = "主动出击", levelAdd = 4},
        {uid = "关平", aiType = "主动出击", levelAdd = 4},
        {uid = "周仓", aiType = "主动出击", levelAdd = 4},
        {uid = "步兵10", aiType = "主动出击"},
        {uid = "步兵11", aiType = "主动出击"},
        {uid = "步兵12", aiType = "主动出击"},
        {uid = "步兵13", aiType = "主动出击"},
        {uid = "步兵14", aiType = "主动出击"},
        {uid = "弓兵5", aiType = "主动出击", isHide = true},
        {uid = "弓兵6", aiType = "主动出击", isHide = true},
        {uid = "弓兵7", aiType = "主动出击"},
        {uid = "弓兵8", aiType = "主动出击"},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"关羽", "青龙偃月刀", 0, "默认装备", 0, "赤兔马"}},
        {cmd = "GeneralEquipsSet", args = {"王甫", "默认装备", 0, "默认装备", 0, "铁盔"}},
    },
    {cmd = "PlayMusic", args = {"Track4"}},
    {
        {cmd = "FaceToFace", args = {"王甫", "曹仁"}},
        {cmd = "Dialog", args = {"王甫", "算来粮食已经耗尽，为何樊城守将还在苦苦坚持？"}},
        {cmd = "Dialog", args = {"王甫", "这么一来，曹操援军就要到了。"}},
        {cmd = "Dialog", args = {"王甫", "如果不赶快攻下的话……"}},
        {cmd = "HighlightRange", args = {18, 14, 18, 14, true}},
        {cmd = "FaceToFace", args = {"伊籍", "王甫"}},
        {cmd = "Dialog", args = {"伊籍", "王将军不用担心。"}},
        {cmd = "Dialog", args = {"伊籍", "眼前樊城被包围得滴水不漏，攻陷此城只是时间的问题，况且曹操的援军也没那么容易接近此地。"}},
        {cmd = "FaceToFace", args = {"关兴", "伊籍"}},
        {cmd = "Dialog", args = {"关兴", "话虽如此，没有曹操的援军当然最为理想。"}},
        {cmd = "Dialog", args = {"关兴", "所以还是尽早发动全面攻击得好。"}},
        {cmd = "FaceToFace", args = {"马良", "关兴"}},
        {cmd = "Dialog", args = {"马良", "如果援军在总攻击之际抵达，我军便会有遭到夹击之险。"}},
        {cmd = "Dialog", args = {"马良", "为了防备援军的进攻，还是维持现在的布阵方为上策。"}},
        {cmd = "Dialog", args = {"马良", "不论如何，只要切断援军的路线，专心攻打樊城的话，那么胜利就是我们的了。"}},
        {cmd = "GeneralChangeDirection", args = {"王甫", "up"}},
        {cmd = "GeneralChangeDirection", args = {"伊籍", "up"}},
        {cmd = "GeneralChangeDirection", args = {"关兴", "up"}},
        {cmd = "GeneralChangeDirection", args = {"马良", "up"}},
        {cmd = "GeneralChangeDirection", args = {"曹仁", "up"}},
        {cmd = "GeneralChangeDirection", args = {"曹仁", "left"}},
        {cmd = "GeneralChangeDirection", args = {"曹仁", "down"}},
        {cmd = "GeneralAction", args = {"曹仁", "weak"}},
        {cmd = "Dialog", args = {"曹仁", "樊城被包围得水泄不通，周围的形势也无法得知，难道已经无计可施了吗……"}},
        {cmd = "FaceToFace", args = {"满宠", "曹仁"}},
        {cmd = "Dialog", args = {"满宠", "主公的援军可能随时会赶到，如果现在万念俱灰的话就完了。"}},
        {cmd = "Dialog", args = {"满宠", "请将军坚持下去吧！"}},
        {cmd = "FaceToFace", args = {"庞德", "关平"}},
        {cmd = "Dialog", args = {"庞德", "唔唔，没想对方会利用水攻。"}},
        {cmd = "Dialog", args = {"庞德", "再不快想办法就糟了！"}},
        {cmd = "Dialog", args = {"庞德", "不知曹仁将军是否平安……"}},
        {cmd = "FaceToFace", args = {"关平", "关羽"}},
        {cmd = "Dialog", args = {"关平", "父亲！拦水淹城之计成功了。"}},
        {cmd = "Dialog", args = {"关平", "真的是太好了！"}},
        {cmd = "FaceToFace", args = {"关羽", "关平"}},
        {cmd = "Dialog", args = {"关羽", "嗯，接着就只剩攻打曹军了。"}},
        {cmd = "FaceToFace", args = {"于禁", "周仓"}},
        {cmd = "GeneralAction", args = {"于禁", "defense"}},
        {cmd = "Dialog", args = {"于禁", "麻、麻烦大了！"}},
        {cmd = "Dialog", args = {"于禁", "这样下去会被各个击破的。"}},
        {cmd = "Dialog", args = {"于禁", "如果不能突破敌军包围的话……"}},
        {cmd = "FaceToFace", args = {"周仓", "庞德"}},
        {cmd = "GeneralAction", args = {"周仓", "prepareAttack"}},
        {cmd = "Dialog", args = {"周仓", "庞德！你竟然忘了故主的恩德，投靠了仇敌，真是一条忘恩负义的走狗！"}},
        {cmd = "GeneralAction", args = {"周仓", "stand"}},
        {cmd = "FaceToFace", args = {"庞德", "周仓"}},
        {cmd = "Dialog", args = {"庞德", "嗯！"}},
        {cmd = "Dialog", args = {"周仓", "你没有身为武士的自豪！"}},
        {cmd = "Dialog", args = {"周仓", "死后有何面目去见马腾将军！"}},
        {cmd = "Dialog", args = {"庞德", "嗯嗯嗯！"}},
        {cmd = "FaceToFace", args = {"于禁", "庞德"}},
        {cmd = "Dialog", args = {"于禁", "庞德大人，你不要激动！"}},
        {cmd = "Dialog", args = {"于禁", "是计谋！"}},
        {cmd = "GeneralAction", args = {"周仓", "attack"}},
        {cmd = "Dialog", args = {"周仓", "想不想跟我周仓较量？"}},
        {cmd = "Dialog", args = {"周仓", "哼！我看谅你也不敢吧？"}},
        {cmd = "Dialog", args = {"周仓", "你这个胆小的叛徒！"}},
        {cmd = "GeneralAction", args = {"周仓", "stand"}},
        {cmd = "GeneralAction", args = {"庞德", "defense"}},
        {cmd = "Dialog", args = {"庞德", "好！"}},
        {cmd = "Dialog", args = {"庞德", "你把脑袋洗干净等我来吧！"}},
        {cmd = "GeneralAction", args = {"于禁", "weak"}},
        {cmd = "Dialog", args = {"于禁", "（糟了！已经到了不可收拾的地步……\n可恶的周仓到底打什么主意……\n我总有一种不祥的预感……）"}},
        {
            {cmd = "PlayerGeneralShow", args = {0}},
            {cmd = "PlayerGeneralShow", args = {9}},
            {cmd = "PlayerGeneralShow", args = {10}},
            {cmd = "PlayerGeneralShow", args = {11}},
            {cmd = "PlayerGeneralShow", args = {12}},
            {cmd = "PlayerGeneralShow", args = {13}},
            {cmd = "PlayerGeneralShow", args = {14}},
        },
        {cmd = "GeneralChangeDirection", args = {"关索", "down"}},
        {cmd = "GeneralAction", args = {"关索", "raiseWuqi"}},
        {cmd = "Dialog", args = {"关索", "曹操，你的恶行就到此结束了。"}},
        {cmd = "Dialog", args = {"关索", "我关索今天就要你的脑袋！"}},
        {cmd = "FaceToFace", args = {"廖化", "曹操"}},
        {cmd = "Dialog", args = {"廖化", "曹操来了！"}},
        {cmd = "Dialog", args = {"廖化", "我不会让你通过这里的！"}},
        {cmd = "FaceToFace", args = {"曹操", "廖化"}},
        {cmd = "Dialog", args = {"曹操", "竟然被包围得毫无退路？"}},
        {cmd = "Dialog", args = {"曹操", "看来不容易突破对方的包围了。"}},
        {cmd = "Dialog", args = {"曹操", "嗯嗯嗯。"}},
    },
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、歼灭所有敌军。\n\n失败条件\n一、曹操死亡。\n二、樊城失陷。\n三、回合数超过20。"}},
    {cmd = "ShowBattleWinCondition", args = {"歼灭所有敌军！"}},
    {cmd = "VarSet", args = {"Var538", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "RoundsTest", args = {20, "="}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var2", "Var7", "Var11"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"士兵06", "主、主公！"}},
            {cmd = "Dialog", args = {"士兵06", "樊城的居民因为缺粮，已经发起暴动投降敌军了。"}},
            {cmd = "Dialog", args = {"曹操", "是、是吗……？"}},
            {cmd = "Dialog", args = {"曹操", "还是没来及救援？"}},
            {cmd = "VarSet", args = {"Var11", true}},
            {cmd = "Tip", args = {"曹操被刘备军打败。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 15, 30}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AddItem", args = {"恢复用桃", 0}},
            {cmd = "VarSet", args = {"Var20", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 14, 30}},
        {cmd = "VarTest", args = {{falseConditions = {"Var21"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var21", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 8, 14}},
        {cmd = "VarTest", args = {{falseConditions = {"Var22"}}}},
        {
            {cmd = "AddItem", args = {"恢复用桃", 0}},
            {cmd = "VarSet", args = {"Var22", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 8, 11}},
        {cmd = "VarTest", args = {{falseConditions = {"Var23"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var23", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 8, 17}},
        {cmd = "VarTest", args = {{falseConditions = {"Var24"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var24", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"enemy"}, 18, 14}},
        {cmd = "VarTest", args = {{falseConditions = {"Var2", "Var25"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "完了！樊城失陷了。"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
                {cmd = "Dialog", args = {"王甫", "呼！"}},
                {cmd = "Dialog", args = {"王甫", "总算攻下了樊城。"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                {cmd = "FaceToFace", args = {"关兴", "曹操"}},
                {cmd = "Dialog", args = {"关兴", "曹操，你的死期到了！"}},
                {cmd = "Dialog", args = {"关兴", "乖乖地受死吧！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
                {cmd = "Dialog", args = {"马良", "如今曹操已经孤立无援，这场胜利必定是属于我们的。"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
                {cmd = "Dialog", args = {"伊籍", "只要再收拾曹操的援军，这场战斗就结束了。"}},
            },
            {cmd = "VarSet", args = {"Var25", true}},
            {cmd = "Tip", args = {"曹操在刘备军前大败而归。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"player"}, 3, ">=", "指定区域", 9, 11, 24, 32}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var6", "Var7", "Var55"}}}},
        {
            {cmd = "Dialog", args = {"王甫", "唔唔唔，包围阵势快被瓦解了。"}},
            {cmd = "Dialog", args = {"王甫", "看来只有动员主力去攻打樊城！"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                {cmd = "Dialog", args = {"关兴", "快啊！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
                {cmd = "Dialog", args = {"马良", "没办法了。"}},
                {cmd = "Dialog", args = {"马良", "全军进攻吧！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
                {cmd = "Dialog", args = {"伊籍", "如不能一鼓作气攻下樊城，我们的处境就危险了。"}},
                {cmd = "Dialog", args = {"伊籍", "快呀！"}},
            },
            {cmd = "Dialog", args = {"曹操", "敌军的主力开始行动了，这样下去很难守住樊城，该如何是好？"}},
            {cmd = "ChoiceDialog", args = {"曹操", {"死守樊城", "弃守樊城"}}},
            {
                {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
                {cmd = "Dialog", args = {"曹操", "总有办法可想的！"}},
                {cmd = "Dialog", args = {"曹操", "不论如何也要守住樊城！"}},
                {cmd = "Dialog", args = {"曹操", "快！别让敌军靠近樊城！"}},
                {cmd = "GeneralAction", args = {"曹操", "stand"}},
                {cmd = "GeneralAiChange", args = {"伊籍", "到指定点", "无", 18, 14}},
                {cmd = "GeneralAiChange", args = {"马良", "到指定点", "无", 18, 14}},
                {cmd = "GeneralAiChange", args = {"关兴", "到指定点", "无", 18, 14}},
                {cmd = "GeneralAiChange", args = {"骑兵1", "到指定点", "无", 18, 14}},
                {cmd = "GeneralAiChange", args = {"骑兵2", "到指定点", "无", 18, 14}},
                {cmd = "GeneralAiChange", args = {"弓骑兵1", "到指定点", "无", 18, 14}},
                {cmd = "GeneralAiChange", args = {"步兵1", "到指定点", "无", 18, 14}},
                {cmd = "GeneralAiChange", args = {"步兵2", "到指定点", "无", 18, 14}},
                {cmd = "GeneralAiChange", args = {"步兵3", "到指定点", "无", 18, 14}},
                {cmd = "GeneralAiChange", args = {"步兵4", "到指定点", "无", 18, 14}},
                {cmd = "GeneralAiChange", args = {"弓兵1", "到指定点", "无", 18, 14}},
                {cmd = "GeneralAiChange", args = {"弓兵2", "到指定点", "无", 18, 14}},
            },
            {
                {cmd = "FaceToFace", args = {"曹操", "王甫"}},
                {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
                {cmd = "Dialog", args = {"曹操", "没办法了，还是放弃樊城吧！"}},
                {cmd = "Dialog", args = {"曹操", "等消灭敌人之后，再夺回来就行了。"}},
                {cmd = "Dialog", args = {"曹操", "现在可不能因小失大！"}},
                {cmd = "GeneralAction", args = {"曹操", "stand"}},
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                    {cmd = "FaceToFace", args = {"关兴", "曹操"}},
                    {cmd = "GeneralAction", args = {"关兴", "prepareAttack"}},
                    {cmd = "Dialog", args = {"关兴", "嗯？放弃樊城了吗！？"}},
                    {cmd = "Dialog", args = {"关兴", "好，形势对我们十分有利，一鼓作气，打垮曹军吧！"}},
                    {cmd = "GeneralAction", args = {"关兴", "stand"}},
                },
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
                    {cmd = "FaceToFace", args = {"马良", "曹操"}},
                    {cmd = "GeneralAction", args = {"马良", "prepareAttack"}},
                    {cmd = "Dialog", args = {"马良", "没想到竟然放弃了樊城，想必曹操心中也很困扰吧？"}},
                    {cmd = "Dialog", args = {"马良", "现在正是攻打曹操的好时机啊！"}},
                    {cmd = "GeneralAction", args = {"马良", "stand"}},
                },
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
                    {cmd = "FaceToFace", args = {"伊籍", "曹操"}},
                    {cmd = "GeneralAction", args = {"伊籍", "dizzy"}},
                    {cmd = "Dialog", args = {"伊籍", "什么？放弃樊城？"}},
                    {cmd = "Dialog", args = {"伊籍", "看来曹操就快完了。"}},
                    {cmd = "Dialog", args = {"伊籍", "再加把劲吧！"}},
                },
                {cmd = "RangeGeneralsStatusChange", args = {{"enemy"}, 1, 1, 24, 32, "攻击力", "上升", "无", 0, 0}},
                {cmd = "Dialog", args = {"曹操", "让他们得势了。"}},
                {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 24, 32, "攻击武将", "曹操", 1, 1}},
                {cmd = "RoundsSet", args = {30}},
                {cmd = "BattleWinCondition", args = {"胜利条件\n一、歼灭所有敌军。\n\n失败条件\n一、曹操死亡。\n二、回合数超过30。"}},
                {cmd = "ShowBattleWinCondition", args = {"歼灭所有敌军！"}},
                {cmd = "VarSet", args = {"Var2", true}},
            },
            {cmd = "VarSet", args = {"Var6", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 14, "<", "整个战场", 1, 1, 1, 1}},
        {cmd = "GeneralCountsTest", args = {{"player"}, 8, ">=", "整个战场", 1, 1, 1, 1}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var2", "Var7", "Var55"}}}},
        {
            {cmd = "FaceToFace", args = {"王甫", "曹操"}},
            {cmd = "GeneralAction", args = {"王甫", "prepareAttack"}},
            {cmd = "Dialog", args = {"王甫", "糟了，形势开始恶化！"}},
            {cmd = "Dialog", args = {"王甫", "既然没能攻下樊城，更不能全军覆没。撤退！"}},
            {cmd = "GeneralAction", args = {"王甫", "stand"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                {cmd = "FaceToFace", args = {"关兴", "王甫"}},
                {cmd = "Dialog", args = {"关兴", "要我撤退！？"}},
                {cmd = "Dialog", args = {"关兴", "太让人丧气了……"}},
                {cmd = "Dialog", args = {"关兴", "唉，不得已了，撤退吧！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
                {cmd = "FaceToFace", args = {"马良", "王甫"}},
                {cmd = "Dialog", args = {"马良", "这是英明的决断。"}},
                {cmd = "Dialog", args = {"马良", "我们也撤退吧！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
                {cmd = "GeneralAction", args = {"伊籍", "prepareAttack"}},
                {cmd = "Dialog", args = {"伊籍", "快！撤退！"}},
                {cmd = "GeneralAction", args = {"伊籍", "stand"}},
            },
            {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 24, 32, "逃至指定点", "无", 18, 32}},
            {cmd = "FaceToFace", args = {"曹操", "王甫"}},
            {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
            {cmd = "Dialog", args = {"曹操", "别让他们逃了！"}},
            {cmd = "Dialog", args = {"曹操", "消灭他们，让他们别再有进攻樊城的念头！"}},
            {cmd = "GeneralAction", args = {"曹操", "stand"}},
            {cmd = "RoundsSet", args = {30}},
            {cmd = "BattleWinCondition", args = {"胜利条件\n一、歼灭所有敌军。\n\n失败条件\n一、曹操死亡。\n二、樊城失陷。\n三、回合数超过30。"}},
            {cmd = "ShowBattleWinCondition", args = {"歼灭所有敌军！"}},
            {cmd = "VarSet", args = {"Var7", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"enemy"}, 1, 30, 24, 32}},
        {cmd = "VarTest", args = {{trueConditions = {"Var7"}, falseConditions = {"Var30"}}}},
        {
            {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 30, 24, 32}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"庞德", "关羽", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"庞德", "关羽"}},
            {cmd = "FaceToFace", args = {"关羽", "庞德"}},
            {cmd = "Dialog", args = {"庞德", "决一胜负吧！"}},
            {cmd = "Dialog", args = {"关羽", "好，我就来会你一会！"}},
            {
                {cmd = "PkPrepare", args = {"庞德", "关羽"}},
                {cmd = "PkGeneralShow", args = {false, "我乃庞德，字令明。", "防御"}},
                {cmd = "PkGeneralShow", args = {true, "我乃关羽，字云长！\n庞德看刀！", "攻击"}},
                {cmd = "PkShowStart"},
                {cmd = "PkGeneralAction", args = {true, "前移"}},
                {cmd = "PkGeneralAttack2", args = {true, "格挡", true}},
                {cmd = "PkGeneralAttack2", args = {false, "格挡", true}},
                {cmd = "PkGeneralAttack2", args = {true, "格挡", true}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {false, "后退", false}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAttack2", args = {false, "闪躲绕前", true}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {false, "闪躲绕前", true}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkGeneralAttack2", args = {true, "格档后退", false}},
                {cmd = "Delay", args = {15}},
                {cmd = "PkGeneralAction", args = {false, "无"}},
                {cmd = "PkShowDialog", args = {false, "（有意思。鼓动了我身为武将一腔热血！\n……不过现在我的心思在樊城上。\n不能再跟你恋战……）", true}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkShowDialog", args = {false, "没办法了。\n到此为止吧！", true}},
                {cmd = "PkGeneralAction", args = {false, "小步前移"}},
                {cmd = "PkGeneralAction", args = {true, "小步前移"}},
                {cmd = "PkShowDialog", args = {true, "大战方酣之际，\n为何不战而逃？\n庞德休走！", true}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkShowDialog", args = {false, "如今两军尚在鏖战之中，\n怎能为了你一人耽搁大事！", true}},
                {cmd = "PkGeneralAction", args = {true, "攻击"}},
                {cmd = "PkShowDialog", args = {true, "关某也如此想法。\n不过阁下无视胜负，\n我关羽无法熟视无睹！", true}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkGeneralAction", args = {false, "小步前移"}},
                {cmd = "PkGeneralAction", args = {true, "小步前移"}},
                {cmd = "PkShowDialog", args = {false, "（一定要甩掉这厮……\n我要救樊城……樊城等着我……）", true}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkShowDialog", args = {false, "噢，原谅我这回吧！", true}},
                {cmd = "PkGeneralAttack2", args = {false, "命中", true}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkGeneralAction", args = {true, "晕倒"}},
                {cmd = "PkShowDialog", args = {true, "哎呀，唔，糟了！\n中了毒箭……", true}},
                {cmd = "PkGeneralAction", args = {false, "攻击预备"}},
                {cmd = "PkShowDialog", args = {false, "好在不是致命伤，\n还是趁毒液还没流遍全身，\n赶紧离开战场吧！", true}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAction", args = {false, "撤退"}},
                {cmd = "PkGeneralAction", args = {true, "小步前移"}},
                {cmd = "PkShowDialog", args = {true, "别跑……唔啊！", false}},
                {cmd = "PkGeneralAction", args = {true, "喘气"}},
                {cmd = "PkShowDialog", args = {true, "嗄、嗄……\n想不到我关羽居然会………\n太失策了！", true}},
                {cmd = "PkOver"},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"关平", "关羽"}},
                {cmd = "Dialog", args = {"关平", "父、父亲！！"}},
            },
            {cmd = "Dialog", args = {"关羽", "没办法了，暂时撤退！"}},
            {cmd = "RoleDisappear", args = {"关羽"}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"庞德", "周仓", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"周仓", "庞德"}},
            {cmd = "FaceToFace", args = {"庞德", "周仓"}},
            {cmd = "Dialog", args = {"周仓", "来呀，较量较量吧，庞德！"}},
            {cmd = "Dialog", args = {"庞德", "我正有此意！"}},
            {
                {cmd = "PkPrepare", args = {"庞德", "周仓"}},
                {cmd = "PkGeneralShow", args = {true, "看来你还有点武将的样子。\n我周仓就来会会你吧！", "攻击"}},
                {cmd = "PkGeneralShow", args = {false, "别客气！\n有本事尽管来吧！", "防御"}},
                {cmd = "PkShowStart"},
                {cmd = "PkGeneralAction", args = {true, "前移"}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {false, "闪躲绕前", false}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {false, "闪躲绕前", false}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {false, "格档后退", false}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkGeneralAction", args = {true, "小步后退"}},
                {cmd = "PkGeneralAction", args = {true, "小步后退"}},
                {cmd = "PkGeneralAction", args = {true, "小步后退"}},
                {cmd = "PkShowDialog", args = {true, "（好厉害的家伙……\n既然如此也没办法了。\n原本不打算这么做的……）", true}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkGeneralAction", args = {true, "攻击预备"}},
                {cmd = "PkShowDialog", args = {true, "哈哈哈！\n庞德，太遗憾了！\n樊城刚刚被攻下了！", true}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkShowDialog", args = {false, "嗯嗯！\n曹仁将军！", true}},
                {cmd = "PkGeneralAttack", args = {true, "移动攻击", true}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkGeneralAction", args = {false, "晕倒"}},
                {cmd = "PkShowDialog", args = {false, "唔唔……\n糟了……", true}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkGeneralAction", args = {true, "无"}},
                {cmd = "PkShowDialog", args = {true, "怎么样？\n想不想跟随我刘备主公？\n那么我还可以饶你一命。", true}},
                {cmd = "PkShowDialog", args = {true, "马超将军目前也在蜀军阵中，\n还是归降我军吧。", true}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {false, "格档后退", false}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkGeneralAction", args = {false, "喘气"}},
                {cmd = "PkShowDialog", args = {false, "我、我的主公只有曹丞相一人，\n废话少说！", true}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkGeneralAction", args = {true, "无"}},
                {cmd = "PkShowDialog", args = {true, "你可以嘲笑我的手段卑鄙，\n不过难道你真的这么想死吗？", true}},
                {cmd = "PkShowDialog", args = {false, "我、我们既然身为武将，\n为了遵奉主公的命令，\n有时也不得不使用卑鄙的手段。", true}},
                {cmd = "PkShowDialog", args = {false, "来吧，多说无益。\n我已经准备受死了。", true}},
                {cmd = "PkShowDialog", args = {true, "还有什么遗言吗……？", true}},
                {cmd = "PkShowDialog", args = {false, "我没什么好说的……\n只是未能遵守与丞相的诺言……\n心中感到遗憾……", true}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkGeneralAction", args = {true, "攻击预备"}},
                {cmd = "PkShowDialog", args = {true, "拿命来吧！", true}},
                {cmd = "PkGeneralAction", args = {true, "前移"}},
                {cmd = "PkGeneralAttack", args = {true, "移动攻击", true}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkGeneralAction", args = {false, "晕倒"}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkShowDialog", args = {false, "唉，曹丞相……\n末将先走一步了……", true}},
                {cmd = "PkGeneralDie", args = {false}},
                {cmd = "PkGeneralAction", args = {true, "后转"}},
                {cmd = "PkShowDialog", args = {true, "原谅我对一个真正的武将，\n有失礼之处，\n只好日后在九泉下向你谢罪了。", true}},
                {cmd = "PkOver"},
            },
            {cmd = "ShowPlayerRetreatWords", args = {"庞德", false}},
            {cmd = "GeneralRetreat", args = {"庞德", true}},
            {cmd = "VarSet", args = {"Var738", true}},
            {cmd = "FaceToFace", args = {"曹操", "周仓"}},
            {cmd = "GeneralAction", args = {"曹操", "weak"}},
            {cmd = "Dialog", args = {"曹操", "庞德啊……"}},
            {cmd = "Dialog", args = {"曹操", "为何上苍如此……"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"于禁", "周仓", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var43"}}}},
        {
            {cmd = "FaceToFace", args = {"周仓", "于禁"}},
            {cmd = "FaceToFace", args = {"于禁", "周仓"}},
            {cmd = "Dialog", args = {"周仓", "于禁，快快束手就擒吧！"}},
            {cmd = "Dialog", args = {"周仓", "你已经无路可逃了！"}},
            {cmd = "Dialog", args = {"于禁", "唔唔，怎能这样就被……"}},
            {cmd = "VarSet", args = {"Var43", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "周仓", false}},
        {cmd = "VarTest", args = {{trueConditions = {"Var42"}, falseConditions = {"Var44"}}}},
        {
            {cmd = "FaceToFace", args = {"曹操", "周仓"}},
            {cmd = "FaceToFace", args = {"周仓", "曹操"}},
            {cmd = "Dialog", args = {"周仓", "看来你就是曹操。"}},
            {cmd = "Dialog", args = {"周仓", "拿命来吧！"}},
            {cmd = "Dialog", args = {"曹操", "且慢，周仓。"}},
            {cmd = "Dialog", args = {"曹操", "杀死庞德的是你吗？"}},
            {cmd = "Dialog", args = {"周仓", "没错，是在下斩杀的。"}},
            {cmd = "Dialog", args = {"曹操", "是吗……原来庞德已死？"}},
            {cmd = "Dialog", args = {"周仓", "庞德为你尽忠直到最后一刻，他的死可说是武将的典范。"}},
            {cmd = "Dialog", args = {"曹操", "是吗？"}},
            {cmd = "Dialog", args = {"曹操", "谢谢你为庞德料理后事，我曹孟德不胜感激。"}},
            {cmd = "Dialog", args = {"周仓", "那么你准备受死了吧？"}},
            {cmd = "Dialog", args = {"曹操", "何来此言。"}},
            {cmd = "Dialog", args = {"曹操", "我既不能让庞德白死，更不能败在你的手里！"}},
            {cmd = "VarSet", args = {"Var44", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"关羽", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "Dialog", args = {"关羽", "唔唔，撤退！"}},
            {cmd = "Dialog", args = {"关羽", "荆州之地处于魏吴之间，难以防守。"}},
            {cmd = "Dialog", args = {"关羽", "此后与其在战场驰骋作战，不如致力内政，专心做好防御。"}},
            {cmd = "GeneralRetreat", args = {"关羽", false}},
            {cmd = "VarSet", args = {"Var50", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"关平", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"关平", "唔，败了。"}},
            {cmd = "Dialog", args = {"关平", "我还是武艺不精……"}},
            {cmd = "Dialog", args = {"关平", "还是先勤练武艺，直到自己心领神会，再上战场上作战吧。"}},
            {cmd = "GeneralRetreat", args = {"关平", false}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"周仓", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"周仓", "输了。"}},
            {cmd = "Dialog", args = {"周仓", "只怪自己学艺不精！"}},
            {cmd = "Dialog", args = {"周仓", "这次回去要专心守城，重新锻炼自己。"}},
            {cmd = "GeneralRetreat", args = {"周仓", false}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"关索", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"关索", "看来不得不暂且撤退了！"}},
            {cmd = "GeneralRetreat", args = {"关索", false}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"廖化", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
        {
            {cmd = "Dialog", args = {"廖化", "可恶！居然被打败了。"}},
            {cmd = "Dialog", args = {"廖化", "撤回去再卷土重来吧！"}},
            {cmd = "GeneralRetreat", args = {"廖化", false}},
            {cmd = "VarSet", args = {"Var54", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"王甫", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
        {
            {cmd = "Dialog", args = {"王甫", "唔哇！"}},
            {cmd = "Dialog", args = {"王甫", "看来我好像不太适合打仗。"}},
            {cmd = "Dialog", args = {"王甫", "还是呆在城里管理内政吧。"}},
            {cmd = "GeneralRetreat", args = {"王甫", true}},
            {cmd = "AddItem", args = {"铁盔", 0}},
            {cmd = "VarSet", args = {"Var55", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"关兴", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
        {
            {cmd = "Dialog", args = {"关兴", "唔唔，不能死在这个地方。"}},
            {cmd = "Dialog", args = {"关兴", "撤！"}},
            {cmd = "GeneralRetreat", args = {"关兴", false}},
            {cmd = "VarSet", args = {"Var56", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"马良", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
        {
            {cmd = "Dialog", args = {"马良", "糟了糟了……"}},
            {cmd = "Dialog", args = {"马良", "三十六计走为上策！"}},
            {cmd = "GeneralRetreat", args = {"马良", false}},
            {cmd = "VarSet", args = {"Var57", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"伊籍", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
        {
            {cmd = "Dialog", args = {"伊籍", "撤、撤退！"}},
            {cmd = "GeneralRetreat", args = {"伊籍", false}},
            {cmd = "VarSet", args = {"Var58", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "很好，总算把敌人消灭了！"}},
            {cmd = "Dialog", args = {"曹操", "我军胜利了！"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var2"}}}},
                {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "印绶", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var638", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操在刘备面前大败而归。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
