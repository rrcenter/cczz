local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "邺城之战",
    maxRounds    = 25,
    mapId        = "22.tmx",
    weatherStart = {"晴", "晴", "阴", "晴", "阴"},
    weatherType  = {"晴"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    friendGeneralList = {
        {uid = "审配", aiType = "坚守原地", wuqiId = "五火神焰扇", levelAdd = 4},
        {uid = "弓兵1", aiType = "被动出击"},
        {uid = "弓兵2", aiType = "被动出击"},
        {uid = "炮兵1", aiType = "被动出击"},
        {uid = "步兵1", aiType = "被动出击"},
        {uid = "步兵2", aiType = "被动出击"},
        {uid = "步兵3", aiType = "被动出击"},
        {uid = "步兵4", aiType = "被动出击"},
        {uid = "弓兵3", aiType = "被动出击"},
        {uid = "弓兵4", aiType = "被动出击"},
        {uid = "弓兵5", aiType = "被动出击"},
        {uid = "弓兵6", aiType = "被动出击"},
        {uid = "炮兵2", aiType = "被动出击"},
        {uid = "炮兵3", aiType = "被动出击"},
        {uid = "武术家1", aiType = "被动出击"},
        {uid = "武术家2", aiType = "被动出击"},
        {uid = "沮鹄", aiType = "坚守原地", levelAdd = 2},
        {uid = "步兵5", aiType = "被动出击"},
        {uid = "步兵6", aiType = "被动出击"},
        {uid = "步兵7", aiType = "坚守原地"},
        {uid = "步兵8", aiType = "坚守原地"},
        {uid = "弓兵7", aiType = "坚守原地"},
        {uid = "弓兵8", aiType = "坚守原地"},
        {uid = "弓兵9", aiType = "坚守原地"},
        {uid = "弓兵10", aiType = "坚守原地"},
        {uid = "炮兵4", aiType = "被动出击"},
        {uid = "武术家3", aiType = "被动出击"},
        {uid = "武术家4", aiType = "被动出击"},
        {uid = "袁尚", aiType = "逃至指定点", aiArgs = {fixCol = 10, fixRow = 6}, isHide = true, levelAdd = 2},
        {uid = "步兵9", aiType = "逃至指定点", aiArgs = {fixCol = 10, fixRow = 7}, isHide = true},
        {uid = "步兵10", aiType = "逃至指定点", aiArgs = {fixCol = 11, fixRow = 6}, isHide = true},
        {uid = "弓兵11", aiType = "逃至指定点", aiArgs = {fixCol = 11, fixRow = 7}, isHide = true},
        {uid = "骑兵1", aiType = "主动出击", isHide = true},
        {uid = "骑兵2", aiType = "主动出击", isHide = true},
        {uid = "骑兵3", aiType = "主动出击", isHide = true},
        {uid = "骑兵4", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵1", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵2", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵3", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵4", aiType = "主动出击", isHide = true},
    },
    enemyGeneralList = {
        {uid = "辛毗", aiType = "跟随武将", aiArgs = {fixTarget = "曹操"}, levelAdd = 2},
        {uid = "贼兵1", aiType = "主动出击", isHide = true},
        {uid = "贼兵2", aiType = "主动出击", isHide = true},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "AddObstacle", args = {"Gate-25", true, "城门", 4, 2}},
        {cmd = "AddObstacle", args = {"Gate-27", true, "城门", 4, 3}},
        {cmd = "AddObstacle", args = {"Gate-17", true, "城门", 1, 6}},
        {cmd = "AddObstacle", args = {"Gate-19", true, "城门", 2, 6}},
    },
    {cmd = "PlayMusic", args = {"Track3"}},
    {
        {cmd = "FaceToFace", args = {"沮鹄", "曹操"}},
        {cmd = "GeneralAction", args = {"沮鹄", "prepareAttack"}},
        {cmd = "Dialog", args = {"沮鹄", "曹操老贼终于来了！"}},
        {cmd = "Dialog", args = {"沮鹄", "全军准备作战，严防曹军进攻！"}},
        {cmd = "GeneralAction", args = {"沮鹄", "stand"}},
        {cmd = "FaceToFace", args = {"审配", "曹操"}},
        {cmd = "GeneralAction", args = {"审配", "defense"}},
        {cmd = "Dialog", args = {"审配", "关上城门！不可让敌人接近。"}},
        {cmd = "Dialog", args = {"审配", "袁尚主公回来之前，无论如何都要守住！"}},
        {
            {cmd = "AddObstacle", args = {"Gate-13", true, "城门", 9, 6}},
            {cmd = "AddObstacle", args = {"Gate-15", true, "城门", 9, 7}},
            {cmd = "AddObstacle", args = {"Gate-21", true, "城门", 4, 11}},
            {cmd = "AddObstacle", args = {"Gate-23", true, "城门", 5, 11}},
        },
        {cmd = "Dialog", args = {"曹操", "这座城不太好攻，有何建议？"}},
        {cmd = "FaceToFace", args = {"郭嘉", "曹操"}},
        {cmd = "Dialog", args = {"郭嘉", "首先进攻邯郸的鹿砦吧。"}},
        {cmd = "Dialog", args = {"郭嘉", "攻下此处便可消灭城外的敌人，也就可以安心地攻城了。"}},
        {cmd = "FaceToFace", args = {"辛毗", "曹操"}},
        {cmd = "Dialog", args = {"辛毗", "郭嘉先生的计策虽有道理，不过在下深知邺城的内情，倒有一计献上。"}},
        {cmd = "FaceToFace", args = {"曹操", "辛毗"}},
        {cmd = "Dialog", args = {"曹操", "哦？"}},
        {cmd = "Dialog", args = {"曹操", "好吧，你说说看。"}},
        {cmd = "Dialog", args = {"辛毗", "城内有我的亲信，可以通知他们打开城门。"}},
        {cmd = "Dialog", args = {"辛毗", "如果一举控制了城门，我们就可以自由进出，邺城也就唾手可得了。"}},
        {cmd = "Dialog", args = {"曹操", "嗯、很好……"}},
        {cmd = "GeneralChangeDirection", args = {"曹操", "up"}},
        {cmd = "GeneralChangeDirection", args = {"郭嘉", "up"}},
        {cmd = "GeneralChangeDirection", args = {"辛毗", "up"}},
    },
    {cmd = "ChoiceDialog", args = {"曹操", {"从邺城开始进攻", "从邯郸的鹿砦开始进攻"}}},
    {
        {cmd = "Dialog", args = {"曹操", "如果能设法打开城门，邺城就可以轻易攻下。"}},
        {cmd = "Dialog", args = {"曹操", "既然如此，就进攻邺城吧！"}},
        {cmd = "Dialog", args = {"郭嘉", "是，让全军准备出击吧。"}},
        {cmd = "GeneralAction", args = {"郭嘉", "deepBreath"}},
        {cmd = "Dialog", args = {"郭嘉", "咳、咳………"}},
        {cmd = "FaceToFace", args = {"曹操", "郭嘉"}},
        {cmd = "Dialog", args = {"曹操", "怎么了？郭嘉。"}},
        {cmd = "Dialog", args = {"曹操", "你不要紧吧？"}},
        {cmd = "Dialog", args = {"郭嘉", "好像有点不舒服……主公不必担心，休息一晚就好了，还是先攻城吧。"}},
        {cmd = "Dialog", args = {"曹操", "是吗？"}},
        {cmd = "Dialog", args = {"曹操", "不舒服就不必勉强作战了。"}},
        {cmd = "FaceToFace", args = {"曹操", "辛毗"}},
        {cmd = "Dialog", args = {"曹操", "辛毗，你做向导！"}},
        {cmd = "Dialog", args = {"辛毗", "请丞相放心。"}},
        {cmd = "Dialog", args = {"辛毗", "我带你们去开城门。"}},
        {cmd = "RoleMove", args = {"辛毗", "left", 12, 19}},
        {cmd = "GeneralAiChange", args = {"辛毗", "逃至指定点", "无", 4, 16}},
        {cmd = "FaceToFace", args = {"曹丕", "辛毗"}},
        {cmd = "Dialog", args = {"曹丕", "（那家伙可靠吗？父亲太轻信他了。）"}},
        {cmd = "VarSet", args = {"Var2", true}},
    },
    {
        {cmd = "Dialog", args = {"曹操", "好，先进攻邯郸的鹿砦！"}},
        {cmd = "Dialog", args = {"曹操", "解决后顾之忧。"}},
        {cmd = "Dialog", args = {"曹操", "辛毗的计策本身，虽然没什么可疑，倘若失败，便有全军覆没的危险。"}},
        {cmd = "Dialog", args = {"郭嘉", "那就让全军准备出击吧。"}},
        {cmd = "GeneralAction", args = {"郭嘉", "deepBreath"}},
        {cmd = "Dialog", args = {"郭嘉", "咳、咳……。"}},
        {cmd = "FaceToFace", args = {"曹操", "郭嘉"}},
        {cmd = "Dialog", args = {"曹操", "怎么了？郭嘉。"}},
        {cmd = "Dialog", args = {"曹操", "你不要紧吧？"}},
        {cmd = "Dialog", args = {"郭嘉", "好像有点不舒服……主公不必担心，休息一晚就好了，还是先攻城吧。"}},
        {cmd = "Dialog", args = {"曹操", "是吗？"}},
        {cmd = "Dialog", args = {"曹操", "不舒服就不要勉强作战。"}},
        {cmd = "FaceToFace", args = {"曹操", "辛毗"}},
        {cmd = "Dialog", args = {"曹操", "等攻下了邯郸，再按照辛毗的计策行动。"}},
        {cmd = "Dialog", args = {"辛毗", "是。"}},
        {cmd = "FaceToFace", args = {"曹丕", "曹操"}},
        {cmd = "Dialog", args = {"曹丕", "这是我头一次上战场，觉得好兴奋。"}},
    },
    {cmd = "PlayMusic", args = {"Track5"}},
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、歼灭所有敌军。\n\n失败条件\n一、曹操死亡。\n二、回合数超过25。"}},
    {cmd = "ShowBattleWinCondition", args = {"歼灭所有敌军！"}},
    {cmd = "VarSet", args = {"Var522", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "RoundsTest", args = {3, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var11"}}}},
        {
            {cmd = "GeneralAiChange", args = {"辛毗", "逃至指定点", "无", 4, 12}},
            {cmd = "VarSet", args = {"Var11", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 1, 3}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AddItem", args = {"恢复用桃", 0}},
            {cmd = "VarSet", args = {"Var20", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 1, 2}},
        {cmd = "VarTest", args = {{falseConditions = {"Var21"}}}},
        {
            {cmd = "AddItem", args = {"神秘水", 0}},
            {cmd = "VarSet", args = {"Var21", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 2, 2}},
        {cmd = "VarTest", args = {{falseConditions = {"Var22"}}}},
        {
            {cmd = "AddItem", args = {"恢复用豆", 0}},
            {cmd = "VarSet", args = {"Var22", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 2, 3}},
        {cmd = "VarTest", args = {{falseConditions = {"Var23"}}}},
        {
            {cmd = "AddItem", args = {"恢复用豆", 0}},
            {cmd = "VarSet", args = {"Var23", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 5, 7}},
        {cmd = "VarTest", args = {{falseConditions = {"Var24"}}}},
        {
            {cmd = "AddItem", args = {"恢复用豆", 0}},
            {cmd = "VarSet", args = {"Var24", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 7, 9}},
        {cmd = "VarTest", args = {{falseConditions = {"Var25"}}}},
        {
            {cmd = "AddItem", args = {"恢复用豆", 0}},
            {cmd = "VarSet", args = {"Var25", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 21, 2}},
        {cmd = "VarTest", args = {{falseConditions = {"Var26"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var26", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 22, 2}},
        {cmd = "VarTest", args = {{falseConditions = {"Var27"}}}},
        {
            {cmd = "AddItem", args = {"恢复用豆", 0}},
            {cmd = "VarSet", args = {"Var27", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 8, "<", "指定区域", 18, 1, 25, 5}},
        {cmd = "SideTest", args = {"我军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var6", "Var7"}}}},
        {
            {
                {cmd = "GeneralShow", args = {"袁尚"}},
                {cmd = "GeneralShow", args = {"步兵9"}},
                {cmd = "GeneralShow", args = {"步兵10"}},
                {cmd = "GeneralShow", args = {"弓兵11"}},
                {cmd = "GeneralShow", args = {"骑兵1"}},
                {cmd = "GeneralShow", args = {"骑兵2"}},
                {cmd = "GeneralShow", args = {"骑兵3"}},
                {cmd = "GeneralShow", args = {"骑兵4"}},
                {cmd = "GeneralShow", args = {"弓骑兵1"}},
                {cmd = "GeneralShow", args = {"弓骑兵2"}},
                {cmd = "GeneralShow", args = {"弓骑兵3"}},
                {cmd = "GeneralShow", args = {"弓骑兵4"}},
            },
            {cmd = "FaceToFace", args = {"袁尚", "曹操"}},
            {cmd = "Dialog", args = {"袁尚", "曹操老贼！"}},
            {cmd = "Dialog", args = {"袁尚", "居然攻到这里来了……"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var31", "Var32", "Var33"}}}},
                {cmd = "GeneralAction", args = {"袁尚", "prepareAttack"}},
                {cmd = "Dialog", args = {"袁尚", "危机迫在眉睫，趁曹操注意力在鹿砦，赶快逃进城内吧！"}},
                {cmd = "GeneralAction", args = {"袁尚", "stand"}},
                {cmd = "FaceToFace", args = {"审配", "袁尚"}},
                {cmd = "Dialog", args = {"审配", "哦、主公回来了！"}},
                {cmd = "Dialog", args = {"审配", "马上打开城门！"}},
                {cmd = "Dialog", args = {"审配", "迎接主公入城！"}},
                {cmd = "FaceToFace", args = {"曹操", "袁尚"}},
                {cmd = "Dialog", args = {"曹操", "袁尚小儿终于来了。"}},
                {cmd = "Dialog", args = {"曹操", "好，马上攻下鹿砦迎击袁尚！"}},
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                    {cmd = "FaceToFace", args = {"辛毗", "曹操"}},
                    {cmd = "Dialog", args = {"辛毗", "丞相，请等一下，暂时还不能讨伐袁尚。"}},
                    {cmd = "FaceToFace", args = {"曹操", "辛毗"}},
                    {cmd = "Dialog", args = {"曹操", "什么！？"}},
                    {cmd = "Dialog", args = {"辛毗", "现在才是攻下邺城的大好机会，只要紧追逃跑的袁尚，我军就可轻易地进城了。"}},
                    {cmd = "Dialog", args = {"曹操", "没错！"}},
                    {cmd = "Dialog", args = {"曹操", "他们一定会打开城门救袁尚的，这样我军就可以一鼓作气杀进城去。"}},
                    {cmd = "Dialog", args = {"辛毗", "进入城内就好办了，一定可以攻下城来的。"}},
                },
            },
            {
                {cmd = "Else"},
                {cmd = "GeneralAction", args = {"袁尚", "prepareAttack"}},
                {cmd = "Dialog", args = {"袁尚", "大家赶快杀到他们背后！"}},
                {cmd = "GeneralAction", args = {"袁尚", "stand"}},
                {cmd = "FaceToFace", args = {"曹操", "袁尚"}},
                {cmd = "Dialog", args = {"曹操", "袁尚小儿终于来了。"}},
                {cmd = "Dialog", args = {"曹操", "好，马上攻下鹿砦迎击袁尚！"}},
                {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 28, 1, 32, 20, "主动出击", "无", 1, 1}},
            },
            {cmd = "VarSet", args = {"Var6", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 5, "<", "指定区域", 1, 1, 8, 10}},
        {cmd = "VarTest", args = {{falseConditions = {"Var7", "Var32", "Var50"}}}},
        {
            {cmd = "GeneralAction", args = {"审配", "weak"}},
            {cmd = "Dialog", args = {"审配", "邺城危险了！"}},
            {cmd = "Dialog", args = {"审配", "不过，不会这么轻易就让给曹操！"}},
            {cmd = "GeneralAction", args = {"审配", "attack"}},
            {cmd = "Dialog", args = {"审配", "放火！"}},
            {cmd = "GeneralAction", args = {"审配", "stand"}},
            {
                {cmd = "AddFire", args = {1, 1}},
                {cmd = "AddFire", args = {1, 2}},
                {cmd = "AddFire", args = {1, 3}},
                {cmd = "AddFire", args = {1, 4}},
                {cmd = "AddFire", args = {1, 5}},
                {cmd = "AddFire", args = {2, 1}},
                {cmd = "AddFire", args = {2, 2}},
                {cmd = "AddFire", args = {2, 3}},
                {cmd = "AddFire", args = {2, 4}},
                {cmd = "AddFire", args = {2, 5}},
                {cmd = "AddFire", args = {3, 1}},
                {cmd = "AddFire", args = {3, 2}},
                {cmd = "AddFire", args = {3, 3}},
                {cmd = "AddFire", args = {3, 4}},
                {cmd = "AddFire", args = {3, 5}},
            },
            {cmd = "FaceToFace", args = {"曹操", "审配"}},
            {cmd = "Dialog", args = {"审配", "哈哈哈哈哈……"}},
            {cmd = "GeneralRetreat", args = {"审配", true}},
            {cmd = "GeneralRetreat", args = {"弓兵1", true}},
            {cmd = "GeneralRetreat", args = {"弓兵2", true}},
            {cmd = "GeneralRetreat", args = {"炮兵1", true}},
            {cmd = "VarSet", args = {"Var50", true}},
            {
                {cmd = "AddFire", args = {1, 1}},
                {cmd = "AddFire", args = {1, 2}},
                {cmd = "AddFire", args = {1, 3}},
                {cmd = "AddFire", args = {1, 4}},
                {cmd = "AddFire", args = {1, 5}},
                {cmd = "AddFire", args = {2, 1}},
                {cmd = "AddFire", args = {2, 2}},
                {cmd = "AddFire", args = {2, 3}},
                {cmd = "AddFire", args = {2, 4}},
                {cmd = "AddFire", args = {2, 5}},
                {cmd = "AddFire", args = {3, 1}},
                {cmd = "AddFire", args = {3, 2}},
                {cmd = "AddFire", args = {3, 3}},
                {cmd = "AddFire", args = {3, 4}},
                {cmd = "AddFire", args = {3, 5}},
            },
            {cmd = "Dialog", args = {"曹操", "审配……"}},
            {cmd = "Dialog", args = {"曹操", "真是个令人佩服的对手。"}},
            {cmd = "GeneralAiChange", args = {"辛毗", "攻击武将", "曹操", 1, 1}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var6"}}}},
                {
                    {cmd = "GeneralShow", args = {"袁尚"}},
                    {cmd = "GeneralShow", args = {"步兵9"}},
                    {cmd = "GeneralShow", args = {"步兵10"}},
                    {cmd = "GeneralShow", args = {"弓兵11"}},
                    {cmd = "GeneralShow", args = {"骑兵1"}},
                    {cmd = "GeneralShow", args = {"骑兵2"}},
                    {cmd = "GeneralShow", args = {"骑兵3"}},
                    {cmd = "GeneralShow", args = {"骑兵4"}},
                    {cmd = "GeneralShow", args = {"弓骑兵1"}},
                    {cmd = "GeneralShow", args = {"弓骑兵2"}},
                    {cmd = "GeneralShow", args = {"弓骑兵3"}},
                    {cmd = "GeneralShow", args = {"弓骑兵4"}},
                },
                {cmd = "Dialog", args = {"袁尚", "啊？邺城起火了……"}},
                {cmd = "Dialog", args = {"袁尚", "还是来迟了一步……"}},
                {cmd = "Dialog", args = {"袁尚", "不得已了，只好撤退。"}},
                {cmd = "Dialog", args = {"袁尚", "曹操老贼，你给我记住！"}},
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                    {cmd = "FaceToFace", args = {"袁尚", "沮鹄"}},
                    {cmd = "Dialog", args = {"袁尚", "沮鹄，快挡住曹军！"}},
                    {cmd = "FaceToFace", args = {"沮鹄", "袁尚"}},
                    {cmd = "Dialog", args = {"沮鹄", "是！"}},
                    {cmd = "GeneralAiChange", args = {"沮鹄", "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAiChange", args = {"步兵5", "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAiChange", args = {"步兵6", "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAiChange", args = {"步兵7", "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAiChange", args = {"步兵8", "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAiChange", args = {"弓兵7", "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAiChange", args = {"弓兵8", "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAiChange", args = {"弓兵9", "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAiChange", args = {"弓兵10", "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAiChange", args = {"炮兵4", "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAiChange", args = {"武术家3", "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAiChange", args = {"武术家4", "主动出击", "无", 1, 1}},
                },
                {cmd = "GeneralsDisappear", args = {{"enemy"}, 30, 1, 32, 20}},
                {cmd = "VarSet", args = {"Var52", true}},
            },
            {cmd = "VarSet", args = {"Var7", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 18, 1, 25, 5}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var30"}}}},
        {
            {cmd = "GeneralAction", args = {"沮鹄", "prepareAttack"}},
            {cmd = "Dialog", args = {"沮鹄", "不要让敌人进入鹿砦，无论如何也要挡住敌人！"}},
            {cmd = "GeneralAction", args = {"沮鹄", "stand"}},
            {cmd = "GeneralAiChange", args = {"沮鹄", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵6", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵7", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵8", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵7", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵8", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵9", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵10", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"武术家3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"武术家4", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var30", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {"辛毗", 3, 12, 6, 14}},
        {cmd = "SideTest", args = {"我军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var31", "Var32", "Var33"}}}},
        {
            {cmd = "GeneralChangeDirection", args = {"辛毗", "up"}},
            {cmd = "Dialog", args = {"辛毗", "是时候了，打开城门！"}},
            {cmd = "GeneralsDisappear", args = {{"enemy"}, 4, 10, 4, 10}},
            {cmd = "GeneralShow", args = {"贼兵1"}},
            {cmd = "FaceToFace", args = {"贼兵1", "辛毗"}},
            {cmd = "Dialog", args = {"贼兵1", "哦、辛毗大人，我们正等着您呢。"}},
            {cmd = "AddObstacle", args = {"Gate-21", false, "城内", 4, 11}},
            {cmd = "AddObstacle", args = {"Gate-23", false, "城内", 5, 11}},
            {cmd = "FaceToFace", args = {"审配", "辛毗"}},
            {cmd = "GeneralAction", args = {"审配", "dizzy"}},
            {cmd = "Dialog", args = {"审配", "什、什么！？"}},
            {cmd = "Dialog", args = {"审配", "城门为什么打开了！"}},
            {cmd = "Dialog", args = {"审配", "守城士兵是怎么回事！"}},
            {cmd = "FaceToFace", args = {"曹操", "辛毗"}},
            {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
            {cmd = "Dialog", args = {"曹操", "辛毗，干得很好。"}},
            {cmd = "Dialog", args = {"曹操", "全军杀入邺城！"}},
            {cmd = "Dialog", args = {"曹操", "一鼓作气占领邺城吧！"}},
            {cmd = "GeneralAction", args = {"曹操", "stand"}},
            {cmd = "GeneralAiChange", args = {"辛毗", "逃至指定点", "无", 5, 2}},
            {cmd = "VarSet", args = {"Var31", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {"辛毗", 5, 1, 8, 6}},
        {cmd = "VarTest", args = {{falseConditions = {"Var7", "Var32"}}}},
        {
            {cmd = "GeneralChangeDirection", args = {"辛毗", "left"}},
            {cmd = "Dialog", args = {"辛毗", "快，打开城门，趁敌人没有发现之前。快点！"}},
            {cmd = "GeneralsDisappear", args = {{"enemy"}, 3, 3, 3, 3}},
            {cmd = "GeneralShow", args = {"贼兵2"}},
            {cmd = "FaceToFace", args = {"贼兵1", "辛毗"}},
            {cmd = "Dialog", args = {"贼兵2", "早就等得不耐烦了！"}},
            {cmd = "AddObstacle", args = {"Gate-25", false, "城内", 4, 2}},
            {cmd = "AddObstacle", args = {"Gate-27", false, "城内", 4, 3}},
            {cmd = "FaceToFace", args = {"审配", "辛毗"}},
            {cmd = "Dialog", args = {"审配", "可恶，内城门开了……"}},
            {cmd = "Dialog", args = {"审配", "居然有人勾结敌军……！"}},
            {cmd = "Dialog", args = {"曹操", "好，冲进去！"}},
            {cmd = "FaceToFace", args = {"曹操", "审配"}},
            {cmd = "GeneralAiChange", args = {"辛毗", "攻击武将", "曹操", 1, 1}},
            {cmd = "GeneralAiChange", args = {"审配", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var32", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {"袁尚", 10, 5, 12, 8}},
        {cmd = "VarTest", args = {{trueConditions = {"Var6"}, falseConditions = {"Var33"}}}},
        {
            {cmd = "GeneralChangeDirection", args = {"袁尚", "left"}},
            {cmd = "GeneralAction", args = {"袁尚", "doubleAttack"}},
            {cmd = "Dialog", args = {"袁尚", "审配，是我袁尚！"}},
            {cmd = "Dialog", args = {"袁尚", "马上打开城门！"}},
            {cmd = "GeneralAction", args = {"袁尚", "stand"}},
            {cmd = "FaceToFace", args = {"审配", "袁尚"}},
            {cmd = "Dialog", args = {"审配", "开门，开门！"}},
            {cmd = "Dialog", args = {"审配", "让主公入城，快点！"}},
            {cmd = "AddObstacle", args = {"Gate-13", false, "城内", 9, 6}},
            {cmd = "AddObstacle", args = {"Gate-15", false, "城内", 9, 7}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var31"}}}},
                {cmd = "FaceToFace", args = {"曹操", "袁尚"}},
                {cmd = "Dialog", args = {"曹操", "趁门还没有关上，快点杀进去！"}},
                {cmd = "Dialog", args = {"曹操", "等城门关上，我们就无计可施了！"}},
            },
            {cmd = "GeneralAiChange", args = {"袁尚", "逃至指定点", "无", 2, 7}},
            {cmd = "GeneralAiChange", args = {"步兵9", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵10", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵11", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"辛毗", "逃至指定点", "无", 5, 2}},
            {cmd = "VarSet", args = {"Var33", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {"袁尚", 1, 7, 3, 10}},
        {cmd = "VarTest", args = {{trueConditions = {"Var33"}, falseConditions = {"Var34"}}}},
        {
            {cmd = "FaceToFace", args = {"袁尚", "曹操"}},
            {cmd = "GeneralAction", args = {"袁尚", "weak"}},
            {cmd = "Dialog", args = {"袁尚", "糟了！"}},
            {cmd = "Dialog", args = {"袁尚", "这样下去会没命的……"}},
            {cmd = "Dialog", args = {"袁尚", "我必须设法………"}},
            {cmd = "GeneralAiChange", args = {"袁尚", "被动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var34", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "审配", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"曹操", "审配"}},
            {cmd = "FaceToFace", args = {"审配", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "审配，你失败了。"}},
            {cmd = "Dialog", args = {"曹操", "干脆归降吧！"}},
            {cmd = "Dialog", args = {"曹操", "我可以饶你不死。"}},
            {cmd = "Dialog", args = {"审配", "可恶……"}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "沮鹄", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"沮鹄", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "沮鹄"}},
            {cmd = "Dialog", args = {"沮鹄", "曹操，小心了！"}},
            {cmd = "Dialog", args = {"沮鹄", "我拼了命也要杀了你！"}},
            {cmd = "Dialog", args = {"曹操", "你虽然很有志气，可惜没那么大本事！"}},
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "袁尚", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"曹操", "袁尚"}},
            {cmd = "FaceToFace", args = {"袁尚", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "袁尚，今天就是你的死期，乖乖地找你爹去吧！"}},
            {cmd = "Dialog", args = {"袁尚", "少废话！曹贼！"}},
            {cmd = "Dialog", args = {"袁尚", "我要让你下地狱！"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"辛毗", "审配", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var43"}}}},
        {
            {cmd = "FaceToFace", args = {"审配", "辛毗"}},
            {cmd = "FaceToFace", args = {"辛毗", "审配"}},
            {cmd = "Dialog", args = {"审配", "你这个叛徒！"}},
            {cmd = "Dialog", args = {"辛毗", "袁绍主公死后，袁氏兄弟不和……"}},
            {cmd = "Dialog", args = {"辛毗", "我当然要另寻明主。"}},
            {cmd = "Dialog", args = {"辛毗", "审配！郭图！"}},
            {cmd = "Dialog", args = {"辛毗", "你们二人从中挑拨，你们的罪也不小！"}},
            {cmd = "Dialog", args = {"审配", "什、什么……？"}},
            {cmd = "VarSet", args = {"Var43", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"辛毗", "袁尚", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var44"}}}},
        {
            {cmd = "FaceToFace", args = {"袁尚", "辛毗"}},
            {cmd = "FaceToFace", args = {"辛毗", "袁尚"}},
            {cmd = "Dialog", args = {"袁尚", "你就是辛毗？"}},
            {cmd = "Dialog", args = {"袁尚", "为什么加入曹军……？"}},
            {cmd = "Dialog", args = {"辛毗", "如今袁氏不比旧日，辛毗我自然识得时务。"}},
            {cmd = "Dialog", args = {"袁尚", "混蛋！"}},
            {cmd = "Dialog", args = {"袁尚", "不忠不义，看我宰了你！"}},
            {cmd = "VarSet", args = {"Var44", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹丕", "袁尚", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var45"}}}},
        {
            {cmd = "FaceToFace", args = {"袁尚", "曹丕"}},
            {cmd = "FaceToFace", args = {"曹丕", "袁尚"}},
            {cmd = "Dialog", args = {"曹丕", "我是曹操之子曹丕，我来看看父亲的对手是什么人！"}},
            {cmd = "Dialog", args = {"袁尚", "曹操之子！？"}},
            {cmd = "Dialog", args = {"袁尚", "看我杀了你。"}},
            {cmd = "Dialog", args = {"曹丕", "哼、不中用的家伙，你没资格跟我讲话。"}},
            {cmd = "Dialog", args = {"袁尚", "什么！！！！！"}},
            {cmd = "Dialog", args = {"袁尚", "混蛋，我不会放过你。"}},
            {cmd = "VarSet", args = {"Var45", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"审配", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "Dialog", args = {"审配", "糟、糟了！"}},
            {cmd = "Dialog", args = {"审配", "哎呀……"}},
            {cmd = "GeneralRetreat", args = {"审配", true}},
            {cmd = "AddItem", args = {"五火神焰扇", 0}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var32"}, falseConditions = {"Var6"}}}},
                {cmd = "Dialog", args = {"曹操", "好，只剩下邯郸的鹿砦了，在袁尚到达之前，先一举把它攻下！"}},
                {cmd = "AddObstacle", args = {"Gate-13", false, "城内", 9, 6}},
                {cmd = "AddObstacle", args = {"Gate-15", false, "城内", 9, 7}},
            },
            {cmd = "VarSet", args = {"Var50", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"沮鹄", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"沮鹄", "失、失败了。"}},
            {cmd = "Dialog", args = {"沮鹄", "哇啊！"}},
            {cmd = "GeneralRetreat", args = {"沮鹄", true}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"袁尚", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"袁尚", "邺城投降了……"}},
            {cmd = "Dialog", args = {"袁尚", "完了……撤退吧。"}},
            {cmd = "GeneralRetreat", args = {"袁尚", false}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var2", "Var31", "Var32", "Var33"}}}},
                {cmd = "Dialog", args = {"审配", "可恶！"}},
                {cmd = "Dialog", args = {"审配", "连这座城都守不住！"}},
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                    {cmd = "Dialog", args = {"辛毗", "城门就由我去打开吧，请曹操主公掩护我。"}},
                    {cmd = "GeneralAiChange", args = {"辛毗", "逃至指定点", "无", 4, 12}},
                },
                {
                    {cmd = "Else"},
                    {cmd = "Dialog", args = {"曹操", "不好，连辛毗也倒下了。"}},
                    {cmd = "Dialog", args = {"曹操", "既然城门无法打开，只好先行撤退了。"}},
                    {cmd = "Tip", args = {"曹操败给了袁尚。"}},
                    {cmd = "BattleOver"},
                    {cmd = "BattleLose"},
                    {cmd = "VarSet", args = {"Var1", true}},
                },
            },
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"辛毗", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var31", "Var32", "Var33"}}}},
                {cmd = "Dialog", args = {"辛毗", "糟了……"}},
                {cmd = "Dialog", args = {"辛毗", "没有我就无法与城内的亲信连络。"}},
                {cmd = "Dialog", args = {"辛毗", "这样就打不开城门，丞相也无计可施了。"}},
            },
            {cmd = "Dialog", args = {"辛毗", "没想到会死在此地……"}},
            {cmd = "Dialog", args = {"辛毗", "啊！"}},
            {cmd = "GeneralRetreat", args = {"辛毗", true}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "很好，总算歼灭了敌人！"}},
            {cmd = "Dialog", args = {"曹操", "我军胜利了！"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var7"}}}},
                {cmd = "BattleExtraItems", args = {0, "印绶", 0, "", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var622", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操败给了袁尚。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
