local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "合淝之战",
    maxRounds    = 25,
    mapId        = "30.tmx",
    weatherStart = {"晴", "晴", "阴", "晴", "阴"},
    weatherType  = {"晴"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    enemyGeneralList = {
        {uid = "孙权", aiType = "被动出击", levelAdd = 4},
        {uid = "程普", aiType = "被动出击", levelAdd = 4},
        {uid = "鲁肃", aiType = "被动出击", levelAdd = 4},
        {uid = "张纮", aiType = "被动出击", levelAdd = 4},
        {uid = "海盗1", aiType = "被动出击"},
        {uid = "海盗2", aiType = "被动出击"},
        {uid = "弓兵1", aiType = "被动出击"},
        {uid = "弓兵2", aiType = "被动出击"},
        {uid = "太史慈", aiType = "被动出击", levelAdd = 4},
        {uid = "骑兵1", aiType = "被动出击"},
        {uid = "弓骑兵1", aiType = "被动出击"},
        {uid = "弓骑兵2", aiType = "被动出击"},
        {uid = "海盗3", aiType = "被动出击"},
        {uid = "海盗4", aiType = "被动出击"},
        {uid = "海盗5", aiType = "被动出击"},
        {uid = "海盗6", aiType = "被动出击"},
        {uid = "贼兵1", aiType = "主动出击", isHide = true},
        {uid = "贼兵2", aiType = "主动出击", isHide = true},
        {uid = "弓兵3", aiType = "被动出击"},
        {uid = "弓兵4", aiType = "被动出击"},
        {uid = "弓兵5", aiType = "被动出击"},
        {uid = "弓兵6", aiType = "被动出击"},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"太史慈", "默认装备", 0, "镜铠", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"张纮", "默认装备", 0, "默认装备", 0, "孙子兵法"}},
        {cmd = "GeneralEquipsSet", args = {"程普", "默认装备", 0, "默认装备", 0, "铜制马铠"}},
    },
    {cmd = "AddObstacle", args = {"Gate-39", true, "城门", 8, 5}},
    {cmd = "AddObstacle", args = {"Gate-41", true, "城门", 8, 6}},
    {cmd = "AddObstacle", args = {"Gate-43", true, "城门", 15, 13}},
    {cmd = "AddObstacle", args = {"Gate-45", true, "城门", 16, 13}},
    {cmd = "PlayMusic", args = {"Track3"}},
    {
        {cmd = "Dialog", args = {"鲁肃", "主公，敌人据守城中，看样子不会出来。"}},
        {cmd = "Dialog", args = {"鲁肃", "我们该如何是好？"}},
        {cmd = "Dialog", args = {"孙权", "嗯嗯嗯。"}},
        {cmd = "Dialog", args = {"孙权", "可恶的张辽……还真不好对付！"}},
        {cmd = "Dialog", args = {"孙权", "这样对峙下去，只会浪费时间。"}},
        {cmd = "Dialog", args = {"程普", "如果能将敌人引出城外，敌人那点兵力根本不堪一击……"}},
        {cmd = "GeneralChangeDirection", args = {"孙权", "down"}},
        {cmd = "Dialog", args = {"孙权", "此时公瑾在就好了。"}},
        {cmd = "Dialog", args = {"孙权", "谁有妙计？"}},
        {cmd = "FaceToFace", args = {"太史慈", "孙权"}},
        {cmd = "Dialog", args = {"太史慈", "主公不须担心，属下倒有一良策。"}},
        {cmd = "Dialog", args = {"太史慈", "末将早在城内部署伏兵，时候一到就会放火，并且伺机打开西门。"}},
        {cmd = "FaceToFace", args = {"孙权", "太史慈"}},
        {cmd = "Dialog", args = {"孙权", "噢，不愧是太史慈！"}},
        {cmd = "Dialog", args = {"孙权", "真是我孙权的左膀右臂。"}},
        {cmd = "Dialog", args = {"张纮", "主公，这确实是个好主意。"}},
        {cmd = "Dialog", args = {"张纮", "但若失败，太史将军就危险了。"}},
        {cmd = "Dialog", args = {"太史慈", "危险也总比等候要来得好。"}},
        {cmd = "Dialog", args = {"太史慈", "无论如何，请命末将前往。"}},
        {cmd = "Dialog", args = {"太史慈", "末将愿以性命担保，必定马到成功。"}},
        {cmd = "Dialog", args = {"孙权", "嗯嗯！"}},
        {cmd = "Dialog", args = {"孙权", "就看你的了！"}},
        {cmd = "Dialog", args = {"孙权", "你要多加小心。"}},
        {cmd = "FaceToFace", args = {"乐进", "张辽"}},
        {cmd = "Dialog", args = {"乐进", "张将军，我们数次击退敌军，应该大摆酒宴犒赏将士才是……"}},
        {cmd = "FaceToFace", args = {"张辽", "乐进"}},
        {cmd = "Dialog", args = {"张辽", "乐进将军，你的心情我了解。"}},
        {cmd = "Dialog", args = {"张辽", "但是如今孙权大军未退，还不是放松的时候……"}},
        {cmd = "PlayMusic", args = {"Track6"}},
        {cmd = "GeneralShow", args = {"贼兵1"}},
        {cmd = "GeneralShow", args = {"贼兵2"}},
        {
            {cmd = "AddFire", args = {10, 1}},
            {cmd = "AddFire", args = {11, 2}},
            {cmd = "AddFire", args = {10, 3}},
            {cmd = "AddFire", args = {10, 8}},
            {cmd = "AddFire", args = {11, 8}},
            {cmd = "AddFire", args = {10, 10}},
            {cmd = "AddFire", args = {11, 11}},
        },
        {cmd = "GeneralAction", args = {"贼兵1", "circle"}},
        {cmd = "Dialog", args = {"贼兵1", "失火了！敌军攻城了！"}},
        {cmd = "Dialog", args = {"贼兵1", "城内有敌人出现啦！"}},
        {cmd = "GeneralChangeDirection", args = {"贼兵2", "left"}},
        {cmd = "GeneralAction", args = {"贼兵2", "prepareAttack"}},
        {cmd = "Dialog", args = {"贼兵2", "城内有奸细啊！"}},
        {cmd = "Dialog", args = {"贼兵2", "快往城外逃！"}},
        {cmd = "GeneralAction", args = {"贼兵2", "stand"}},
        {cmd = "GeneralAction", args = {"李典", "dizzy"}},
        {cmd = "Dialog", args = {"李典", "怎么回事！"}},
        {cmd = "Dialog", args = {"李典", "敌军偷袭吗？"}},
        {cmd = "FaceToFace", args = {"张辽", "李典"}},
        {cmd = "Dialog", args = {"张辽", "李将军，稍安勿躁。"}},
        {cmd = "Dialog", args = {"张辽", "不觉得有些奇怪吗？"}},
        {cmd = "FaceToFace", args = {"李典", "贼兵2"}},
        {cmd = "Dialog", args = {"李典", "嗯……的确有些奇怪！"}},
        {cmd = "Dialog", args = {"李典", "好像有人在制造混乱。"}},
        {cmd = "GeneralChangeDirection", args = {"乐进", "left"}},
        {cmd = "Dialog", args = {"乐进", "火势好像也集中在西门。"}},
        {cmd = "GeneralChangeDirection", args = {"张辽", "left"}},
        {cmd = "Dialog", args = {"张辽", "这是孙权打开西门的诱敌战，既然如此，我们不妨将计就计。"}},
    },
    {cmd = "ChoiceDialog", args = {"张辽", {"打开西门", "打开南门"}}},
    {
        {cmd = "FaceToFace", args = {"张辽", "乐进"}},
        {cmd = "Dialog", args = {"张辽", "从后侧包抄敌军，将部队集结在西门两侧。"}},
        {cmd = "FaceToFace", args = {"乐进", "张辽"}},
        {cmd = "Dialog", args = {"乐进", "向西门集结……为什么？"}},
        {cmd = "Dialog", args = {"张辽", "由城内引起骚动，打开西门进行偷袭，这是他们的计谋，但若……"}},
        {cmd = "Dialog", args = {"乐进", "喔，原来如此。"}},
        {cmd = "Dialog", args = {"乐进", "你是说引敌军入城后，再一举消灭他们是吗？"}},
        {cmd = "FaceToFace", args = {"张辽", "李典"}},
        {cmd = "Dialog", args = {"张辽", "李将军，这件事就劳烦你了。"}},
        {cmd = "FaceToFace", args = {"李典", "张辽"}},
        {cmd = "GeneralAction", args = {"李典", "prepareAttack"}},
        {cmd = "Dialog", args = {"李典", "末将明白。"}},
        {cmd = "Dialog", args = {"李典", "全军向西门集结！"}},
        {cmd = "GeneralAction", args = {"李典", "stand"}},
        {cmd = "PlayerGeneralMove", args = {3, 10, 4, "down"}},
        {cmd = "PlayerGeneralMove", args = {4, 10, 7, "up"}},
        {cmd = "PlayerGeneralMove", args = {5, 11, 4, "down"}},
        {cmd = "PlayerGeneralMove", args = {6, 11, 7, "up"}},
        {cmd = "GeneralChangeDirection", args = {"李典", "left"}},
        {cmd = "Dialog", args = {"李典", "准备好了！"}},
        {cmd = "Dialog", args = {"李典", "开门吧！"}},
        {cmd = "AddObstacle", args = {"Gate-39", false, "城内", 8, 5}},
        {cmd = "AddObstacle", args = {"Gate-41", false, "城内", 8, 6}},
        {cmd = "GeneralAction", args = {"太史慈", "prepareAttack"}},
        {cmd = "Dialog", args = {"太史慈", "好！就是现在。"}},
        {cmd = "Dialog", args = {"太史慈", "全军杀进去！"}},
        {cmd = "Dialog", args = {"太史慈", "把曹军打败！"}},
        {cmd = "GeneralAction", args = {"太史慈", "stand"}},
        {cmd = "RoleMove", args = {"太史慈", "right", 10, 5}},
        {cmd = "RoleMove", args = {"骑兵1", "right", 10, 6}},
        {cmd = "RoleMove", args = {"弓骑兵1", "right", 9, 5}},
        {cmd = "RoleMove", args = {"弓骑兵2", "right", 9, 6}},
        {cmd = "RoleMove", args = {"海盗3", "right", 8, 5}},
        {cmd = "RoleMove", args = {"海盗4", "right", 8, 6}},
        {cmd = "RoleMove", args = {"海盗5", "right", 7, 5}},
        {cmd = "RoleMove", args = {"海盗6", "right", 7, 6}},
        {cmd = "RoleMove", args = {"弓兵3", "right", 6, 5}},
        {cmd = "RoleMove", args = {"弓兵4", "right", 6, 6}},
        {cmd = "RoleMove", args = {"弓兵5", "right", 6, 4}},
        {cmd = "RoleMove", args = {"弓兵6", "right", 6, 7}},
        {cmd = "Dialog", args = {"李典", "中计了吧，太史慈！"}},
        {cmd = "Dialog", args = {"李典", "真是个大蠢蛋！"}},
        {cmd = "Dialog", args = {"李典", "全军一齐攻击！"}},
        {cmd = "Dialog", args = {"太史慈", "什、什么！？"}},
        {cmd = "Dialog", args = {"太史慈", "不好！"}},
        {cmd = "Dialog", args = {"太史慈", "计策被识破了！"}},
        {cmd = "RangeGeneralsStatusChange", args = {{"enemy"}, 9, 5, 10, 6, "无", "无", "混乱", 0, 0}},
        {cmd = "VarSet", args = {"Var2", true}},
    },
    {
        {cmd = "FaceToFace", args = {"张辽", "乐进"}},
        {cmd = "Dialog", args = {"张辽", "包抄敌人的后路，向南门集结部队。"}},
        {cmd = "FaceToFace", args = {"乐进", "张辽"}},
        {cmd = "Dialog", args = {"乐进", "向南门集结……为什么？"}},
        {cmd = "Dialog", args = {"张辽", "打开西门进行奇袭，这是他们的计谋，如此一来，主营必定守备薄弱。"}},
        {cmd = "Dialog", args = {"乐进", "原来如此。"}},
        {cmd = "Dialog", args = {"乐进", "这将是进攻敌人主营的大好机会。"}},
        {cmd = "Dialog", args = {"张辽", "既然他们一心突破西门，就做梦也不会想到，我们会从南门进攻。"}},
        {cmd = "Dialog", args = {"乐进", "这就是所谓的避实击虚呀！"}},
        {cmd = "FaceToFace", args = {"张辽", "李典"}},
        {cmd = "Dialog", args = {"张辽", "李将军，城内的敌兵就交给你了。"}},
        {cmd = "FaceToFace", args = {"李典", "张辽"}},
        {cmd = "Dialog", args = {"李典", "张将军，交给我吧。"}},
        {cmd = "Dialog", args = {"李典", "你就专心对付城外的敌人吧。"}},
        {cmd = "RoleMove", args = {"张辽", "down", 15, 12}},
        {cmd = "RoleMove", args = {"乐进", "down", 16, 12}},
        {cmd = "PlayerGeneralMove", args = {3, 15, 11, "down"}},
        {cmd = "PlayerGeneralMove", args = {4, 16, 11, "down"}},
        {cmd = "PlayerGeneralMove", args = {5, 15, 10, "down"}},
        {cmd = "PlayerGeneralMove", args = {6, 16, 10, "down"}},
        {cmd = "GeneralChangeDirection", args = {"张辽", "down"}},
        {cmd = "GeneralAction", args = {"张辽", "prepareAttack"}},
        {cmd = "Dialog", args = {"张辽", "好！打开城门！"}},
        {cmd = "Dialog", args = {"张辽", "全军跟我冲出去！"}},
        {cmd = "GeneralAction", args = {"张辽", "stand"}},
        {cmd = "AddObstacle", args = {"Gate-43", false, "城内", 15, 13}},
        {cmd = "AddObstacle", args = {"Gate-45", false, "城内", 16, 13}},
        {cmd = "RoleMove", args = {"张辽", "down", 15, 16}},
        {cmd = "RoleMove", args = {"乐进", "down", 16, 16}},
        {cmd = "PlayerGeneralMove", args = {3, 15, 15, "down"}},
        {cmd = "PlayerGeneralMove", args = {4, 16, 15, "down"}},
        {cmd = "PlayerGeneralMove", args = {5, 15, 14, "down"}},
        {cmd = "PlayerGeneralMove", args = {6, 16, 14, "down"}},
        {cmd = "FaceToFace", args = {"孙权", "张辽"}},
        {cmd = "FaceToFace", args = {"鲁肃", "张辽"}},
        {cmd = "FaceToFace", args = {"张纮", "张辽"}},
        {cmd = "FaceToFace", args = {"程普", "张辽"}},
        {cmd = "GeneralAction", args = {"孙权", "dizzy"}},
        {cmd = "Dialog", args = {"孙权", "什么！敌人杀来了！？"}},
        {cmd = "Dialog", args = {"孙权", "怎么会这样……西门怎么了！？"}},
        {cmd = "Dialog", args = {"程普", "敌人进攻了！？"}},
        {cmd = "Dialog", args = {"鲁肃", "快！不能让敌人接近主公！"}},
        {cmd = "Dialog", args = {"张纮", "糟了！"}},
        {cmd = "Dialog", args = {"张纮", "没想到反而被敌军袭击……"}},
        {cmd = "RangeGeneralsStatusChange", args = {{"enemy"}, 14, 18, 17, 18, "无", "无", "混乱", 0, 0}},
        {cmd = "Dialog", args = {"太史慈", "为、为什么西门没开！"}},
        {cmd = "Dialog", args = {"太史慈", "什么！？主公的主营遭到袭击！？"}},
        {cmd = "Dialog", args = {"太史慈", "这到底是怎么回事！"}},
        {cmd = "FaceToFace", args = {"太史慈", "孙权"}},
        {cmd = "GeneralAction", args = {"太史慈", "prepareAttack"}},
        {cmd = "Dialog", args = {"太史慈", "唔唔、快！"}},
        {cmd = "Dialog", args = {"太史慈", "回头救援主营！"}},
        {cmd = "GeneralAction", args = {"太史慈", "stand"}},
        {cmd = "GeneralAiChange", args = {"太史慈", "主动出击", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"骑兵1", "主动出击", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"弓骑兵1", "主动出击", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"弓骑兵2", "主动出击", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"海盗3", "主动出击", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"海盗4", "主动出击", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"海盗5", "主动出击", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"海盗6", "主动出击", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"弓兵3", "主动出击", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"弓兵4", "主动出击", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"弓兵5", "主动出击", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"弓兵6", "主动出击", "无", 1, 1}},
    },
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、歼灭所有敌军。\n\n失败条件\n一、全军撤退。\n二、回合数超过25。"}},
    {cmd = "ShowBattleWinCondition", args = {"歼灭所有敌军！"}},
    {cmd = "VarSet", args = {"Var530", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 16, 19}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var20", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"李典", "太史慈", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"李典", "太史慈"}},
            {cmd = "FaceToFace", args = {"太史慈", "李典"}},
            {cmd = "Dialog", args = {"李典", "东吴名将太史慈恐怕要命丧于此了！"}},
            {cmd = "Dialog", args = {"李典", "让我李典为你送上一程吧。"}},
            {cmd = "Dialog", args = {"太史慈", "胡扯！"}},
            {cmd = "Dialog", args = {"太史慈", "战斗才刚要开始！"}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"张辽", "太史慈", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"太史慈", "张辽"}},
            {cmd = "FaceToFace", args = {"张辽", "太史慈"}},
            {cmd = "Dialog", args = {"太史慈", "这次对阵，将军料事如神，不愧是独当一面的大将。"}},
            {cmd = "Dialog", args = {"张辽", "阁下也是名闻遐迩的名将，能够与将军交手，是张辽的荣幸。"}},
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"张辽", "孙权", false}},
        {cmd = "VarTest", args = {{trueConditions = {"Var629"}, falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"张辽", "孙权"}},
            {cmd = "FaceToFace", args = {"孙权", "张辽"}},
            {cmd = "Dialog", args = {"张辽", "孙权，今日要你偿还赤壁之恨！"}},
            {cmd = "Dialog", args = {"孙权", "哼！这场仗的胜利是属于我东吴的。"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"孙权", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "Dialog", args = {"孙权", "怎、怎么会这样……"}},
            {cmd = "Dialog", args = {"孙权", "难道这次远征就这样结束……"}},
            {cmd = "Dialog", args = {"孙权", "唔唔，我孙权太失策了……"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var2"}}}},
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                    {cmd = "FaceToFace", args = {"鲁肃", "孙权"}},
                    {cmd = "GeneralAction", args = {"张鲁", "prepareAttack"}},
                    {cmd = "Dialog", args = {"鲁肃", "主、主公！"}},
                    {cmd = "Dialog", args = {"鲁肃", "不要让敌兵接近主公！"}},
                    {cmd = "Dialog", args = {"鲁肃", "大家快来保护主公！"}},
                    {cmd = "Dialog", args = {"鲁肃", "快！主公，趁现在……"}},
                    {cmd = "GeneralAction", args = {"张鲁", "stand"}},
                    {cmd = "VarSet", args = {"Var51", true}},
                },
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                    {cmd = "FaceToFace", args = {"张纮", "孙权"}},
                    {cmd = "Dialog", args = {"张纮", "主公，这里不安全。"}},
                    {cmd = "Dialog", args = {"张纮", "请您赶紧离开这里吧！"}},
                    {cmd = "VarSet", args = {"Var53", true}},
                },
                {cmd = "RoleDisappear", args = {"孙权"}},
                {cmd = "RoleDisappear", args = {"鲁肃"}},
                {cmd = "RoleDisappear", args = {"张纮"}},
            },
            {
                {cmd = "Else"},
                {cmd = "GeneralRetreat", args = {"孙权", false}},
            },
            {cmd = "VarSet", args = {"Var50", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"鲁肃", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"鲁肃", "我的天呐！我得赶紧逃命……"}},
            {cmd = "Dialog", args = {"鲁肃", "厮杀可不是我的专长……"}},
            {cmd = "GeneralRetreat", args = {"鲁肃", false}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"程普", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"程普", "什么！？"}},
            {cmd = "Dialog", args = {"程普", "唔唔，太大意了……"}},
            {cmd = "Dialog", args = {"程普", "吾命休矣……唔噗！"}},
            {cmd = "GeneralRetreat", args = {"程普", true}},
            {cmd = "AddItem", args = {"铜制马铠", 0}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张纮", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"张纮", "不好！"}},
            {cmd = "Dialog", args = {"张纮", "唔唔……回天乏术了……"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "FaceToFace", args = {"张纮", "孙权"}},
                {cmd = "Dialog", args = {"张纮", "主公，请听属下最后的进言……"}},
                {cmd = "Dialog", args = {"张纮", "如果能从这里安然撤退，就请您迁都秣陵吧……"}},
                {cmd = "Dialog", args = {"张纮", "那里有帝王之气，非常合适东吴。"}},
                {cmd = "Dialog", args = {"张纮", "我、我要走了……唔唔。"}},
                {cmd = "FaceToFace", args = {"孙权", "张纮"}},
                {cmd = "Dialog", args = {"孙权", "张纮！"}},
            },
            {cmd = "GeneralRetreat", args = {"张纮", true}},
            {cmd = "AddItem", args = {"孙子兵法", 0}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"太史慈", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
        {
            {cmd = "Dialog", args = {"太史慈", "壮志未酬空留遗恨……"}},
            {cmd = "Dialog", args = {"太史慈", "难道这就是我的命运吗……唔呃！"}},
            {cmd = "GeneralRetreat", args = {"太史慈", true}},
            {cmd = "AddItem", args = {"镜铠", 0}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var50", "Var51", "Var52", "Var53"}}}},
                {cmd = "Dialog", args = {"孙权", "什、什么！"}},
                {cmd = "Dialog", args = {"孙权", "太史慈将军被杀了！？"}},
                {cmd = "Dialog", args = {"张纮", "太史慈将军……"}},
                {cmd = "Dialog", args = {"鲁肃", "太史慈将军他………"}},
                {cmd = "Dialog", args = {"鲁肃", "我们竟然失去一位勇冠三军的大将……"}},
                {cmd = "Dialog", args = {"鲁肃", "这真是我东吴莫大的损失啊。"}},
                {cmd = "Dialog", args = {"程普", "快点派兵去救援！"}},
                {cmd = "Dialog", args = {"程普", "那些士兵一定还在苦战！"}},
                {cmd = "Dialog", args = {"孙权", "嗯嗯嗯！"}},
                {cmd = "Dialog", args = {"孙权", "可恶的曹操！"}},
                {cmd = "Dialog", args = {"孙权", "这笔帐不会就这么算了的！"}},
            },
            {cmd = "GeneralAiChange", args = {"孙权", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"鲁肃", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"张纮", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"程普", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var54", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"张辽", "太好了，总算击败了敌军！"}},
            {cmd = "Dialog", args = {"张辽", "我军胜利了！"}},
            {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var630", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹军被孙权军打败"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
