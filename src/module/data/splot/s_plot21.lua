local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "黎阳之战",
    maxRounds    = 25,
    mapId        = "21.tmx",
    weatherStart = {"晴", "晴", "阴", "晴", "阴"},
    weatherType  = {"普通"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    enemyGeneralList = {
        {uid = "袁谭", aiType = "坚守原地", fangjuId = "黄金铠", levelAdd = 2},
        {uid = "郭图", aiType = "坚守原地", shipingId = "纶巾", levelAdd = 2},
        {uid = "步兵1", aiType = "坚守原地"},
        {uid = "步兵2", aiType = "坚守原地"},
        {uid = "步兵3", aiType = "坚守原地"},
        {uid = "步兵4", aiType = "坚守原地"},
        {uid = "弓兵1", aiType = "坚守原地"},
        {uid = "弓兵2", aiType = "坚守原地"},
        {uid = "弓兵3", aiType = "坚守原地"},
        {uid = "弓兵4", aiType = "坚守原地"},
        {uid = "武术家1", aiType = "坚守原地"},
        {uid = "武术家2", aiType = "坚守原地"},
        {uid = "武术家3", aiType = "坚守原地"},
        {uid = "武术家4", aiType = "坚守原地"},
        {uid = "炮兵1", aiType = "被动出击"},
        {uid = "袁熙", aiType = "坚守原地", levelAdd = 2},
        {uid = "步兵5", aiType = "坚守原地"},
        {uid = "步兵6", aiType = "坚守原地"},
        {uid = "步兵7", aiType = "坚守原地"},
        {uid = "步兵8", aiType = "坚守原地"},
        {uid = "弓兵5", aiType = "坚守原地"},
        {uid = "弓兵6", aiType = "坚守原地"},
        {uid = "炮兵2", aiType = "被动出击"},
        {uid = "炮兵3", aiType = "被动出击"},
        {uid = "步兵9", aiType = "被动出击"},
        {uid = "步兵10", aiType = "被动出击"},
        {uid = "步兵11", aiType = "被动出击"},
        {uid = "弓兵7", aiType = "被动出击"},
        {uid = "弓兵8", aiType = "被动出击"},
        {uid = "弓兵9", aiType = "被动出击"},
        {uid = "弓兵10", aiType = "被动出击"},
        {uid = "弓兵11", aiType = "被动出击"},
        {uid = "弓兵12", aiType = "被动出击"},
        {uid = "弓兵13", aiType = "被动出击"},
        {uid = "弓兵14", aiType = "被动出击"},
        {uid = "弓兵15", aiType = "被动出击"},
        {uid = "弓兵16", aiType = "被动出击"},
        {uid = "弓兵17", aiType = "被动出击"},
        {uid = "弓兵18", aiType = "被动出击"},
        {uid = "炮兵4", aiType = "被动出击"},
        {uid = "炮兵5", aiType = "被动出击"},
        {uid = "炮兵6", aiType = "被动出击"},
        {uid = "炮兵7", aiType = "被动出击"},
        {uid = "逢纪", aiType = "逃至指定点", aiArgs = {fixCol = 12, fixRow = 1}, wuqiId = "七星剑", levelAdd = 4},
        {uid = "骑兵1", aiType = "主动出击", isHide = true},
        {uid = "骑兵2", aiType = "主动出击", isHide = true},
        {uid = "骑兵3", aiType = "主动出击", isHide = true},
        {uid = "骑兵4", aiType = "主动出击", isHide = true},
        {uid = "骑兵5", aiType = "主动出击", isHide = true},
        {uid = "骑兵6", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵1", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵2", aiType = "主动出击", isHide = true},
        {uid = "审配", aiType = "主动出击", isHide = true, wuqiId = "五火神焰扇", levelAdd = 4},
        {uid = "骑兵7", aiType = "主动出击", isHide = true},
        {uid = "骑兵8", aiType = "主动出击", isHide = true},
        {uid = "骑兵9", aiType = "主动出击", isHide = true},
        {uid = "骑兵10", aiType = "主动出击", isHide = true},
        {uid = "骑兵11", aiType = "主动出击", isHide = true},
        {uid = "骑兵12", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵3", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵4", aiType = "主动出击", isHide = true},
        {uid = "袁尚", aiType = "主动出击", isHide = true, levelAdd = 2},
        {uid = "骑兵13", aiType = "主动出击", isHide = true},
        {uid = "骑兵14", aiType = "主动出击", isHide = true},
        {uid = "骑兵15", aiType = "主动出击", isHide = true},
        {uid = "骑兵16", aiType = "主动出击", isHide = true},
        {uid = "骑兵17", aiType = "主动出击", isHide = true},
        {uid = "骑兵18", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵5", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵6", aiType = "主动出击", isHide = true},
    },
}

Plot.battleStartPlot = {
    {cmd = "PlayMusic", args = {"Track6"}},
    {
        {cmd = "Dialog", args = {"袁熙", "曹操不会放过我们的，我们无论如何要阻止他，否则我们袁家可能会被消灭。"}},
        {cmd = "Dialog", args = {"袁谭", "袁尚这家伙为什么不派援军，八成是盼着我死吧？"}},
        {cmd = "FaceToFace", args = {"逢纪", "袁谭"}},
        {cmd = "Dialog", args = {"逢纪", "属下催了他好几次了……"}},
        {cmd = "FaceToFace", args = {"郭图", "袁谭"}},
        {cmd = "Dialog", args = {"郭图", "如果援军不来，迫于无奈……"}},
        {cmd = "Dialog", args = {"郭图", "也只有投降曹操了。"}},
        {cmd = "Dialog", args = {"袁谭", "你说的对……"}},
        {cmd = "Dialog", args = {"袁谭", "都该怪袁尚这个混蛋！"}},
        {cmd = "FaceToFace", args = {"袁谭", "逢纪"}},
        {cmd = "Dialog", args = {"袁谭", "逢纪，你马上去袁尚那里，一定要把援军带回来！"}},
        {cmd = "Dialog", args = {"逢纪", "是！"}},
        {cmd = "FaceToFace", args = {"袁谭", "曹操"}},
        {cmd = "FaceToFace", args = {"郭图", "曹操"}},
        {cmd = "GeneralChangeDirection", args = {"逢纪", "up"}},
        {cmd = "Dialog", args = {"郭嘉", "敌人好像正在加强防备，勉强突击只会白白消耗兵力……"}},
        {cmd = "Dialog", args = {"郭嘉", "进军时要多加注意。"}},
        {cmd = "Dialog", args = {"曹操", "嗯、是啊。"}},
    },
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、击退袁谭和袁熙。\n\n失败条件\n一、曹操死亡。\n二、回合数超过25"}},
    {cmd = "ShowBattleWinCondition", args = {"击退袁谭和袁熙！"}},
    {cmd = "HighlightGeneral", args = {"袁谭"}},
    {cmd = "HighlightGeneral", args = {"袁熙"}},
    {cmd = "VarSet", args = {"Var521", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "RoundsTest", args = {10, ">="}},
        {cmd = "GeneralCountsTest", args = {{"player"}, 0, "=", "指定区域", 5, 1, 12, 6}},
        {cmd = "VarTest", args = {{trueConditions = {"Var30"}, falseConditions = {"Var11"}}}},
        {
            {cmd = "GeneralReborn", args = {"逢纪", 8, 1, "down"}},
            {cmd = "GeneralAiChange", args = {"逢纪", "主动出击", "无", 1, 1}},
            {
                {cmd = "GeneralShow", args = {"骑兵1"}},
                {cmd = "GeneralShow", args = {"骑兵2"}},
                {cmd = "GeneralShow", args = {"骑兵3"}},
                {cmd = "GeneralShow", args = {"骑兵4"}},
                {cmd = "GeneralShow", args = {"骑兵5"}},
                {cmd = "GeneralShow", args = {"骑兵6"}},
                {cmd = "GeneralShow", args = {"弓骑兵1"}},
                {cmd = "GeneralShow", args = {"弓骑兵2"}},
            },
            {cmd = "GeneralChangeDirection", args = {"逢纪", "down"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50", "Var51"}}}},
                {cmd = "FaceToFace", args = {"袁谭", "逢纪"}},
                {cmd = "FaceToFace", args = {"袁熙", "逢纪"}},
                {cmd = "Dialog", args = {"逢纪", "对不起，属下来晚了。"}},
                {cmd = "Dialog", args = {"逢纪", "袁尚终于派出了援军。"}},
                {cmd = "Dialog", args = {"逢纪", "大队人马随时会到达。"}},
                {cmd = "Dialog", args = {"袁谭", "做得好，逢纪！"}},
                {cmd = "Dialog", args = {"袁熙", "总算及时赶到。"}},
                {cmd = "FaceToFace", args = {"袁熙", "曹操"}},
                {cmd = "FaceToFace", args = {"袁谭", "曹操"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                {cmd = "FaceToFace", args = {"郭嘉", "曹操"}},
                {cmd = "Dialog", args = {"郭嘉", "主公，这下可棘手了。"}},
                {cmd = "Dialog", args = {"郭嘉", "我们暂且撤退吧？"}},
                {cmd = "ChoiceDialog", args = {"曹操", {"从黎阳撤退", "继续攻击"}}},
                {
                    {cmd = "Dialog", args = {"曹操", "嗯、是啊……"}},
                    {cmd = "Dialog", args = {"曹操", "不能再损耗兵力了。"}},
                    {cmd = "Dialog", args = {"曹操", "我们撤退。"}},
                    {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
                    {cmd = "BattleOver"},
                    {cmd = "VarSet", args = {"Var100", true}},
                    {cmd = "VarSet", args = {"Var0", true}},
                    {cmd = "VarSet", args = {"Var621", true}},
                },
                {
                    {cmd = "GeneralAction", args = {"曹操", "doubleAttack"}},
                    {cmd = "Dialog", args = {"曹操", "哼、援军有什么可怕的！"}},
                    {cmd = "GeneralAction", args = {"曹操", "stand"}},
                },
            },
            {cmd = "VarSet", args = {"Var11", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {15, ">="}},
        {cmd = "GeneralCountsTest", args = {{"player"}, 0, "=", "指定区域", 5, 1, 12, 6}},
        {cmd = "VarTest", args = {{trueConditions = {"Var30"}, falseConditions = {"Var12"}}}},
        {
            {
                {cmd = "GeneralShow", args = {"审配"}},
                {cmd = "GeneralShow", args = {"骑兵7"}},
                {cmd = "GeneralShow", args = {"骑兵8"}},
                {cmd = "GeneralShow", args = {"骑兵9"}},
                {cmd = "GeneralShow", args = {"骑兵10"}},
                {cmd = "GeneralShow", args = {"骑兵11"}},
                {cmd = "GeneralShow", args = {"骑兵12"}},
                {cmd = "GeneralShow", args = {"弓骑兵3"}},
                {cmd = "GeneralShow", args = {"弓骑兵4"}},
            },
            {cmd = "GeneralChangeDirection", args = {"审配", "down"}},
            {cmd = "Dialog", args = {"审配", "这下可惨了，战况很艰苦。"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50", "Var51"}}}},
                {cmd = "FaceToFace", args = {"袁谭", "审配"}},
                {cmd = "FaceToFace", args = {"袁熙", "审配"}},
                {cmd = "Dialog", args = {"袁谭", "说什么鬼话！"}},
                {cmd = "Dialog", args = {"袁谭", "还不是因为你们的援军来晚了。"}},
                {cmd = "Dialog", args = {"袁熙", "大哥，现在正在作战，你别那么暴躁。"}},
                {cmd = "FaceToFace", args = {"袁熙", "曹操"}},
                {cmd = "FaceToFace", args = {"袁谭", "曹操"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                {cmd = "FaceToFace", args = {"郭嘉", "曹操"}},
                {cmd = "Dialog", args = {"郭嘉", "想不到有这么多援军！"}},
                {cmd = "Dialog", args = {"郭嘉", "我看还是撤退吧。"}},
                {cmd = "ChoiceDialog", args = {"曹操", {"从黎阳撤退", "继续攻击"}}},
                {
                    {cmd = "Dialog", args = {"曹操", "嗯、是啊……"}},
                    {cmd = "Dialog", args = {"曹操", "不能再损耗兵力了。"}},
                    {cmd = "Dialog", args = {"曹操", "我们撤退。"}},
                    {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
                    {cmd = "BattleOver"},
                    {cmd = "VarSet", args = {"Var100", true}},
                    {cmd = "VarSet", args = {"Var0", true}},
                    {cmd = "VarSet", args = {"Var621", true}},
                },
                {
                    {cmd = "FaceToFace", args = {"曹操", "郭嘉"}},
                    {cmd = "Dialog", args = {"曹操", "只差一点了。"}},
                    {cmd = "Dialog", args = {"曹操", "没有必要撤退。"}},
                },
            },
            {cmd = "VarSet", args = {"Var12", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {20, ">="}},
        {cmd = "GeneralCountsTest", args = {{"player"}, 0, "=", "指定区域", 5, 1, 12, 6}},
        {cmd = "VarTest", args = {{trueConditions = {"Var30"}, falseConditions = {"Var13"}}}},
        {
            {
                {cmd = "GeneralShow", args = {"骑兵13"}},
                {cmd = "GeneralShow", args = {"骑兵14"}},
                {cmd = "GeneralShow", args = {"骑兵15"}},
                {cmd = "GeneralShow", args = {"骑兵16"}},
                {cmd = "GeneralShow", args = {"骑兵17"}},
                {cmd = "GeneralShow", args = {"骑兵18"}},
                {cmd = "GeneralShow", args = {"弓骑兵5"}},
                {cmd = "GeneralShow", args = {"弓骑兵6"}},
                {cmd = "GeneralShow", args = {"袁尚"}},
            },
            {cmd = "GeneralChangeDirection", args = {"袁尚", "down"}},
            {cmd = "Dialog", args = {"袁尚", "大哥只会说大话，最后还不是得靠我。"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50", "Var51"}}}},
                {cmd = "FaceToFace", args = {"袁谭", "袁尚"}},
                {cmd = "FaceToFace", args = {"袁熙", "袁尚"}},
                {cmd = "Dialog", args = {"袁谭", "什么？看我不教训你！"}},
                {cmd = "Dialog", args = {"袁熙", "现在不是兄弟争吵的时候……"}},
                {cmd = "FaceToFace", args = {"袁熙", "曹操"}},
                {cmd = "FaceToFace", args = {"袁谭", "曹操"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                {cmd = "FaceToFace", args = {"郭嘉", "曹操"}},
                {cmd = "Dialog", args = {"郭嘉", "袁尚亲自率领援军赶来了。"}},
                {cmd = "Dialog", args = {"郭嘉", "不过他们兄弟之间，好像还有些不和。"}},
                {cmd = "Dialog", args = {"郭嘉", "主公，该怎么办，要撤退吗？"}},
                {cmd = "ChoiceDialog", args = {"曹操", {"从黎阳撤退", "继续攻击"}}},
                {
                    {cmd = "Dialog", args = {"曹操", "我们如果撤退，袁家兄弟就会内讧，还是先撤退吧。"}},
                    {cmd = "GeneralsDisappear", args = {{"player"}, 1, 1, 20, 40}},
                    {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
                    {cmd = "BattleOver"},
                    {cmd = "VarSet", args = {"Var100", true}},
                    {cmd = "VarSet", args = {"Var0", true}},
                    {cmd = "VarSet", args = {"Var621", true}},
                },
                {
                    {cmd = "FaceToFace", args = {"曹操", "郭嘉"}},
                    {cmd = "Dialog", args = {"曹操", "这是将袁家一网打尽的好机会。"}},
                    {cmd = "Dialog", args = {"曹操", "绝不能放过！"}},
                },
            },
            {cmd = "VarSet", args = {"Var13", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 19, 38}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AddItem", args = {"恢复用桃", 0}},
            {cmd = "VarSet", args = {"Var20", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 19, 37}},
        {cmd = "VarTest", args = {{falseConditions = {"Var21"}}}},
        {
            {cmd = "AddItem", args = {"神秘水", 0}},
            {cmd = "VarSet", args = {"Var21", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 18, 37}},
        {cmd = "VarTest", args = {{falseConditions = {"Var22"}}}},
        {
            {cmd = "AddItem", args = {"恢复用豆", 0}},
            {cmd = "VarSet", args = {"Var22", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 18, 38}},
        {cmd = "VarTest", args = {{falseConditions = {"Var23"}}}},
        {
            {cmd = "AddItem", args = {"恢复用豆", 0}},
            {cmd = "VarSet", args = {"Var23", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 15, 12}},
        {cmd = "VarTest", args = {{falseConditions = {"Var24"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var24", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {"逢纪", 1, 1, 20, 3}},
        {cmd = "VarTest", args = {{falseConditions = {"Var30"}}}},
        {
            {cmd = "GeneralChangeDirection", args = {"逢纪", "down"}},
            {cmd = "Dialog", args = {"逢纪", "（作战之中兄弟不和，必胜的仗也打不赢。"}},
            {cmd = "Dialog", args = {"逢纪", "无论如何还是需要援军的。）"}},
            {cmd = "RoleDisappear", args = {"逢纪"}},
            {
                {cmd = "RoundsTest", args = {10, ">="}},
                {cmd = "VarSet", args = {"Var11", true}},
                {cmd = "VarSet", args = {"Var12", true}},
                {cmd = "VarSet", args = {"Var13", true}},
            },
            {cmd = "VarSet", args = {"Var30", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 13, 32, 20, 40}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var31"}}}},
        {
            {cmd = "FaceToFace", args = {"袁谭", "曹操"}},
            {cmd = "Dialog", args = {"袁谭", "怎么搞的？"}},
            {cmd = "Dialog", args = {"袁谭", "敌人都到跟前了！"}},
            {cmd = "GeneralAiChange", args = {"步兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"武术家1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"武术家2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"武术家3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"武术家4", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var31", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 15, 34, 20, 40}},
        {cmd = "VarTest", args = {{falseConditions = {"Var32"}}}},
        {
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50", "Var53"}}}},
                {cmd = "FaceToFace", args = {"郭图", "袁谭"}},
                {cmd = "Dialog", args = {"郭图", "主公，这里很危险，请先到后方吧！"}},
                {cmd = "FaceToFace", args = {"袁谭", "郭图"}},
                {cmd = "Dialog", args = {"袁谭", "可恶的曹操老贼……"}},
            },
            {cmd = "GeneralAiChange", args = {"袁谭", "逃至指定点", "无", 15, 12}},
            {cmd = "GeneralAiChange", args = {"郭图", "逃至指定点", "无", 15, 12}},
            {cmd = "VarSet", args = {"Var32", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 12, 9, 18, 15}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var33"}}}},
        {
            {cmd = "GeneralAction", args = {"袁熙", "prepareAttack"}},
            {cmd = "Dialog", args = {"袁熙", "大家全力一拼吧！"}},
            {cmd = "Dialog", args = {"袁熙", "我们一起打败敌人！"}},
            {cmd = "GeneralAction", args = {"袁熙", "stand"}},
            {cmd = "GeneralAiChange", args = {"步兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵6", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵7", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵8", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵6", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"袁熙", "坚守原地", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"袁谭", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"郭图", "被动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var33", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 1, 1, 20, 20}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var34"}}}},
        {
            {cmd = "GeneralAiChange", args = {"步兵10", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵11", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵11", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵12", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵13", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵14", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var34", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 1, 1, 20, 29}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var35"}}}},
        {
            {cmd = "GeneralAiChange", args = {"步兵9", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵7", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵8", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵9", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵10", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var35", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "袁谭", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"曹操", "袁谭"}},
            {cmd = "FaceToFace", args = {"袁谭", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "喂、袁谭！"}},
            {cmd = "Dialog", args = {"曹操", "我来送你去见袁绍吧。"}},
            {cmd = "Dialog", args = {"袁谭", "可恶！"}},
            {cmd = "Dialog", args = {"袁谭", "闭上你的嘴！"}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "袁熙", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"曹操", "袁熙"}},
            {cmd = "FaceToFace", args = {"袁熙", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "你是袁绍的次子吧？"}},
            {cmd = "Dialog", args = {"曹操", "还不快快投降？"}},
            {cmd = "Dialog", args = {"袁熙", "投降？"}},
            {cmd = "Dialog", args = {"袁熙", "我要为父亲报仇。"}},
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"郭嘉", "郭图", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"郭嘉", "郭图"}},
            {cmd = "FaceToFace", args = {"郭图", "郭嘉"}},
            {cmd = "Dialog", args = {"郭嘉", "郭图，你认错主子了。"}},
            {cmd = "Dialog", args = {"郭图", "少胡说！"}},
            {cmd = "Dialog", args = {"郭图", "还不知道以后的天下，是姓袁还是姓曹呢！"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"袁谭", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var51"}}}},
                {cmd = "AllGeneralsRecover"},
                {cmd = "Dialog", args = {"袁谭", "太可恨了！"}},
                {cmd = "Dialog", args = {"袁谭", "全军撤退！快撤！"}},
                {cmd = "GeneralRetreat", args = {"袁谭", false}},
                {cmd = "Dialog", args = {"袁尚", "（援军好不容易赶到，还是无力回天……"}},
                {cmd = "Dialog", args = {"袁尚", "大哥实在太不中用了。）"}},
                {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 1, 20, 40}},
                {cmd = "Dialog", args = {"曹操", "很好，总算击退了敌人。"}},
                {cmd = "Dialog", args = {"曹操", "我军胜利了！"}},
                {cmd = "BattleExtraItems", args = {0, "印绶", 0, "", 0, "", 0, false}},
                {cmd = "BattleOver"},
                {cmd = "VarSet", args = {"Var101", true}},
                {cmd = "VarSet", args = {"Var0", true}},
                {cmd = "VarSet", args = {"Var621", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "Dialog", args = {"袁谭", "撤退，撤退！"}},
                {cmd = "GeneralRetreat", args = {"袁谭", false}},
            },
            {cmd = "VarSet", args = {"Var50", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"袁熙", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var50"}}}},
                {cmd = "AllGeneralsRecover"},
                {cmd = "Dialog", args = {"袁熙", "迫于无奈，全军撤退吧……"}},
                {cmd = "Dialog", args = {"袁熙", "回去重整旗鼓！"}},
                {cmd = "GeneralRetreat", args = {"袁熙", false}},
                {cmd = "Dialog", args = {"袁尚", "（兄弟之间早晚得有个结果。）"}},
                {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 1, 20, 40}},
                {cmd = "Dialog", args = {"曹操", "很好，总算击退了敌人。"}},
                {cmd = "Dialog", args = {"曹操", "我军胜利了！"}},
                {cmd = "BattleExtraItems", args = {0, "印绶", 0, "", 0, "", 0, false}},
                {cmd = "BattleOver"},
                {cmd = "VarSet", args = {"Var101", true}},
                {cmd = "VarSet", args = {"Var0", true}},
                {cmd = "VarSet", args = {"Var621", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "Dialog", args = {"袁熙", "糟，糟了。"}},
                {cmd = "GeneralRetreat", args = {"袁熙", false}},
            },
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"逢纪", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"逢纪", "怎，怎么会这样？"}},
            {cmd = "Dialog", args = {"逢纪", "当初袁绍主公去世的时候，我实在应该投奔他国的……"}},
            {cmd = "GeneralRetreat", args = {"逢纪", true}},
            {cmd = "AddItem", args = {"七星剑", 0}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"郭图", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"郭图", "撤退，撤退！"}},
            {cmd = "Dialog", args = {"郭图", "这种情况下打不赢的！"}},
            {cmd = "GeneralRetreat", args = {"郭图", false}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"袁尚", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
        {
            {cmd = "Dialog", args = {"袁尚", "唉、不应该派援军来的。"}},
            {cmd = "Dialog", args = {"袁尚", "撤退吧！"}},
            {cmd = "GeneralRetreat", args = {"袁尚", false}},
            {cmd = "VarSet", args = {"Var54", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"审配", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
        {
            {cmd = "Dialog", args = {"审配", "可、可恶！"}},
            {cmd = "Dialog", args = {"审配", "没办法了，撤退。"}},
            {cmd = "GeneralRetreat", args = {"审配", false}},
            {cmd = "VarSet", args = {"Var55", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"郭嘉", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
        {
            {cmd = "VarSet", args = {"Var56", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{trueConditions = {"Var100", "Var101"}, falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "很好，总算击退了敌人。"}},
            {cmd = "Dialog", args = {"曹操", "我军胜利了！"}},
            {cmd = "BattleExtraItems", args = {0, "印绶", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var621", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操败给了袁谭。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
