local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "马超迎击战",
    maxRounds    = 25,
    mapId        = "31.tmx",
    weatherStart = {"晴", "晴", "雨", "阴", "雪"},
    weatherType  = {"雪"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    friendGeneralList = {
        {uid = "梦梅", aiType = "被动出击", isHide = true, levelAdd = 4},
    },
    enemyGeneralList = {
        {uid = "韩遂", aiType = "坚守原地", isKeyGeneral = true, levelAdd = 4},
        {uid = "马岱", aiType = "主动出击", levelAdd = 4},
        {uid = "庞德", aiType = "主动出击", levelAdd = 4},
        {uid = "马腾", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "西凉骑兵1", aiType = "主动出击"},
        {uid = "西凉骑兵2", aiType = "主动出击"},
        {uid = "西凉骑兵3", aiType = "主动出击"},
        {uid = "西凉骑兵4", aiType = "主动出击"},
        {uid = "风水士1", aiType = "主动出击"},
        {uid = "驯虎师1", aiType = "主动出击"},
        {uid = "驯虎师2", aiType = "主动出击"},
        {uid = "驯虎师3", aiType = "主动出击"},
        {uid = "驯虎师4", aiType = "主动出击"},
        {uid = "弓兵1", aiType = "主动出击"},
        {uid = "弓兵2", aiType = "主动出击"},
        {uid = "弓兵3", aiType = "主动出击"},
        {uid = "弓兵4", aiType = "主动出击"},
        {uid = "马超", aiType = "主动出击", levelAdd = 4},
        {uid = "炮兵1", aiType = "被动出击"},
        {uid = "炮兵2", aiType = "被动出击"},
        {uid = "步兵1", aiType = "坚守原地"},
        {uid = "步兵2", aiType = "坚守原地"},
        {uid = "步兵3", aiType = "坚守原地"},
        {uid = "步兵4", aiType = "坚守原地"},
        {uid = "步兵5", aiType = "坚守原地"},
        {uid = "步兵6", aiType = "坚守原地"},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"庞德", "默认装备", 0, "默认装备", 0, "铁盔"}},
        {cmd = "GeneralEquipsSet", args = {"韩遂", "默认装备", 0, "默认装备", 0, "铜盾"}},
    },
    {cmd = "PlayMusic", args = {"Track5"}},
    {
        {cmd = "FaceToFace", args = {"马岱", "马超"}},
        {cmd = "Dialog", args = {"马岱", "在我们的猛攻之下，曹军就快瓦解了。"}},
        {cmd = "Dialog", args = {"马岱", "再发起一次猛攻吧！"}},
        {cmd = "FaceToFace", args = {"韩遂", "马岱"}},
        {cmd = "Dialog", args = {"韩遂", "不要性急。"}},
        {cmd = "Dialog", args = {"韩遂", "虽然连战皆胜稳居优势，但我军也已十分疲惫了。"}},
        {cmd = "Dialog", args = {"马超", "韩遂叔父说得有理。"}},
        {cmd = "Dialog", args = {"马超", "我们先暂时休息一下，明天一早再发动攻击。"}},
        {cmd = "FaceToFace", args = {"庞德", "马超"}},
        {cmd = "Dialog", args = {"庞德", "那么向全军传令吧。"}},
        {cmd = "Dialog", args = {"庞德", "也许敌军会来偷袭。"}},
        {cmd = "Dialog", args = {"庞德", "大家不可怠慢，要严加警戒。"}},
        {cmd = "GeneralChangeDirection", args = {"马岱", "up"}},
        {cmd = "GeneralChangeDirection", args = {"韩遂", "up"}},
        {cmd = "GeneralChangeDirection", args = {"庞德", "up"}},
        {cmd = "Dialog", args = {"贾诩", "主公，敌人多次进攻，我们的鹿砦已经遭到严重破坏，恐怕很难抵挡下次的攻击。"}},
        {cmd = "Dialog", args = {"曹操", "我知道！"}},
        {cmd = "Dialog", args = {"曹操", "但是不能光叫苦啊。"}},
        {cmd = "FaceToFace", args = {"曹操", "许褚"}},
        {cmd = "Dialog", args = {"曹操", "许褚，鹿砦抢修得如何？"}},
        {cmd = "Dialog", args = {"许褚", "赶是赶了，不过……"}},
        {cmd = "FaceToFace", args = {"曹操", "马超"}},
        {cmd = "Dialog", args = {"曹操", "曹洪和徐晃率领的分遣部队……"}},
        {cmd = "Dialog", args = {"曹操", "现在已经迂回到敌军后方。"}},
        {cmd = "Dialog", args = {"曹操", "如果他们能够顺利夺下敌人的鹿砦……"}},
        {cmd = "Dialog", args = {"贾诩", "但是光靠分遣部队，只怕很难敌过对方的大军。"}},
        {cmd = "Dialog", args = {"贾诩", "主公打算如何增援他们呢？"}},
        {cmd = "Dialog", args = {"曹操", "（这确实是个问题……\n我该不该以主力部队吸引敌人，好让分遣部队顺利夺取敌人鹿砦？）"}},
        {cmd = "Dialog", args = {"曹操", "（还是配合分遣部队的进攻，对敌人进行夹击呢……？）"}},
    },
    {cmd = "ChoiceDialog", args = {"曹操", {"以主力部队牵制敌军", "与分遣部队夹击敌军"}}},
    {
        {cmd = "Dialog", args = {"曹操", "分遣部队能否攻下敌人鹿砦，取决于我军主力能牵制多少敌军！"}},
        {cmd = "Dialog", args = {"贾诩", "采取诱敌作战是吧。"}},
        {cmd = "FaceToFace", args = {"曹操", "贾诩"}},
        {cmd = "Dialog", args = {"曹操", "嗯，我决定亲自担任诱饵，引诱敌军蜂拥而出！"}},
        {cmd = "Dialog", args = {"曹操", "这将是危险的一搏。"}},
        {cmd = "Dialog", args = {"曹操", "许褚，你和贾诩留在此地，加速抢修鹿砦，巩固防线！"}},
        {cmd = "Dialog", args = {"许褚", "但是……好吧，末将明白。"}},
        {cmd = "FaceToFace", args = {"曹操", "马超"}},
        {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
        {cmd = "Dialog", args = {"曹操", "好！出阵！"}},
        {cmd = "GeneralAction", args = {"曹操", "stand"}},
        {
            {cmd = "PlayerGeneralMove", args = {10, 8, 13, "down"}},
            {cmd = "PlayerGeneralMove", args = {6, 9, 13, "down"}},
            {cmd = "PlayerGeneralMove", args = {8, 10, 13, "down"}},
            {cmd = "PlayerGeneralMove", args = {0, 9, 12, "down"}},
            {cmd = "PlayerGeneralMove", args = {12, 10, 12, "down"}},
        },
        {cmd = "Dialog", args = {"马超", "嗯？曹操出阵了！？"}},
        {cmd = "Dialog", args = {"马超", "好！我们也出战。"}},
        {cmd = "Dialog", args = {"马超", "传令全军出战！"}},
        {cmd = "Dialog", args = {"韩遂", "我留在这里防守。"}},
        {cmd = "Dialog", args = {"韩遂", "敌人可能有诈，大家要多加小心。"}},
        {cmd = "Dialog", args = {"马岱", "不用担心。"}},
        {cmd = "Dialog", args = {"马岱", "是吧，庞德将军？"}},
        {cmd = "Dialog", args = {"庞德", "韩遂将军请放心。"}},
        {cmd = "Dialog", args = {"庞德", "我们会谨慎行事的。"}},
        {
            {cmd = "RoleMove", args = {"西凉骑兵1", "up", 7, 16}},
            {cmd = "RoleMove", args = {"西凉骑兵2", "up", 8, 16}},
            {cmd = "RoleMove", args = {"西凉骑兵3", "up", 9, 16}},
            {cmd = "RoleMove", args = {"西凉骑兵4", "up", 10, 16}},
            {cmd = "RoleMove", args = {"庞德", "up", 7, 17}},
            {cmd = "RoleMove", args = {"马超", "up", 8, 17}},
            {cmd = "RoleMove", args = {"马岱", "up", 9, 17}},
            {cmd = "RoleMove", args = {"风水士1", "up", 10, 17}},
            {cmd = "RoleMove", args = {"驯虎师1", "up", 4, 16}},
            {cmd = "RoleMove", args = {"驯虎师2", "up", 5, 16}},
            {cmd = "RoleMove", args = {"驯虎师3", "up", 12, 16}},
            {cmd = "RoleMove", args = {"驯虎师4", "up", 13, 16}},
            {cmd = "RoleMove", args = {"弓兵1", "up", 4, 17}},
            {cmd = "RoleMove", args = {"弓兵2", "up", 5, 17}},
            {cmd = "RoleMove", args = {"弓兵3", "up", 12, 17}},
            {cmd = "RoleMove", args = {"弓兵4", "up", 13, 17}},
        },
        {cmd = "Dialog", args = {"曹操", "敌我兵力相差实在过于悬殊。"}},
        {cmd = "Dialog", args = {"曹操", "不过无论如何，都要牵制敌军的兵力。"}},
        {
            {cmd = "PlayerGeneralMove", args = {0, 9, 11, "down"}},
            {cmd = "PlayerGeneralMove", args = {12, 10, 11, "down"}},
            {cmd = "PlayerGeneralMove", args = {10, 8, 12, "down"}},
            {cmd = "PlayerGeneralMove", args = {6, 9, 12, "down"}},
            {cmd = "PlayerGeneralMove", args = {8, 10, 12, "down"}},
        },
        {cmd = "Dialog", args = {"曹操", "众将士，以决死之心应战吧！"}},
        {cmd = "Dialog", args = {"曹操", "我们要坚决守住这里！"}},
        {
            {cmd = "PlayerGeneralMove", args = {0, 9, 10, "down"}},
            {cmd = "PlayerGeneralMove", args = {12, 10, 10, "down"}},
            {cmd = "PlayerGeneralMove", args = {10, 8, 11, "down"}},
            {cmd = "PlayerGeneralMove", args = {6, 9, 11, "down"}},
            {cmd = "PlayerGeneralMove", args = {8, 10, 11, "down"}},
        },
        {cmd = "Dialog", args = {"马超", "看起来好像是在吸引我军？"}},
        {cmd = "Dialog", args = {"马超", "不过河边好像没有伏兵的迹象。"}},
        {cmd = "Dialog", args = {"庞德", "还是小心为妙，步步为营吧。"}},
        {cmd = "Dialog", args = {"曹操", "敌军异常谨慎，但这正对我们有利。"}},
        {cmd = "GeneralChangeDirection", args = {"曹操", "left"}},
        {cmd = "Dialog", args = {"曹操", "！？啊？"}},
        {cmd = "GeneralShow", args = {"梦梅"}},
        {cmd = "RoleMove", args = {"梦梅", "right", 7, 14}},
        {cmd = "RoleMove", args = {"梦梅", "up", 7, 9}},
        {cmd = "RoleMove", args = {"梦梅", "right", 10, 9}},
        {cmd = "RoleMove", args = {"梦梅", "down", 10, 3}},
        {cmd = "Dialog", args = {"梦梅", "看您似乎有点为难是吗？"}},
        {cmd = "Dialog", args = {"梦梅", "让我来助您一臂之力吧。"}},
        {cmd = "Dialog", args = {"许褚", "来者何人！"}},
        {cmd = "FaceToFace", args = {"曹操", "梦梅"}},
        {cmd = "Dialog", args = {"曹操", "哦，那不是梦梅先生吗？"}},
        {cmd = "Dialog", args = {"曹操", "听说您一直隐居山野，今日怎么会在此地出现？"}},
        {cmd = "Dialog", args = {"曹操", "许褚，不得无礼。"}},
        {cmd = "Dialog", args = {"曹操", "那位老人家仙风道骨，是来指点我们良策的。"}},
        {cmd = "Dialog", args = {"梦梅", "老夫何来仙风道骨？"}},
        {cmd = "Dialog", args = {"梦梅", "不过是个隐居的老汉罢了。"}},
        {cmd = "Dialog", args = {"梦梅", "我与曹操有一面之缘，本想帮助他一臂之力，所以才来到此地的。"}},
        {cmd = "Dialog", args = {"贾诩", "梦梅先生打算如何帮助我们？"}},
        {cmd = "Dialog", args = {"梦梅", "老夫看你们修补鹿砦很费时，如果只是想暂应急的话，老夫倒有一个好办法。"}},
        {cmd = "Dialog", args = {"许褚", "什么办法？"}},
        {cmd = "Dialog", args = {"梦梅", "在栅栏附近堆砌瓦砾，引河水浇在上面，这么寒冷的天气，很快就会结冰的。"}},
        {cmd = "Dialog", args = {"贾诩", "原来如此！"}},
        {cmd = "Dialog", args = {"贾诩", "这么一来天然的要塞冰城，就可以不费吹灰之力完成了。"}},
        {cmd = "RoleMove", args = {"许褚", "left", 7, 2}},
        {cmd = "Dialog", args = {"许褚", "那么我们快行动吧。"}},
        {
            {cmd = "AddObstacle", args = {"Gate-47", true, "城墙", 6, 1}},
            {cmd = "AddObstacle", args = {"Gate-49", true, "城墙", 6, 2}},
            {cmd = "AddObstacle", args = {"Gate-51", true, "城墙", 6, 3}},
            {cmd = "AddObstacle", args = {"Gate-53", true, "城墙", 6, 4}},
        },
        {cmd = "RoleMove", args = {"许褚", "down", 9, 3}},
        {cmd = "Dialog", args = {"许褚", "这里要浇水！"}},
        {
            {cmd = "AddObstacle", args = {"Gate-55", true, "城墙", 7, 4}},
            {cmd = "AddObstacle", args = {"Gate-57", true, "城墙", 8, 4}},
            {cmd = "AddObstacle", args = {"Gate-59", true, "城墙", 11, 4}},
            {cmd = "AddObstacle", args = {"Gate-61", true, "城墙", 12, 4}},
        },
        {cmd = "RoleMove", args = {"许褚", "right", 12, 2}},
        {cmd = "Dialog", args = {"许褚", "还有这里也要。"}},
        {
            {cmd = "AddObstacle", args = {"Gate-63", true, "城墙", 13, 4}},
            {cmd = "AddObstacle", args = {"Gate-65", true, "城墙", 13, 3}},
            {cmd = "AddObstacle", args = {"Gate-67", true, "城墙", 13, 2}},
            {cmd = "AddObstacle", args = {"Gate-69", true, "城墙", 13, 1}},
        },
        {cmd = "RoleMove", args = {"许褚", "down", 10, 2}},
        {cmd = "Dialog", args = {"许褚", "喔、喔、完成了！"}},
        {cmd = "Dialog", args = {"贾诩", "太好了！"}},
        {cmd = "Dialog", args = {"梦梅", "嗯，那么老夫就先告辞吧！"}},
        {cmd = "Dialog", args = {"梦梅", "以后要靠你们自己努力了。"}},
        {cmd = "RoleDisappear", args = {"梦梅"}},
        {cmd = "Dialog", args = {"曹操", "嗯，梦梅先生。曹某不胜感激。"}},
        {cmd = "Dialog", args = {"曹操", "好，全军将士撤回鹿砦！"}},
        {cmd = "Dialog", args = {"曹操", "据守鹿砦抵抗敌人的攻势。"}},
        {cmd = "Dialog", args = {"马岱", "那、那座闪闪发光的城，究竟是怎么一回事……？"}},
        {cmd = "Dialog", args = {"马岱", "到底发生什么事了！？"}},
        {cmd = "Dialog", args = {"韩遂", "是、是冰城！"}},
        {cmd = "Dialog", args = {"韩遂", "唔唔，居然建起了堡垒！"}},
        {cmd = "Dialog", args = {"庞德", "这么一来不论怎么攻击，都能很快修好鹿砦了，值此寒冬可谓固若金汤啊。"}},
        {cmd = "Dialog", args = {"马超", "冰城算什么！"}},
        {cmd = "Dialog", args = {"马超", "别怕！全军进攻！"}},
        {cmd = "Dialog", args = {"马超", "我们要全力击败他们！"}},
        {cmd = "VarSet", args = {"Var2", true}},
    },
    {
        {cmd = "Dialog", args = {"曹操", "即使牵制住敌人，这座城池还是很难守住。"}},
        {cmd = "Dialog", args = {"贾诩", "那就坚守到分遣部队到达吧。"}},
        {cmd = "Dialog", args = {"曹操", "嗯，我们就在这河畔等待时机！"}},
        {cmd = "Dialog", args = {"曹操", "轻易惊动敌人反而会更危险！"}},
        {cmd = "Dialog", args = {"庞德", "敌人好像打算在河边布阵，修筑阵地以便拖延时间。"}},
        {cmd = "Dialog", args = {"马岱", "他们这样对峙只是白费力气。"}},
        {cmd = "Dialog", args = {"韩遂", "尽管如此，也不能坐视不管。"}},
        {cmd = "Dialog", args = {"马超", "让兵马们充分休息之后，再按照计划来收拾他们！"}},
        {
            {cmd = "GeneralAiChange", args = {"马超", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"马岱", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"庞德", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵1", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵2", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵3", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵4", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"风水士1", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师1", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师2", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师3", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师4", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵3", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵4", "被动出击", "无", 1, 1}},
        },
    },
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、击退韩遂。\n\n失败条件\n一、曹操死亡。\n二、回合数超过25。"}},
    {cmd = "ShowBattleWinCondition", args = {"击退韩遂！"}},
    {cmd = "HighlightGeneral", args = {"韩遂"}},
    {cmd = "VarSet", args = {"Var531", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "RoundsTest", args = {4, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var11"}}}},
        {
            {cmd = "PlayerGeneralShow", args = {1}},
            {cmd = "PlayerGeneralShow", args = {2}},
            {cmd = "PlayerGeneralShow", args = {5}},
            {cmd = "PlayerGeneralShow", args = {7}},
            {cmd = "PlayerGeneralShow", args = {9}},
            {cmd = "PlayerGeneralShow", args = {11}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var2"}}}},
                {cmd = "Dialog", args = {"曹洪", "我们成功地迂回到敌人背后了。"}},
                {cmd = "Dialog", args = {"徐晃", "敌人好像没有发现我们的踪迹。"}},
                {cmd = "Dialog", args = {"曹洪", "如今主公牵制了敌人，可说是我们的大好时机啊！"}},
                {cmd = "Dialog", args = {"曹洪", "咱们就一鼓作气攻占敌人的营寨吧！"}},
                {cmd = "Dialog", args = {"徐晃", "全军冲锋！冲啊！"}},
            },
            {
                {cmd = "Else"},
                {
                    {cmd = "VarTest", args = {{trueConditions = {"Var30"}}}},
                    {cmd = "Dialog", args = {"曹洪", "唔，不好。"}},
                    {cmd = "Dialog", args = {"曹洪", "已经开始战斗了。"}},
                    {cmd = "Dialog", args = {"徐晃", "快！慢一步主营就会有危险。"}},
                    {cmd = "Dialog", args = {"徐晃", "冲啊！"}},
                },
                {
                    {cmd = "Else"},
                    {cmd = "Dialog", args = {"曹洪", "我们已经顺利迂回到敌人背后了。"}},
                    {cmd = "Dialog", args = {"徐晃", "全军将士，快，突击！"}},
                    {cmd = "FaceToFace", args = {"曹操", "韩遂"}},
                    {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
                    {cmd = "Dialog", args = {"曹操", "好！全军突击！"}},
                    {cmd = "Dialog", args = {"曹操", "和分遣部队夹击敌人！"}},
                    {cmd = "GeneralAction", args = {"曹操", "stand"}},
                },
            },
            {cmd = "VarSet", args = {"Var11", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {6, "="}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{trueConditions = {"Var11"}, falseConditions = {"Var2", "Var12", "Var30"}}}},
        {
            {cmd = "Dialog", args = {"韩遂", "嗯嗯，想不到会遭到夹击……"}},
            {cmd = "Dialog", args = {"韩遂", "不过就凭区区这些兵力，夹击又能发挥什么作用呢？"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"马超", "曹操"}},
                {cmd = "Dialog", args = {"马超", "曹操老贼，你这个狡猾的家伙。"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                {cmd = "FaceToFace", args = {"马岱", "曹操"}},
                {cmd = "Dialog", args = {"马岱", "不会让你得逞的！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                {cmd = "FaceToFace", args = {"庞德", "曹操"}},
                {cmd = "Dialog", args = {"庞德", "只要砍下曹操的首级就行了！"}},
                {cmd = "Dialog", args = {"庞德", "这点夹击还不足以动摇我军。"}},
            },
            {cmd = "GeneralAiChange", args = {"马超", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"马岱", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"马腾", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"庞德", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"风水士1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师1", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"驯虎师2", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"驯虎师3", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"驯虎师4", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵3", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵4", "到指定点", "无", 8, 23}},
            {cmd = "VarSet", args = {"Var12", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 8, 23}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var20", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 9, 24}},
        {cmd = "VarTest", args = {{falseConditions = {"Var21"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var21", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 1, 11, 16, 32}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var2", "Var12", "Var30"}}}},
        {
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50", "Var51", "Var52", "Var53"}}}},
                {cmd = "Dialog", args = {"马超", "曹军大概等得不耐烦了。"}},
                {cmd = "Dialog", args = {"马超", "全军出击！让曹操一败涂地！"}},
                {cmd = "Dialog", args = {"马岱", "喔喔，打垮这些鼠辈！"}},
                {cmd = "Dialog", args = {"马超", "叔父，营寨就托付您了！"}},
                {cmd = "Dialog", args = {"韩遂", "好，放心吧。"}},
                {cmd = "Dialog", args = {"韩遂", "我韩遂誓死守卫营寨！"}},
            },
            {cmd = "GeneralAiChange", args = {"马超", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"马岱", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"马腾", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"庞德", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"风水士1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师1", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"驯虎师2", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"驯虎师3", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"驯虎师4", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵3", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵4", "到指定点", "无", 8, 23}},
            {cmd = "VarSet", args = {"Var30", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 5, 20, 12, 27}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var31"}}}},
        {
            {cmd = "Dialog", args = {"韩遂", "唔唔，不要让敌人冲进营寨啊！"}},
            {cmd = "Dialog", args = {"韩遂", "快反击！"}},
            {cmd = "GeneralAiChange", args = {"步兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵6", "主动出击", "无", 1, 1}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var2"}}}},
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                    {cmd = "FaceToFace", args = {"马超", "韩遂"}},
                    {cmd = "Dialog", args = {"马超", "糟了……营寨……"}},
                    {cmd = "Dialog", args = {"马超", "快撤回去！"}},
                    {cmd = "Dialog", args = {"马超", "守住营寨！"}},
                },
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                    {cmd = "FaceToFace", args = {"庞德", "韩遂"}},
                    {cmd = "Dialog", args = {"庞德", "韩遂将军危险。"}},
                    {cmd = "Dialog", args = {"庞德", "全军撤回！"}},
                    {cmd = "Dialog", args = {"庞德", "保卫营寨！"}},
                },
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                    {cmd = "FaceToFace", args = {"马岱", "韩遂"}},
                    {cmd = "Dialog", args = {"马岱", "唔唔，可恶的曹操老贼！"}},
                    {cmd = "Dialog", args = {"马岱", "竟然派了支部队夹击……"}},
                    {cmd = "Dialog", args = {"马岱", "实在太狡猾了。"}},
                },
            },
            {cmd = "GeneralAiChange", args = {"马超", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"马岱", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"马腾", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"庞德", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵1", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵2", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵3", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"西凉骑兵4", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"风水士1", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"驯虎师1", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"驯虎师2", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"驯虎师3", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"驯虎师4", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵3", "到指定点", "无", 8, 23}},
            {cmd = "GeneralAiChange", args = {"弓兵4", "到指定点", "无", 8, 23}},
            {cmd = "VarSet", args = {"Var31", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"许褚", "马超", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"许褚", "马超"}},
            {cmd = "FaceToFace", args = {"马超", "许褚"}},
            {cmd = "Dialog", args = {"许褚", "呵呵，你就是马超吧。"}},
            {cmd = "Dialog", args = {"许褚", "我想跟你交手！"}},
            {cmd = "Dialog", args = {"马超", "有意思，我马孟起奉陪到底！"}},
            {
                {cmd = "PkPrepare", args = {"许褚", "马超"}},
                {cmd = "PkGeneralShow", args = {false, "我乃许褚。\n马超！领教了！", "攻击"}},
                {cmd = "PkGeneralShow", args = {true, "原来如此。\n你就是被称为虎痴的许褚？\n有你这样的对手真是太好了！", "攻击预备"}},
                {cmd = "PkShowStart"},
                {cmd = "PkGeneralAction", args = {false, "攻击预备"}},
                {cmd = "PkShowDialog", args = {false, "看招！", true}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAttack2", args = {false, "格挡", true}},
                {cmd = "PkGeneralAttack2", args = {true, "格挡", true}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {true, "格挡", true}},
                {cmd = "PkGeneralAttack2", args = {false, "格挡", true}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {true, "后退", true}},
                {cmd = "PkShowDialog", args = {false, "啊，好热……\n汗水都流进眼睛里了，\n真是受不了！", true}},
                {cmd = "PkGeneralAction", args = {true, "无"}},
                {cmd = "PkGeneralAction", args = {false, "防御"}},
                {cmd = "PkShowDialog", args = {false, "马超！\n你等我！", true}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAction", args = {false, "撤退"}},
                {cmd = "PkGeneralAction", args = {true, "防御"}},
                {cmd = "PkShowDialog", args = {true, "哈哈哈。好！我就等你！\n擦了汗，就能赢得了我吗？", true}},
                {cmd = "PkOver"},
            },
            {cmd = "Dialog", args = {"许褚", "让我先脱了这件衣服。"}},
            {cmd = "PlaySound", args = {"Se09.wav", 1}},
            {cmd = "Dialog", args = {"马超", "哈哈哈。"}},
            {cmd = "Dialog", args = {"马超", "你这家伙真有意思，居然打赤膊向我挑战！"}},
            {cmd = "Dialog", args = {"许褚", "来吧，再来打呀！"}},
            {cmd = "Dialog", args = {"马超", "我正有此意！"}},
            {
                {cmd = "PkPrepare", args = {"许褚", "马超"}},
                {cmd = "PkGeneralShow", args = {false, "嗯，好凉爽。\n让你久等了，马超。\n来吧，继续战斗。", "无"}},
                {cmd = "PkGeneralShow", args = {true, "哈哈哈，真是个有趣的家伙。\n刚才让我久等，\n这下可要好好玩一下。", "无"}},
                {cmd = "PkShowStart"},
                {cmd = "PkGeneralAction", args = {false, "攻击预备"}},
                {cmd = "PkShowDialog", args = {false, "我要杀过去了！", true}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {true, "闪躲绕前", true}},
                {cmd = "PkGeneralAction", args = {true, "后转"}},
                {cmd = "PkGeneralAttack2", args = {false, "后退", true}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAttack2", args = {false, "格挡", true}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {false, "闪躲绕前", true}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {false, "格档后退", false}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkGeneralAction", args = {false, "喘气"}},
                {cmd = "PkShowDialog", args = {false, "呼！呼！呼！", false}},
                {cmd = "PkGeneralAction", args = {true, "喘气"}},
                {cmd = "PkShowDialog", args = {true, "嗄！嗄！嗄！", true}},
                {cmd = "PkGeneralAction", args = {false, "防御"}},
                {cmd = "PkShowDialog", args = {false, "你、你真有一手，马超。", true}},
                {cmd = "PkGeneralAction", args = {true, "防御"}},
                {cmd = "PkShowDialog", args = {true, "呼……\n这次就当平手吧。", true}},
                {cmd = "PkOver"},
            },
            {cmd = "FaceToFace", args = {"曹操", "马超"}},
            {cmd = "Dialog", args = {"曹操", "没想到能与许褚战成平手，看来马超并非浪得虚名。"}},
            {cmd = "Dialog", args = {"许褚", "衣……衣服快给我。"}},
            {cmd = "Dialog", args = {"许褚", "我可不能光着上身，在战场上到处乱晃。"}},
            {cmd = "PlaySound", args = {"Se09.wav", 1}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "马超", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"马超", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "马超"}},
            {cmd = "Dialog", args = {"马超", "终于见到你了，曹操。"}},
            {cmd = "Dialog", args = {"马超", "你这个连梦中都会出现的杀父仇人！"}},
            {cmd = "Dialog", args = {"马超", "今天我绝对不会放过你的。"}},
            {cmd = "Dialog", args = {"曹操", "生死都是乱世的宿命，活在痛苦和仇恨中，是无法在乱世中生存的。"}},
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "马岱", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"马岱", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "马岱"}},
            {cmd = "Dialog", args = {"马岱", "曹操，你的死期到了！"}},
            {cmd = "Dialog", args = {"曹操", "大胆！"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "庞德", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var43"}}}},
        {
            {cmd = "FaceToFace", args = {"庞德", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "庞德"}},
            {cmd = "Dialog", args = {"庞德", "我要替主公报杀父之仇！"}},
            {cmd = "Dialog", args = {"庞德", "你拿命来吧！"}},
            {cmd = "Dialog", args = {"曹操", "我还没打算要死，这个乱世还需要我呢！"}},
            {cmd = "Dialog", args = {"曹操", "所以我不会被你们打败的。"}},
            {cmd = "VarSet", args = {"Var43", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹洪", "韩遂", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var44"}}}},
        {
            {cmd = "FaceToFace", args = {"曹洪", "韩遂"}},
            {cmd = "FaceToFace", args = {"韩遂", "曹洪"}},
            {cmd = "Dialog", args = {"曹洪", "韩遂！拿命来吧！"}},
            {cmd = "Dialog", args = {"曹洪", "你们的营寨已经被我曹洪占领了！"}},
            {cmd = "Dialog", args = {"韩遂", "想杀我？哼！"}},
            {cmd = "Dialog", args = {"韩遂", "反击！"}},
            {cmd = "VarSet", args = {"Var44", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"韩遂", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"韩遂", "哇啊！"}},
            {cmd = "Dialog", args = {"韩遂", "马腾兄长，对不起……"}},
            {cmd = "Dialog", args = {"韩遂", "我不能再守护你的儿子了……唔呃。"}},
            {cmd = "GeneralRetreat", args = {"韩遂", true}},
            {cmd = "AddItem", args = {"铜盾", 0}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"马超", "我军当前人物"}},
                {cmd = "Dialog", args = {"马超", "韩、韩遂叔父……"}},
                {cmd = "Dialog", args = {"马超", "可恨的曹操老贼！"}},
                {cmd = "Dialog", args = {"马超", "全军撤退，快！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                {cmd = "FaceToFace", args = {"庞德", "我军当前人物"}},
                {cmd = "Dialog", args = {"庞德", "什么！营寨被占领？"}},
                {cmd = "Dialog", args = {"庞德", "没想到最后还是失败了……"}},
                {cmd = "Dialog", args = {"庞德", "曹操真是可怕。"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                {cmd = "FaceToFace", args = {"马岱", "我军当前人物"}},
                {cmd = "Dialog", args = {"马岱", "事已至此，别无他法了。"}},
                {cmd = "Dialog", args = {"马岱", "……太遗憾了，撤兵！"}},
            },
            {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 1, 20, 32}},
            {cmd = "VarSet", args = {"Var50", true}},
            {cmd = "Dialog", args = {"曹操", "呼，西凉军真是个棘手的敌人。"}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var2"}}}},
                {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "印绶", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var100", true}},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var631", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"马超", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"马超", "唔，父亲……孩儿失败了。"}},
            {cmd = "Dialog", args = {"马超", "撤退。"}},
            {cmd = "GeneralRetreat", args = {"马超", false}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"马岱", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"马岱", "我、我居然会失败……？"}},
            {cmd = "Dialog", args = {"马岱", "唉，我先走一步了！"}},
            {cmd = "GeneralRetreat", args = {"马岱", false}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"庞德", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"庞德", "唔唔，岂有此理……"}},
            {cmd = "Dialog", args = {"庞德", "不得不撤退了吗？"}},
            {cmd = "GeneralRetreat", args = {"庞德", false}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{trueConditions = {"Var100"}, falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "很好，总算赶走了敌军！"}},
            {cmd = "Dialog", args = {"曹操", "我军胜利了！"}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var2"}}}},
                {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "印绶", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var631", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操在马超军前大败而归。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
