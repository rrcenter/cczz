local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "赤壁突围战",
    maxRounds    = 25,
    mapId        = "29.tmx",
    weatherStart = {"晴", "晴", "雨", "阴", "雪"},
    weatherType  = {"雨"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    enemyGeneralList = {
        {uid = "吕蒙", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "海盗1", aiType = "主动出击", isHide = true},
        {uid = "海盗2", aiType = "主动出击", isHide = true},
        {uid = "海盗3", aiType = "主动出击", isHide = true},
        {uid = "海盗4", aiType = "主动出击", isHide = true},
        {uid = "海盗5", aiType = "主动出击", isHide = true},
        {uid = "甘宁", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "海盗6", aiType = "主动出击", isHide = true},
        {uid = "海盗7", aiType = "主动出击", isHide = true},
        {uid = "海盗8", aiType = "主动出击", isHide = true},
        {uid = "海盗9", aiType = "主动出击", isHide = true},
        {uid = "凌统", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "海盗10", aiType = "主动出击", isHide = true},
        {uid = "海盗11", aiType = "主动出击", isHide = true},
        {uid = "海盗12", aiType = "主动出击", isHide = true},
        {uid = "海盗13", aiType = "主动出击", isHide = true},
        {uid = "赵云", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "武术家1", aiType = "主动出击", isHide = true},
        {uid = "武术家2", aiType = "主动出击", isHide = true},
        {uid = "贼兵1", aiType = "主动出击", isHide = true},
        {uid = "贼兵2", aiType = "主动出击", isHide = true},
        {uid = "弓兵1", aiType = "主动出击", isHide = true},
        {uid = "弓兵2", aiType = "主动出击", isHide = true},
        {uid = "张飞", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "武术家3", aiType = "主动出击", isHide = true},
        {uid = "武术家4", aiType = "主动出击", isHide = true},
        {uid = "贼兵3", aiType = "主动出击", isHide = true},
        {uid = "贼兵4", aiType = "主动出击", isHide = true},
        {uid = "弓兵3", aiType = "主动出击", isHide = true},
        {uid = "弓兵4", aiType = "主动出击", isHide = true},
        {uid = "关羽", aiType = "主动出击", isHide = true, isKeyGeneral = true, levelAdd = 4},
        {uid = "骑兵1", aiType = "主动出击", isHide = true},
        {uid = "骑兵2", aiType = "主动出击", isHide = true},
        {uid = "骑兵3", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵1", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵2", aiType = "主动出击", isHide = true},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"关羽", "青龙偃月刀", 0, "默认装备", 0, "赤兔马"}},
        {cmd = "GeneralEquipsSet", args = {"张飞", "蛇矛", 0, "默认装备", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"赵云", "默认装备", 0, "白银铠", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"凌统", "默认装备", 0, "默认装备", 0, "白银盾"}},
    },
    {cmd = "PlayMusic", args = {"Track8"}},
    {
        {cmd = "PlayerGeneralShow", args = {0}},
        {cmd = "PlayerGeneralMove", args = {0, 35, 15, "up"}},
        {cmd = "PlayerGeneralShow", args = {1}},
        {cmd = "PlayerGeneralMove", args = {1, 34, 16, "up"}},
        {cmd = "PlayerGeneralShow", args = {2}},
        {cmd = "PlayerGeneralMove", args = {2, 35, 16, "up"}},
        {cmd = "FaceToFace", args = {"程昱", "曹操"}},
        {cmd = "GeneralAction", args = {"程昱", "deepBreath"}},
        {cmd = "Dialog", args = {"程昱", "嗄嗄……"}},
        {cmd = "Dialog", args = {"程昱", "主公，您不要紧吧？"}},
        {cmd = "FaceToFace", args = {"曹操", "程昱"}},
        {cmd = "Dialog", args = {"曹操", "嗯、嗯。"}},
        {cmd = "Dialog", args = {"曹操", "我军人马全都在乱军之中走散。"}},
        {cmd = "Dialog", args = {"曹操", "不知道其他人是否平安逃出了？"}},
        {cmd = "FaceToFace", args = {"张辽", "曹操"}},
        {cmd = "Dialog", args = {"张辽", "到许都再会合吧。"}},
        {cmd = "Dialog", args = {"张辽", "现在应该考虑怎么逃……"}},
        {cmd = "GeneralShow", args = {"吕蒙"}},
        {cmd = "GeneralShow", args = {"海盗1"}},
        {cmd = "GeneralShow", args = {"海盗2"}},
        {cmd = "GeneralShow", args = {"海盗3"}},
        {cmd = "GeneralShow", args = {"海盗4"}},
        {cmd = "GeneralShow", args = {"海盗5"}},
        {cmd = "FaceToFace", args = {"曹操", "吕蒙"}},
        {cmd = "FaceToFace", args = {"程昱", "吕蒙"}},
        {cmd = "FaceToFace", args = {"张辽", "吕蒙"}},
        {cmd = "GeneralAction", args = {"曹操", "dizzy"}},
        {cmd = "GeneralAction", args = {"程昱", "dizzy"}},
        {cmd = "GeneralAction", args = {"张辽", "dizzy"}},
        {cmd = "Dialog", args = {"程昱", "！？"}},
        {cmd = "Dialog", args = {"吕蒙", "居然还有功夫闲聊啊？"}},
        {cmd = "Dialog", args = {"吕蒙", "你们这些瓮中之鳖，还不知道死到临头呢！"}},
        {cmd = "GeneralAction", args = {"吕蒙", "prepareAttack"}},
        {cmd = "Dialog", args = {"吕蒙", "来啊，抓住曹操！"}},
        {cmd = "Dialog", args = {"吕蒙", "不要让他跑了！"}},
        {cmd = "GeneralAction", args = {"吕蒙", "stand"}},
        {cmd = "GeneralChangeDirection", args = {"曹操", "up"}},
        {cmd = "Dialog", args = {"曹操", "唔唔，追兵这么快就赶到了吗？"}},
        {cmd = "Dialog", args = {"曹操", "快走！张辽、程昱，跟我来！"}},
        {cmd = "RoleMove", args = {"曹操", "up", 34, 11}},
        {cmd = "RoleMove", args = {"张辽", "up", 33, 12}},
        {cmd = "RoleMove", args = {"程昱", "up", 34, 12}},
        {cmd = "PlayerGeneralShow", args = {3}},
        {cmd = "PlayerGeneralShow", args = {4}},
        {cmd = "GeneralAction", args = {"张辽", "attack"}},
        {cmd = "Dialog", args = {"张辽", "前方又有敌人拦截！？"}},
        {cmd = "Dialog", args = {"张辽", "让我张辽要杀开血路吧……"}},
        {cmd = "GeneralAction", args = {"张辽", "stand"}},
        {cmd = "GeneralAction", args = {"许褚", "dizzy"}},
        {cmd = "Dialog", args = {"许褚", "等、等一等！我是许褚。"}},
        {cmd = "Dialog", args = {"许褚", "主公，您没事吧！"}},
        {cmd = "Dialog", args = {"曹操", "噢、噢！许褚吗？"}},
        {cmd = "Dialog", args = {"曹操", "太好了，你还活着！"}},
        {cmd = "Dialog", args = {"曹操", "其他的人呢？"}},
        {cmd = "Dialog", args = {"徐晃", "都失散了………"}},
        {cmd = "Dialog", args = {"徐晃", "我们是翻山越岭才逃到这来的。"}},
        {cmd = "FaceToFace", args = {"程昱", "曹操"}},
        {cmd = "Dialog", args = {"程昱", "快呀！主公！"}},
        {cmd = "Dialog", args = {"程昱", "敌人已经追上来了。"}},
        {cmd = "Dialog", args = {"程昱", "不快走不行！"}},
        {cmd = "Dialog", args = {"曹操", "嗯！有你们在，胜似千军万马！"}},
        {cmd = "Dialog", args = {"曹操", "让我们一鼓作气直奔许都吧！"}},
    },
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、曹操到达西北端。\n\n失败条件\n一、曹操死亡。\n二、回合超过25。"}},
    {cmd = "ShowBattleWinCondition", args = {"曹操逃走！"}},
    {cmd = "HighlightRange", args = {1, 1, 6, 6, false}},
    {cmd = "VarSet", args = {"Var529", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 1, 1, 6, 6}},
        {cmd = "VarTest", args = {{falseConditions = {"Var30"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "总算脱险了。"}},
            {cmd = "Dialog", args = {"曹操", "唉，赤壁一战可说彻底失败。"}},
            {cmd = "Dialog", args = {"曹操", "我一定要引以为戒……嗯嗯！？"}},
            {cmd = "GeneralShow", args = {"关羽"}},
            {cmd = "GeneralShow", args = {"骑兵1"}},
            {cmd = "GeneralShow", args = {"骑兵2"}},
            {cmd = "GeneralShow", args = {"骑兵3"}},
            {cmd = "GeneralShow", args = {"弓骑兵1"}},
            {cmd = "GeneralShow", args = {"弓骑兵2"}},
            {cmd = "FaceToFace", args = {"曹操", "关羽"}},
            {cmd = "FaceToFace", args = {"关羽", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "啊！云长……！？"}},
            {cmd = "Dialog", args = {"关羽", "丞相……不论过去情谊如何，今日你我势不两立，只有拜领丞相的首级了！"}},
            {
                {cmd = "GeneralCountsTest", args = {{"player"}, 0, "=", "指定区域", 4, 3, 4, 3}},
                {cmd = "Dialog", args = {"曹操", "（唔唔，难道我将命丧于此！"}},
                {cmd = "Dialog", args = {"曹操", "不！一定还有办法……）"}},
                {cmd = "ChoiceDialog", args = {"曹操", {"求关羽放行", "向关羽挑战"}}},
                {
                    {cmd = "Dialog", args = {"曹操", "曹某十分惭愧，如今也只有求助云长的仁义之心了。"}},
                    {cmd = "Dialog", args = {"曹操", "云长呀，如果你还念在过去的旧情，就请你放曹某一条生路吧。"}},
                    {cmd = "Dialog", args = {"关羽", "您的恩情关某一直铭记于心，然而……"}},
                    {cmd = "Dialog", args = {"关羽", "这都是战争的宿命，还请丞相再莫乞求，关某实在不忍见到您委身求情的样子！"}},
                    {cmd = "Dialog", args = {"曹操", "都怪曹某目光短浅，以致招此祸端，只是思及遭受牵连的将士们，曹某不禁悲从中来……"}},
                    {cmd = "Dialog", args = {"曹操", "如果不能知道将士们的安危，我曹某绝不能就此死去。"}},
                    {cmd = "Dialog", args = {"关羽", "………"}},
                    {cmd = "Dialog", args = {"曹操", "对不起，云长。"}},
                    {cmd = "Dialog", args = {"曹操", "我还有许多割舍不下的事要做。"}},
                    {cmd = "Dialog", args = {"曹操", "事到如今，我也只有堂堂一战。"}},
                    {cmd = "Dialog", args = {"曹操", "来吧，云长！"}},
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
                        {cmd = "FaceToFace", args = {"许褚", "曹操"}},
                        {cmd = "Dialog", args = {"许褚", "主公，您用不着亲自出马！"}},
                        {cmd = "Dialog", args = {"许褚", "还有我许褚永远追随您呢。"}},
                        {cmd = "FaceToFace", args = {"许褚", "关羽"}},
                        {cmd = "Dialog", args = {"许褚", "关羽，你如果想立功领赏，就拿我许褚的人头去吧！"}},
                        {cmd = "Dialog", args = {"许褚", "不要伤害我家主公。"}},
                    },
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                        {cmd = "FaceToFace", args = {"张辽", "关羽"}},
                        {cmd = "Dialog", args = {"张辽", "云长，请你住手。"}},
                        {cmd = "Dialog", args = {"张辽", "我张文远的首级就送给你吧！"}},
                        {cmd = "Dialog", args = {"张辽", "我恳求你别伤害丞相，求求你……"}},
                    },
                    {cmd = "Dialog", args = {"关羽", "…………"}},
                    {cmd = "Dialog", args = {"关羽", "唔唔！"}},
                    {cmd = "Dialog", args = {"关羽", "关某于下邳早已甘犯死罪，即使遭兄长军纪处置，关某也死而无悔。"}},
                    {cmd = "Dialog", args = {"关羽", "受人滴水之恩，定当涌泉相报。"}},
                    {cmd = "Dialog", args = {"关羽", "丞相您走吧！不过下次再见之时……"}},
                    {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 1, 7, 7}},
                    {cmd = "Dialog", args = {"曹操", "谢谢你，云长。"}},
                },
                {
                    {cmd = "Dialog", args = {"曹操", "事到如今，我也别无选择了。"}},
                    {cmd = "Dialog", args = {"曹操", "不论对手是谁，只有杀出一条血路。"}},
                    {cmd = "Dialog", args = {"曹操", "云长，我曹孟德来领教你的刀法吧！"}},
                    {cmd = "Dialog", args = {"关羽", "丞相必死的决心令关某钦佩！"}},
                    {cmd = "Dialog", args = {"关羽", "云长定当全力以赴。"}},
                    {cmd = "RoleMove", args = {"曹操", "left", 4, 3}},
                    {
                        {cmd = "PkPrepare", args = {"曹操", "关羽"}},
                        {cmd = "PkGeneralShow", args = {false, "来吧！关羽！\n有你在黄泉路上为伴，\n我死也无憾了。", "攻击预备"}},
                        {cmd = "PkGeneralShow", args = {true, "关某未曾忘记丞相大恩。\n然而一切都是命运的安排。\n来吧，丞相小心了！", "防御"}},
                        {cmd = "PkShowStart"},
                        {cmd = "PkGeneralAction", args = {false, "无"}},
                        {cmd = "PkGeneralAction", args = {true, "前移"}},
                        {cmd = "PkGeneralAttack2", args = {true, "格档后退", true}},
                        {cmd = "Delay", args = {5}},
                        {cmd = "PkGeneralAction", args = {false, "前移"}},
                        {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                        {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                        {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                        {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                        {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                        {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                        {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                        {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                        {cmd = "PkGeneralAttack2", args = {false, "格挡", true}},
                        {cmd = "PkGeneralAttack2", args = {true, "格挡", true}},
                        {cmd = "PkGeneralAttack2", args = {false, "格挡", true}},
                        {cmd = "PkGeneralAttack2", args = {true, "格挡", true}},
                        {cmd = "PkGeneralAttack2", args = {false, "格档后退", false}},
                        {cmd = "Delay", args = {15}},
                        {cmd = "PkGeneralAction", args = {false, "攻击预备"}},
                        {cmd = "PkShowDialog", args = {false, "够了，关羽。\n该是分出胜负的时候了。", true}},
                        {cmd = "PkGeneralAction", args = {true, "攻击预备"}},
                        {cmd = "PkShowDialog", args = {true, "那么关某不客气了！", true}},
                        {cmd = "Delay", args = {10}},
                        {cmd = "PkGeneralAttack", args = {true, "互相冲锋", true}},
                        {cmd = "Delay", args = {10}},
                        {cmd = "PkGeneralAction", args = {false, "喘气"}},
                        {cmd = "PkShowDialog", args = {false, "唔啊……嗄嗄。\n果然还是敌不过关羽……\n难道我将死于此地吗……", true}},
                        {cmd = "Delay", args = {5}},
                        {cmd = "PkGeneralAction", args = {true, "后转"}},
                        {cmd = "Delay", args = {5}},
                        {cmd = "PkShowDialog", args = {true, "………………", true}},
                        {cmd = "PkOver"},
                    },
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
                        {cmd = "FaceToFace", args = {"许褚", "关羽"}},
                        {cmd = "Dialog", args = {"许褚", "关将军，请住手！"}},
                        {cmd = "Dialog", args = {"许褚", "今天我许褚双手奉上人头，只求你放过我家主公……"}},
                    },
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                        {cmd = "FaceToFace", args = {"张辽", "关羽"}},
                        {cmd = "Dialog", args = {"张辽", "主公！"}},
                        {cmd = "Dialog", args = {"张辽", "云长，请你别伤害丞相的性命，张辽愿以自己的性命交换主公。"}},
                    },
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
                        {cmd = "Dialog", args = {"程昱", "关将军，请您高抬贵手吧。"}},
                        {cmd = "Dialog", args = {"程昱", "难道忘了主公对你旧日的恩情吗？"}},
                        {cmd = "Dialog", args = {"程昱", "如果将军尚存仁义，今天就放过丞相吧！"}},
                    },
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var59"}}}},
                        {cmd = "Dialog", args = {"徐晃", "我不会让主公独自死去的！"}},
                        {cmd = "Dialog", args = {"徐晃", "我徐晃会永远陪伴主公。"}},
                        {cmd = "Dialog", args = {"徐晃", "关羽，你先杀了我吧！"}},
                    },
                    {cmd = "Dialog", args = {"关羽", "（没有比背负忘恩负义之名，苟延于世更耻辱的事了。"}},
                    {cmd = "Dialog", args = {"关羽", "此时此刻，让我如何下得了手……）"}},
                    {cmd = "Dialog", args = {"关羽", "再会了，曹丞相！"}},
                    {cmd = "Dialog", args = {"关羽", "下次再见之时，定要你的性命。"}},
                    {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 1, 7, 7}},
                    {cmd = "Dialog", args = {"曹操", "！！"}},
                    {cmd = "Dialog", args = {"曹操", "云长……当真要放了我……？"}},
                    {cmd = "Dialog", args = {"曹操", "……………"}},
                },
            },
            {
                {cmd = "Else"},
                {cmd = "Dialog", args = {"曹操", "（唔唔，没想到居然会在此遭逢关羽！"}},
                {cmd = "Dialog", args = {"曹操", "难道我将命丧于此……不、不会的！"}},
                {cmd = "Dialog", args = {"曹操", "只要心中尚有一丝希望……）"}},
                {cmd = "Dialog", args = {"曹操", "曹某十分惭愧，如今也只有求你的仁义之心了。"}},
                {cmd = "Dialog", args = {"曹操", "云长呀，如果你还念在过去的旧情，就请你放曹某一条生路吧。"}},
                {cmd = "Dialog", args = {"关羽", "您的恩情关某一直铭记于心，然而……"}},
                {cmd = "Dialog", args = {"关羽", "这都是战争的宿命，还请丞相再莫乞求，关某实在不忍见到您委身求情的样子！"}},
                {cmd = "Dialog", args = {"曹操", "都怪曹某目光短浅，以致招此祸端，只是思及遭受牵连的将士们，曹某不禁悲从中来……"}},
                {cmd = "Dialog", args = {"曹操", "如果不能得知将士们的安危，我曹某绝不能就此死去。"}},
                {cmd = "Dialog", args = {"关羽", "………"}},
                {cmd = "Dialog", args = {"曹操", "对不起，云长。"}},
                {cmd = "Dialog", args = {"曹操", "我还有许多割舍不下的事要做。"}},
                {cmd = "Dialog", args = {"曹操", "事到如今，我也只有堂堂一战。"}},
                {cmd = "Dialog", args = {"曹操", "来吧，云长！"}},
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
                    {cmd = "FaceToFace", args = {"许褚", "曹操"}},
                    {cmd = "Dialog", args = {"许褚", "主公，您用不着亲自出马！"}},
                    {cmd = "Dialog", args = {"许褚", "还有我许褚永远追随您呢。"}},
                    {cmd = "FaceToFace", args = {"许褚", "关羽"}},
                    {cmd = "Dialog", args = {"许褚", "关羽，你如果想立功领赏，就拿我许褚的人头去吧！"}},
                    {cmd = "Dialog", args = {"许褚", "不要伤害我家主公。"}},
                },
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                    {cmd = "FaceToFace", args = {"张辽", "关羽"}},
                    {cmd = "Dialog", args = {"张辽", "云长，请你住手。"}},
                    {cmd = "Dialog", args = {"张辽", "我张文远的首级就送给你吧！"}},
                    {cmd = "Dialog", args = {"张辽", "我恳求你别伤害丞相，求求你……"}},
                },
                {cmd = "Dialog", args = {"关羽", "…………"}},
                {cmd = "Dialog", args = {"关羽", "唔唔！"}},
                {cmd = "Dialog", args = {"关羽", "关某于下邳早已甘犯死罪，如今即使遭兄长军纪处置，关某也死而无悔。"}},
                {cmd = "Dialog", args = {"关羽", "受人滴水之恩，定当涌泉想报。"}},
                {cmd = "Dialog", args = {"关羽", "丞相您走吧！不过下次再见之时……"}},
                {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 1, 7, 7}},
                {cmd = "Dialog", args = {"曹操", "谢谢你，云长。"}},
            },
            {cmd = "VarSet", args = {"Var30", true}},
            {cmd = "Dialog", args = {"张辽", "主公，我们快走吧……"}},
            {cmd = "Dialog", args = {"曹操", "嗯……"}},
            {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var100", true}},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var629", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {"曹操", 27, 5, 30, 8}},
        {cmd = "VarTest", args = {{falseConditions = {"Var31", "Var33", "Var35"}}}},
        {
            {cmd = "Dialog", args = {"曹操", "嗯，叉路？"}},
            {cmd = "Dialog", args = {"曹操", "哪条路离许都近呢……？"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
                {cmd = "FaceToFace", args = {"程昱", "曹操"}},
                {cmd = "Dialog", args = {"程昱", "湖边的道路宽敞又安全，山边的道路离许都近。"}},
                {cmd = "Dialog", args = {"程昱", "该选哪一条呢？嗯……"}},
            },
            {cmd = "VarSet", args = {"Var31", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {"曹操", 16, 14, 19, 17}},
        {cmd = "VarTest", args = {{falseConditions = {"Var32", "Var34", "Var36"}}}},
        {
            {cmd = "Dialog", args = {"曹操", "该走哪一条路线呢？"}},
            {cmd = "Dialog", args = {"曹操", "越过北边山谷的道路虽然险峻，不过听说该地无处可设伏兵。"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
                {cmd = "FaceToFace", args = {"程昱", "曹操"}},
                {cmd = "Dialog", args = {"程昱", "但是请看那个地方。"}},
                {cmd = "Dialog", args = {"程昱", "北边卷起阵阵烟尘，看来似乎藏有伏兵。"}},
                {cmd = "Dialog", args = {"曹操", "我看任谁都会这么想吧，所以有伏兵的应该是南边的路上。"}},
                {cmd = "Dialog", args = {"程昱", "主公所言极是！"}},
                {cmd = "Dialog", args = {"程昱", "正所谓虚虚实实，方为谋略之精髓。"}},
                {cmd = "Dialog", args = {"程昱", "程昱承蒙主公教诲……"}},
                {cmd = "Dialog", args = {"曹操", "（此时避开易行的南面大道，专走险要的北边小路，也许比较安全吧……）"}},
            },
            {cmd = "VarSet", args = {"Var32", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 22, 16, 27, 20}},
        {cmd = "VarTest", args = {{falseConditions = {"Var32", "Var33", "Var35"}}}},
        {
            {cmd = "GeneralShow", args = {"甘宁"}},
            {cmd = "GeneralShow", args = {"海盗6"}},
            {cmd = "GeneralShow", args = {"海盗7"}},
            {cmd = "GeneralShow", args = {"海盗8"}},
            {cmd = "GeneralShow", args = {"海盗9"}},
            {cmd = "FaceToFace", args = {"曹操", "甘宁"}},
            {cmd = "FaceToFace", args = {"甘宁", "曹操"}},
            {cmd = "GeneralAction", args = {"甘宁", "doubleAttack"}},
            {cmd = "Dialog", args = {"甘宁", "喔，原来你躲在这个地方啊。"}},
            {cmd = "Dialog", args = {"甘宁", "喂、喂，你还是认命吧。"}},
            {cmd = "Dialog", args = {"甘宁", "闻名天下的曹操居然也会这么丢脸！"}},
            {cmd = "Dialog", args = {"曹操", "我一定要洗雪赤壁之仇。"}},
            {cmd = "Dialog", args = {"曹操", "没有雪洗耻辱之前，我是不会死的。"}},
            {cmd = "GeneralAction", args = {"甘宁", "stand"}},
            {cmd = "VarSet", args = {"Var33", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 1, 13, 6, 18}},
        {cmd = "VarTest", args = {{falseConditions = {"Var30", "Var34", "Var36"}}}},
        {
            {cmd = "GeneralShow", args = {"凌统"}},
            {cmd = "GeneralShow", args = {"海盗10"}},
            {cmd = "GeneralShow", args = {"海盗11"}},
            {cmd = "GeneralShow", args = {"海盗12"}},
            {cmd = "GeneralShow", args = {"海盗13"}},
            {cmd = "FaceToFace", args = {"凌统", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "凌统"}},
            {cmd = "GeneralAction", args = {"凌统", "prepareAttack"}},
            {cmd = "Dialog", args = {"凌统", "哈哈哈。"}},
            {cmd = "Dialog", args = {"凌统", "我已经等得不耐烦了。"}},
            {cmd = "Dialog", args = {"凌统", "来吧，让我收拾你！"}},
            {cmd = "GeneralAction", args = {"凌统", "stand"}},
            {cmd = "Dialog", args = {"曹操", "嗯嗯嗯……"}},
            {cmd = "Dialog", args = {"曹操", "差一步就可以脱离险境了呀……"}},
            {cmd = "VarSet", args = {"Var34", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 18, 8, 22, 13}},
        {cmd = "VarTest", args = {{falseConditions = {"Var32", "Var33", "Var35"}}}},
        {
            {cmd = "Dialog", args = {"曹操", "呼，可以再喘口气了。"}},
            {cmd = "Dialog", args = {"曹操", "不过说也奇怪，周瑜跟孔明居然未在此设伏兵？哈哈哈！"}},
            {cmd = "GeneralShow", args = {"赵云"}},
            {cmd = "GeneralShow", args = {"武术家1"}},
            {cmd = "GeneralShow", args = {"武术家2"}},
            {cmd = "GeneralShow", args = {"贼兵1"}},
            {cmd = "GeneralShow", args = {"贼兵2"}},
            {cmd = "GeneralShow", args = {"弓兵1"}},
            {cmd = "GeneralShow", args = {"弓兵2"}},
            {cmd = "FaceToFace", args = {"赵云", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "赵云"}},
            {cmd = "Dialog", args = {"赵云", "不劳丞相费心。"}},
            {cmd = "Dialog", args = {"赵云", "孔明先生的计策是不会有疏漏的。"}},
            {cmd = "Dialog", args = {"曹操", "果、果然这里也………"}},
            {cmd = "Dialog", args = {"赵云", "曹大人。"}},
            {cmd = "Dialog", args = {"赵云", "乖乖交出你的首级吧。"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                {cmd = "FaceToFace", args = {"张辽", "曹操"}},
                {cmd = "Dialog", args = {"张辽", "想不到伏兵接二连三……"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
                {cmd = "FaceToFace", args = {"许褚", "曹操"}},
                {cmd = "Dialog", args = {"许褚", "主公，这里交给我。"}},
                {cmd = "Dialog", args = {"许褚", "您快逃吧！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var59"}}}},
                {cmd = "FaceToFace", args = {"徐晃", "赵云"}},
                {cmd = "Dialog", args = {"徐晃", "岂有此理！"}},
                {cmd = "Dialog", args = {"徐晃", "赵云，我来跟你一决胜负。"}},
                {cmd = "Dialog", args = {"徐晃", "让你见识见识我神箭的厉害！"}},
            },
            {cmd = "VarSet", args = {"Var35", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 12, 1, 16, 5}},
        {cmd = "VarTest", args = {{falseConditions = {"Var30", "Var34", "Var36"}}}},
        {
            {cmd = "Dialog", args = {"曹操", "大家坚持下去。"}},
            {cmd = "Dialog", args = {"曹操", "就差一步了。"}},
            {cmd = "Dialog", args = {"曹操", "嗯！？是谁在那里！"}},
            {cmd = "GeneralShow", args = {"张飞"}},
            {cmd = "GeneralShow", args = {"武术家3"}},
            {cmd = "GeneralShow", args = {"武术家4"}},
            {cmd = "GeneralShow", args = {"贼兵3"}},
            {cmd = "GeneralShow", args = {"贼兵4"}},
            {cmd = "GeneralShow", args = {"弓兵3"}},
            {cmd = "GeneralShow", args = {"弓兵4"}},
            {cmd = "FaceToFace", args = {"张飞", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "张飞"}},
            {cmd = "Dialog", args = {"张飞", "哈哈哈。"}},
            {cmd = "Dialog", args = {"张飞", "曹操，你果然来了。"}},
            {cmd = "Dialog", args = {"张飞", "军师真是神机妙算。"}},
            {cmd = "Dialog", args = {"曹操", "张、张飞……！"}},
            {cmd = "Dialog", args = {"曹操", "可恶的孔明，就会卖弄些小聪明……"}},
            {cmd = "Dialog", args = {"张飞", "哼！曹操！"}},
            {cmd = "Dialog", args = {"张飞", "俺老早看你不顺眼了，今天你就死在这里了！"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                {cmd = "FaceToFace", args = {"张辽", "张飞"}},
                {cmd = "Dialog", args = {"张辽", "唔唔，是张飞！"}},
                {cmd = "Dialog", args = {"张辽", "咱们打不过他的……"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
                {cmd = "FaceToFace", args = {"许褚", "张飞"}},
                {cmd = "Dialog", args = {"许褚", "要比力气，我是不会输的！"}},
                {cmd = "Dialog", args = {"许褚", "让老子来杀了他。"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var59"}}}},
                {cmd = "FaceToFace", args = {"徐晃", "曹操"}},
                {cmd = "Dialog", args = {"徐晃", "主公！"}},
                {cmd = "Dialog", args = {"徐晃", "我保护您，您快逃吧。"}},
                {cmd = "Dialog", args = {"徐晃", "谁敢接近您，我一律射杀！"}},
            },
            {cmd = "VarSet", args = {"Var36", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 28, 6}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var20", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 17, 15}},
        {cmd = "VarTest", args = {{falseConditions = {"Var21"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var21", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 5, 6}},
        {cmd = "VarTest", args = {{falseConditions = {"Var22"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var22", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"赵云", "张辽", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"张辽", "赵云"}},
            {cmd = "FaceToFace", args = {"赵云", "张辽"}},
            {cmd = "Dialog", args = {"张辽", "我不会让你碰我家主公一根毫发。"}},
            {cmd = "Dialog", args = {"赵云", "那就看你能不能拦住我了！"}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"赵云", "徐晃", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"徐晃", "赵云"}},
            {cmd = "FaceToFace", args = {"赵云", "徐晃"}},
            {cmd = "Dialog", args = {"徐晃", "来呀！赵云！"}},
            {cmd = "Dialog", args = {"赵云", "我没空理你！"}},
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"张飞", "张辽", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"张飞", "张辽"}},
            {cmd = "FaceToFace", args = {"张辽", "张飞"}},
            {cmd = "Dialog", args = {"张飞", "谁挡俺的路，俺绝不手下留情。"}},
            {cmd = "Dialog", args = {"张辽", "你不用手下留情。"}},
            {cmd = "Dialog", args = {"张辽", "有我张辽誓死保护主公安全，即使牺牲性命也在所不惜！"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"张飞", "徐晃", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var43"}}}},
        {
            {cmd = "FaceToFace", args = {"徐晃", "张飞"}},
            {cmd = "FaceToFace", args = {"张飞", "徐晃"}},
            {cmd = "Dialog", args = {"张飞", "你们还是死心吧！"}},
            {cmd = "Dialog", args = {"张飞", "曹操的人头俺要定了。"}},
            {cmd = "Dialog", args = {"徐晃", "唔唔，岂能让你得逞！"}},
            {cmd = "VarSet", args = {"Var43", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"张飞", "许褚", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var44"}}}},
        {
            {cmd = "FaceToFace", args = {"许褚", "张飞"}},
            {cmd = "FaceToFace", args = {"张飞", "许褚"}},
            {cmd = "Dialog", args = {"许褚", "张飞，咱们较量一下，看谁厉害吧！"}},
            {cmd = "Dialog", args = {"张飞", "有意思，放马过来吧！"}},
            {
                {cmd = "PkPrepare", args = {"许褚", "张飞"}},
                {cmd = "PkGeneralShow", args = {true, "就让俺来告诉你，\n俺张爷爷是最强的！", "二次攻击"}},
                {cmd = "PkGeneralShow", args = {false, "我家军师曾经说过，\n你这叫做轻敌大意。", "无"}},
                {cmd = "Delay", args = {4}},
                {cmd = "PkGeneralAction", args = {true, "攻击预备"}},
                {cmd = "PkShowDialog", args = {true, "罗嗦个什么劲儿！", true}},
                {cmd = "PkShowStart"},
                {cmd = "PkShowDialog", args = {false, "吃我一招！", true}},
                {cmd = "PkGeneralAction", args = {true, "无"}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAttack2", args = {false, "格档后退", false}},
                {cmd = "Delay", args = {6}},
                {cmd = "PkShowDialog", args = {true, "你可真嚣张！", true}},
                {cmd = "PkGeneralAction", args = {false, "无"}},
                {cmd = "PkGeneralAction", args = {true, "前移"}},
                {cmd = "PkGeneralAttack2", args = {true, "格档后退", false}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkGeneralAction", args = {false, "攻击预备"}},
                {cmd = "PkShowDialog", args = {false, "唷喝！", true}},
                {cmd = "PkGeneralAction", args = {true, "无"}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAttack2", args = {false, "格档后退", false}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkGeneralAction", args = {true, "攻击预备"}},
                {cmd = "PkShowDialog", args = {true, "喔喔！", true}},
                {cmd = "PkGeneralAction", args = {false, "无"}},
                {cmd = "PkGeneralAction", args = {true, "前移"}},
                {cmd = "PkGeneralAttack2", args = {true, "格档后退", false}},
                {cmd = "Delay", args = {4}},
                {cmd = "PkShowDialog", args = {false, "你这个光有一身力气的莽夫！\n识趣一点，快投降吧！", true}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAttack2", args = {false, "格档后退", false}},
                {cmd = "Delay", args = {4}},
                {cmd = "PkShowDialog", args = {true, "那才是我要说的！", true}},
                {cmd = "PkGeneralAction", args = {true, "前移"}},
                {cmd = "PkGeneralAttack2", args = {true, "格档后退", false}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkGeneralAction", args = {true, "晕倒"}},
                {cmd = "PkGeneralAction", args = {false, "晕倒"}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkShowDialog", args = {true, "累、累死俺了。\n这家伙怎么这么有劲儿啊……", true}},
                {cmd = "PkShowDialog", args = {false, "好痛！\n不行，我还要保护主公的安全。", true}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkShowDialog", args = {true, "喂，你挺行的嘛！\n不过还比俺差远了。", true}},
                {cmd = "PkShowDialog", args = {false, "就凭你这副德性，\n我看没啥本事！", true}},
                {cmd = "PkOver"},
            },
            {cmd = "VarSet", args = {"Var44", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"关羽", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "Dialog", args = {"关羽", "（丞相……）"}},
            {cmd = "Dialog", args = {"关羽", "撤退，撤退。"}},
            {cmd = "GeneralRetreat", args = {"关羽", false}},
            {cmd = "VarSet", args = {"Var50", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"赵云", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"赵云", "糟了……"}},
            {cmd = "Dialog", args = {"赵云", "也罢。"}},
            {cmd = "Dialog", args = {"赵云", "剩下的就交给其他人吧。撤退！"}},
            {cmd = "GeneralRetreat", args = {"赵云", false}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张飞", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"张飞", "啐，俺居然失手了……"}},
            {cmd = "Dialog", args = {"张飞", "撤！"}},
            {cmd = "GeneralRetreat", args = {"张飞", false}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"甘宁", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"甘宁", "痛、痛死俺了，这个混蛋。"}},
            {cmd = "Dialog", args = {"甘宁", "撤退！"}},
            {cmd = "GeneralRetreat", args = {"甘宁", false}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"凌统", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
        {
            {cmd = "Dialog", args = {"凌统", "唔唔，不妙。"}},
            {cmd = "Dialog", args = {"凌统", "撤退！"}},
            {cmd = "GeneralRetreat", args = {"凌统", false}},
            {cmd = "VarSet", args = {"Var54", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"吕蒙", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
        {
            {cmd = "Dialog", args = {"吕蒙", "唔唔，真是失策……"}},
            {cmd = "Dialog", args = {"吕蒙", "不过正所谓寡不敌众，反正你们也是逃不掉的。"}},
            {cmd = "VarSet", args = {"Var55", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张辽", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
        {
            {cmd = "GeneralRetreat", args = {"张辽", false}},
            {cmd = "VarSet", args = {"Var56", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"程昱", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
        {
            {cmd = "GeneralRetreat", args = {"程昱", false}},
            {cmd = "VarSet", args = {"Var57", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"许褚", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
        {
            {cmd = "GeneralRetreat", args = {"许褚", false}},
            {cmd = "VarSet", args = {"Var58", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"徐晃", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var59"}}}},
        {
            {cmd = "GeneralRetreat", args = {"徐晃", false}},
            {cmd = "VarSet", args = {"Var59", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{trueConditions = {"Var30"}, falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "呼，总算是脱险了。"}},
            {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var629", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操在孙、刘的追击下大败而去。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
