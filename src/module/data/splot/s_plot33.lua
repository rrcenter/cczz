local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "逍遥津之战1",
    maxRounds    = 25,
    mapId        = "33.tmx",
    weatherStart = {"晴", "晴", "雨", "阴", "雪"},
    weatherType  = {"雨"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    enemyGeneralList = {
        {uid = "孙权", aiType = "到指定点", aiArgs = {fixCol = 11, fixRow = 24}, isKeyGeneral = true, levelAdd = 4},
        {uid = "董袭", aiType = "到指定点", aiArgs = {fixCol = 16, fixRow = 18}, levelAdd = 2},
        {uid = "海盗1", aiType = "到指定点", aiArgs = {fixCol = 16, fixRow = 18}},
        {uid = "海盗2", aiType = "到指定点", aiArgs = {fixCol = 16, fixRow = 18}},
        {uid = "海盗3", aiType = "到指定点", aiArgs = {fixCol = 16, fixRow = 18}},
        {uid = "海盗4", aiType = "到指定点", aiArgs = {fixCol = 16, fixRow = 18}},
        {uid = "弓兵1", aiType = "到指定点", aiArgs = {fixCol = 16, fixRow = 18}},
        {uid = "弓兵2", aiType = "到指定点", aiArgs = {fixCol = 16, fixRow = 18}},
        {uid = "甘宁", aiType = "主动出击", levelAdd = 4},
        {uid = "吕蒙", aiType = "主动出击", levelAdd = 4},
        {uid = "海盗5", aiType = "主动出击"},
        {uid = "海盗6", aiType = "主动出击"},
        {uid = "海盗7", aiType = "主动出击"},
        {uid = "海盗8", aiType = "主动出击"},
        {uid = "弓兵3", aiType = "主动出击"},
        {uid = "弓兵4", aiType = "主动出击"},
        {uid = "徐盛", aiType = "主动出击", isHide = true, levelAdd = 2},
        {uid = "凌统", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "骑兵1", aiType = "主动出击", isHide = true},
        {uid = "骑兵2", aiType = "主动出击", isHide = true},
        {uid = "骑兵3", aiType = "主动出击", isHide = true},
        {uid = "骑兵4", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵1", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵2", aiType = "主动出击", isHide = true},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"凌统", "默认装备", 0, "默认装备", 0, "白银盾"}},
        {cmd = "GeneralEquipsSet", args = {"徐盛", "默认装备", 0, "连环铠", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"甘宁", "默认装备", 0, "飞龙道袍", 0, "默认装备"}},
    },
    {cmd = "PlayMusic", args = {"Track3"}},
    {
        {cmd = "Dialog", args = {"吕蒙", "没想到我东吴军会卷土重来吧！"}},
        {cmd = "Dialog", args = {"吕蒙", "这次我要让你们知道我的厉害。"}},
        {cmd = "Dialog", args = {"甘宁", "为什么出战的命令还没下来！"}},
        {cmd = "Dialog", args = {"甘宁", "老子实在看不惯眼前的敌兵，难道就这样袖手旁观吗！？"}},
        {cmd = "FaceToFace", args = {"董袭", "孙权"}},
        {cmd = "Dialog", args = {"董袭", "主公，先锋部队已经安排好了，随时可以下达进攻命令。"}},
        {cmd = "FaceToFace", args = {"孙权", "董袭"}},
        {cmd = "Dialog", args = {"孙权", "不过后卫部队还未赶到。"}},
        {cmd = "Dialog", args = {"孙权", "等全部部队都准备妥当后，再让吕蒙和甘宁行动吧。"}},
        {cmd = "FaceToFace", args = {"李典", "张辽"}},
        {cmd = "Dialog", args = {"李典", "张辽将军，怎么办？"}},
        {cmd = "Dialog", args = {"李典", "敌人已经到了河对岸了！"}},
        {cmd = "FaceToFace", args = {"张辽", "李典"}},
        {cmd = "Dialog", args = {"张辽", "这里有主公的书信，先看指示再做决定。"}},
        {cmd = "FaceToFace", args = {"乐进", "张辽"}},
        {cmd = "Dialog", args = {"乐进", "怎么样？"}},
        {cmd = "Dialog", args = {"乐进", "信上怎样说……？"}},
        {cmd = "Dialog", args = {"张辽", "嗯，先掌握开战后的局势，削弱敌人的力量后，再退回城中据城固守。"}},
        {cmd = "Dialog", args = {"李典", "那么，也就是说与孙权的前锋交战后，立即退回城中据守城池。"}},
        {cmd = "Dialog", args = {"乐进", "可是以我们的兵力能守得住吗？"}},
        {cmd = "Dialog", args = {"张辽", "或许在敌人兵力尚未集结之前，进行决战比较好吧。"}},
        {cmd = "Dialog", args = {"张辽", "嗯嗯…………"}},
    },
    {cmd = "ChoiceDialog", args = {"张辽", {"据守城池", "出城迎战"}}},
    {
        {cmd = "Dialog", args = {"张辽", "既然是主公的命令，我们就依命令行事吧。"}},
        {cmd = "Dialog", args = {"张辽", "先在这里安排伏兵偷袭，攻击敌人的先头部队，接着放弃追击退回城中！"}},
    },
    {
        {cmd = "Dialog", args = {"张辽", "战术运用之妙，存乎一心。"}},
        {cmd = "Dialog", args = {"张辽", "让我们一鼓作气分出胜负吧。"}},
        {cmd = "Dialog", args = {"张辽", "先在这里安排伏兵偷袭，以便攻击敌人的先头部队。"}},
        {cmd = "Dialog", args = {"张辽", "然后趁敌人混乱之际，派守城部队担任分遣部队，全力攻打孙权的主营。"}},
        {cmd = "VarSet", args = {"Var2", true}},
    },
    {cmd = "Dialog", args = {"乐进", "让我来引诱敌军吧。"}},
    {cmd = "Dialog", args = {"张辽", "乐进将军，有劳你了。"}},
    {cmd = "PlayMusic", args = {"Track6"}},
    {cmd = "RoleMove", args = {"张辽", "right", 15, 14}},
    {cmd = "RoleMove", args = {"李典", "left", 18, 15}},
    {cmd = "RoleDisappear", args = {"张辽"}},
    {cmd = "RoleDisappear", args = {"李典"}},
    {cmd = "RoleMove", args = {"乐进", "down", 13, 20}},
    {cmd = "PlayerGeneralMove", args = {3, 12, 19, "down"}},
    {
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}}}},
        {cmd = "PlayerGeneralMove", args = {4, 13, 7, "left"}},
        {cmd = "PlayerGeneralMove", args = {5, 14, 8, "left"}},
        {cmd = "PlayerGeneralMove", args = {8, 14, 7, "left"}},
        {cmd = "PlayerGeneralMove", args = {9, 15, 8, "left"}},
    },
    {cmd = "FaceToFace", args = {"乐进", "吕蒙"}},
    {cmd = "Dialog", args = {"乐进", "这些讨厌的苍蝇，被赶回去几次才会甘心。"}},
    {cmd = "FaceToFace", args = {"吕蒙", "乐进"}},
    {cmd = "Dialog", args = {"吕蒙", "就这么点兵力能做什么？"}},
    {cmd = "Dialog", args = {"吕蒙", "说大话也得分时候！"}},
    {cmd = "Dialog", args = {"乐进", "哼！打不过就用人海战术，尽是些娘娘腔的家伙。"}},
    {cmd = "FaceToFace", args = {"甘宁", "乐进"}},
    {cmd = "Dialog", args = {"甘宁", "喂喂喂！"}},
    {cmd = "Dialog", args = {"甘宁", "没看见我甘宁的大旗吗！"}},
    {cmd = "Dialog", args = {"甘宁", "老子不出声，你就猖狂起来啦！"}},
    {cmd = "Dialog", args = {"甘宁", "看我砍了你！"}},
    {cmd = "GeneralChangeDirection", args = {"乐进", "up"}},
    {cmd = "Dialog", args = {"乐进", "我根本不屑和你交手！"}},
    {cmd = "Dialog", args = {"甘宁", "你、你给我站住！"}},
    {cmd = "RoleMove", args = {"甘宁", "right", 12, 20}},
    {cmd = "FaceToFace", args = {"吕蒙", "甘宁"}},
    {cmd = "FaceToFace", args = {"甘宁", "乐进"}},
    {cmd = "Dialog", args = {"吕蒙", "喂！？甘宁快回来！"}},
    {cmd = "Dialog", args = {"吕蒙", "他真是有勇无谋啊。"}},
    {cmd = "Dialog", args = {"吕蒙", "唉，没办法了。"}},
    {cmd = "Dialog", args = {"吕蒙", "全军将士赶上甘宁！"}},
    {
        {cmd = "RoleMove", args = {"吕蒙", "up", 13, 21}},
        {cmd = "RoleMove", args = {"海盗5", "up", 11, 20}},
        {cmd = "RoleMove", args = {"海盗6", "up", 11, 21}},
        {cmd = "RoleMove", args = {"海盗7", "up", 12, 21}},
        {cmd = "RoleMove", args = {"海盗8", "up", 12, 22}},
        {cmd = "RoleMove", args = {"弓兵3", "up", 11, 22}},
        {cmd = "RoleMove", args = {"弓兵4", "up", 12, 23}},
    },
    {
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}}}},
        {cmd = "PlayerGeneralMove", args = {4, 11, 10, "left"}},
        {cmd = "PlayerGeneralMove", args = {5, 12, 11, "left"}},
        {cmd = "PlayerGeneralMove", args = {8, 12, 10, "left"}},
        {cmd = "PlayerGeneralMove", args = {9, 13, 11, "left"}},
    },
    {cmd = "Dialog", args = {"甘宁", "喂！乐进你别跑！"}},
    {cmd = "Dialog", args = {"甘宁", "你就乖乖跟老子交手吧！"}},
    {
        {cmd = "PkPrepare", args = {"乐进", "甘宁"}},
        {cmd = "PkGeneralShow", args = {true, "喂喂喂！竟想从我甘宁眼前逃走？你这小子太猖狂啦！", "攻击"}},
        {cmd = "PkGeneralShow", args = {false, "（还不到时候。再引诱过来一点再动手吧……）", "无"}},
        {cmd = "PkShowStart"},
        {cmd = "PkGeneralAction", args = {true, "攻击预备"}},
        {cmd = "PkShowDialog", args = {true, "我告诉你！在交战当中逃跑的人，根本不配被称为武将。", true}},
        {cmd = "PkGeneralAction", args = {true, "后转"}},
        {cmd = "PkShowDialog", args = {true, "为了自己敬爱的主公拼死作战……", true}},
        {cmd = "PkGeneralAction", args = {false, "小步后退"}},
        {cmd = "PkGeneralAction", args = {true, "防御"}},
        {cmd = "PkShowDialog", args = {true, "在敌军重重包围的战场上穿梭……", true}},
        {cmd = "PkGeneralAction", args = {false, "后转"}},
        {cmd = "PkGeneralAction", args = {false, "小步前移"}},
        {cmd = "PkGeneralAction", args = {false, "前移"}},
        {cmd = "PkGeneralAction", args = {false, "撤退"}},
        {cmd = "PkGeneralAction", args = {true, "攻击"}},
        {cmd = "PkShowDialog", args = {true, "杀退眼前的敌兵直到战死沙场……", true}},
        {cmd = "PkGeneralAction", args = {true, "攻击预备"}},
        {cmd = "PkShowDialog", args = {true, "这才是一个真正的武将！", true}},
        {cmd = "Delay", args = {4}},
        {cmd = "PkGeneralAction", args = {true, "后转"}},
        {cmd = "PkShowDialog", args = {true, "没错吧！？难道你不这么想？", true}},
        {cmd = "PkGeneralAction", args = {true, "晕倒"}},
        {cmd = "PkShowDialog", args = {true, "哦？不、不见了……怎么搞的嘛！", true}},
        {cmd = "PkGeneralAction", args = {true, "攻击"}},
        {cmd = "PkShowDialog", args = {true, "唔喔喔喔喔喔！竟想从我甘宁面前逃走！实在太猖狂了……", false}},
        {cmd = "PkGeneralAction", args = {true, "小步前移"}},
        {cmd = "PkGeneralAction", args = {true, "前移"}},
        {cmd = "PkGeneralAction", args = {true, "前移"}},
        {cmd = "PkGeneralAction", args = {true, "前移"}},
        {cmd = "PkGeneralAction", args = {true, "撤退"}},
        {cmd = "PkOver"},
    },
    {cmd = "RoleMove", args = {"乐进", "up", 16, 17}},
    {cmd = "PlayerGeneralMove", args = {3, 15, 16, "up"}},
    {cmd = "Dialog", args = {"甘宁", "追！不要让他们逃掉！"}},
    {cmd = "Dialog", args = {"吕蒙", "怎么会变成这样？"}},
    {cmd = "Dialog", args = {"吕蒙", "真是拿他没办法……"}},
    {
        {cmd = "RoleMove", args = {"甘宁", "up", 15, 18}},
        {cmd = "RoleMove", args = {"吕蒙", "up", 16, 19}},
        {cmd = "RoleMove", args = {"海盗5", "up", 14, 18}},
        {cmd = "RoleMove", args = {"海盗6", "up", 14, 19}},
        {cmd = "RoleMove", args = {"海盗7", "up", 15, 19}},
        {cmd = "RoleMove", args = {"海盗8", "up", 15, 20}},
        {cmd = "RoleMove", args = {"弓兵3", "up", 13, 19}},
        {cmd = "RoleMove", args = {"弓兵4", "up", 14, 20}},
    },
    {cmd = "FaceToFace", args = {"孙权", "甘宁"}},
    {cmd = "GeneralAction", args = {"孙权", "prepareAttack"}},
    {cmd = "Dialog", args = {"孙权", "唔唔，刚才不是已经说过了吗？"}},
    {cmd = "Dialog", args = {"孙权", "没办法了，我们也进攻吧！"}},
    {cmd = "GeneralAction", args = {"孙权", "stand"}},
    {
        {cmd = "RoleMove", args = {"海盗1", "up", 10, 24}},
        {cmd = "RoleMove", args = {"海盗2", "up", 11, 25}},
        {cmd = "RoleMove", args = {"海盗3", "up", 9, 24}},
        {cmd = "RoleMove", args = {"海盗4", "up", 10, 25}},
        {cmd = "RoleMove", args = {"弓兵1", "up", 10, 26}},
        {cmd = "RoleMove", args = {"弓兵2", "up", 9, 25}},
        {cmd = "RoleMove", args = {"董袭", "up", 9, 26}},
        {cmd = "RoleMove", args = {"孙权", "up", 10, 27}},
    },
    {
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}}}},
        {cmd = "PlayerGeneralMove", args = {4, 9, 13, "down"}},
        {cmd = "PlayerGeneralMove", args = {5, 10, 14, "down"}},
        {cmd = "PlayerGeneralMove", args = {8, 9, 12, "down"}},
        {cmd = "PlayerGeneralMove", args = {9, 10, 13, "down"}},
    },
    {cmd = "Dialog", args = {"乐进", "嗄嗄……"}},
    {cmd = "Dialog", args = {"乐进", "快、快跑！嗄嗄……"}},
    {cmd = "RoleMove", args = {"乐进", "down", 16, 11}},
    {cmd = "PlayerGeneralMove", args = {3, 17, 12, "down"}},
    {cmd = "Dialog", args = {"甘宁", "跑得倒挺快的！"}},
    {cmd = "Dialog", args = {"吕蒙", "甘宁，不可深追。快回来！"}},
    {cmd = "Dialog", args = {"吕蒙", "我感觉有些奇怪啊。"}},
    {
        {cmd = "RoleMove", args = {"甘宁", "up", 16, 13}},
        {cmd = "RoleMove", args = {"吕蒙", "up", 17, 14}},
        {cmd = "RoleMove", args = {"海盗5", "up", 16, 14}},
        {cmd = "RoleMove", args = {"海盗7", "up", 17, 15}},
        {cmd = "RoleMove", args = {"海盗6", "up", 16, 15}},
        {cmd = "RoleMove", args = {"海盗8", "up", 17, 16}},
        {cmd = "RoleMove", args = {"弓兵3", "up", 15, 16}},
        {cmd = "RoleMove", args = {"弓兵4", "up", 16, 17}},
    },
    {cmd = "FaceToFace", args = {"乐进", "甘宁"}},
    {cmd = "GeneralAction", args = {"乐进", "prepareAttack"}},
    {cmd = "Dialog", args = {"乐进", "好！就是现在！"}},
    {cmd = "GeneralAction", args = {"乐进", "stand"}},
    {cmd = "GeneralReborn", args = {"张辽", 15, 14, "right"}},
    {cmd = "GeneralReborn", args = {"李典", 18, 15, "left"}},
    {cmd = "PlayerGeneralShow", args = {6}},
    {cmd = "PlayerGeneralShow", args = {7}},
    {cmd = "FaceToFace", args = {"张辽", "吕蒙"}},
    {cmd = "FaceToFace", args = {"李典", "吕蒙"}},
    {cmd = "Dialog", args = {"张辽", "敌人中计了！"}},
    {cmd = "Dialog", args = {"李典", "一切都按计划顺利进行。"}},
    {cmd = "GeneralChangeDirection", args = {"甘宁", "left"}},
    {cmd = "GeneralChangeDirection", args = {"甘宁", "right"}},
    {cmd = "GeneralChangeDirection", args = {"甘宁", "down"}},
    {cmd = "Dialog", args = {"甘宁", "不好！"}},
    {cmd = "Dialog", args = {"甘宁", "被包围了！"}},
    {cmd = "Dialog", args = {"甘宁", "这个混帐！"}},
    {cmd = "Dialog", args = {"吕蒙", "甘宁，将士兵集合起来！"}},
    {cmd = "Dialog", args = {"吕蒙", "这样下去………唔唔！"}},
    {cmd = "RangeGeneralsStatusChange", args = {{"enemy"}, 15, 13, 17, 17, "无", "无", "混乱", 0, 0}},
    {cmd = "FaceToFace", args = {"董袭", "甘宁"}},
    {cmd = "FaceToFace", args = {"孙权", "甘宁"}},
    {cmd = "Dialog", args = {"董袭", "唉，这个甘宁，被打败了……"}},
    {cmd = "Dialog", args = {"董袭", "吕蒙这家伙没有阻止住他吗？"}},
    {cmd = "Dialog", args = {"孙权", "董袭，快去增援！"}},
    {cmd = "GeneralAction", args = {"张辽", "prepareAttack"}},
    {
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}}}},
        {cmd = "Dialog", args = {"张辽", "好！一鼓作气击垮先头部队！"}},
        {cmd = "Dialog", args = {"张辽", "分遣部队和主力部队共同夹击！"}},
    },
    {
        {cmd = "Else"},
        {cmd = "Dialog", args = {"张辽", "好！一鼓作气击垮先头部队！"}},
        {cmd = "Dialog", args = {"张辽", "然后马上退回城中，不要让敌人进入城中！"}},
    },
    {cmd = "GeneralAction", args = {"张辽", "stand"}},
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、击退孙权。\n\n失败条件\n一、部队全军覆没。\n二、回合数超过25。"}},
    {cmd = "ShowBattleWinCondition", args = {"击退孙权！"}},
    {cmd = "HighlightGeneral", args = {"孙权"}},
    {cmd = "VarSet", args = {"Var533", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "RoundsTest", args = {2, "="}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var11"}}}},
        {
            {cmd = "GeneralShow", args = {"徐盛"}},
            {cmd = "GeneralShow", args = {"凌统"}},
            {cmd = "GeneralShow", args = {"骑兵1"}},
            {cmd = "GeneralShow", args = {"骑兵2"}},
            {cmd = "GeneralShow", args = {"骑兵3"}},
            {cmd = "GeneralShow", args = {"骑兵4"}},
            {cmd = "GeneralShow", args = {"弓骑兵1"}},
            {cmd = "GeneralShow", args = {"弓骑兵2"}},
            {cmd = "FaceToFace", args = {"徐盛", "孙权"}},
            {cmd = "FaceToFace", args = {"凌统", "孙权"}},
            {cmd = "GeneralAction", args = {"徐盛", "dizzy"}},
            {cmd = "Dialog", args = {"徐盛", "糟了！？还是没赶上！"}},
            {cmd = "Dialog", args = {"徐盛", "想不到战斗已经开始！"}},
            {cmd = "Dialog", args = {"徐盛", "我太对不起孙权主公了！"}},
            {cmd = "Dialog", args = {"凌统", "唔唔，还是没能赶上吗？"}},
            {cmd = "Dialog", args = {"凌统", "全军加速前进！"}},
            {cmd = "Dialog", args = {"凌统", "快呀！"}},
            {cmd = "GeneralAiChange", args = {"孙权", "到指定点", "无", 12, 24}},
            {cmd = "VarSet", args = {"Var11", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {3, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var12"}}}},
        {
            {cmd = "GeneralAiChange", args = {"孙权", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"董袭", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var12", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 7, "<", "整个战场", 1, 1, 1, 1}},
        {cmd = "GeneralCountsTest", args = {{"player"}, 4, ">=", "整个战场", 1, 1, 1, 1}},
        {cmd = "VarTest", args = {{trueConditions = {"Var11"}, falseConditions = {"Var2", "Var6"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"孙权", "唔唔，这些家伙真不好对付！"}},
            {cmd = "Dialog", args = {"孙权", "我军战斗力消耗太大了。"}},
            {cmd = "Dialog", args = {"孙权", "没办法，还是撤退吧。"}},
            {cmd = "VarSet", args = {"Var50", true}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"凌统", "孙权"}},
                {cmd = "Dialog", args = {"凌统", "遗憾，要撤退吗……"}},
                {cmd = "VarSet", args = {"Var51", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "FaceToFace", args = {"徐盛", "孙权"}},
                {cmd = "Dialog", args = {"徐盛", "唔唔，要是能早点赶到参战就好了……"}},
                {cmd = "Dialog", args = {"徐盛", "孙权主公，属下对不起您！"}},
                {cmd = "VarSet", args = {"Var54", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
                {cmd = "FaceToFace", args = {"董袭", "孙权"}},
                {cmd = "Dialog", args = {"董袭", "啐！给我记住！"}},
                {cmd = "Dialog", args = {"董袭", "真不甘心，我还没杀痛快呢！"}},
                {cmd = "VarSet", args = {"Var55", true}},
            },
            {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 1, 20, 32}},
            {cmd = "VarSet", args = {"Var6", true}},
            {cmd = "Dialog", args = {"张辽", "很好，总算击退了敌军！"}},
            {cmd = "Dialog", args = {"张辽", "我军胜利了！"}},
            {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var100", true}},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var633", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"乐进", "甘宁", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"乐进", "甘宁"}},
            {cmd = "FaceToFace", args = {"甘宁", "乐进"}},
            {cmd = "Dialog", args = {"乐进", "现在后悔跟我们作对了吧？"}},
            {cmd = "Dialog", args = {"甘宁", "你说什么！？"}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"乐进", "吕蒙", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"乐进", "吕蒙"}},
            {cmd = "FaceToFace", args = {"吕蒙", "乐进"}},
            {cmd = "Dialog", args = {"乐进", "吕蒙，明年的今天就是你的忌日！"}},
            {cmd = "Dialog", args = {"乐进", "到阴曹地府去后悔吧！"}},
            {cmd = "Dialog", args = {"吕蒙", "士为知己者死，我吕蒙死而无憾。"}},
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"张辽", "孙权", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"张辽", "孙权"}},
            {cmd = "FaceToFace", args = {"孙权", "张辽"}},
            {cmd = "Dialog", args = {"张辽", "孙权！拿命来吧！"}},
            {cmd = "Dialog", args = {"孙权", "张辽……？"}},
            {cmd = "Dialog", args = {"孙权", "曹操老贼，手下倒有几位良将。"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"张辽", "凌统", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var43"}}}},
        {
            {cmd = "FaceToFace", args = {"凌统", "张辽"}},
            {cmd = "FaceToFace", args = {"张辽", "凌统"}},
            {cmd = "Dialog", args = {"凌统", "我不会让你碰主公一根汗毛的。"}},
            {cmd = "Dialog", args = {"凌统", "张辽！我要杀了你！"}},
            {cmd = "Dialog", args = {"张辽", "只会逞口舌之快，根本挡不住我。"}},
            {cmd = "Dialog", args = {"张辽", "来吧！"}},
            {cmd = "VarSet", args = {"Var43", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"孙权", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"孙权", "唔唔，这些家伙真不好对付！"}},
            {cmd = "Dialog", args = {"孙权", "我军战斗力消耗太大了。"}},
            {cmd = "Dialog", args = {"孙权", "没办法，还是撤退吧。"}},
            {cmd = "VarSet", args = {"Var50", true}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"凌统", "孙权"}},
                {cmd = "Dialog", args = {"凌统", "遗憾，要撤退吗……"}},
                {cmd = "VarSet", args = {"Var51", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "FaceToFace", args = {"徐盛", "孙权"}},
                {cmd = "Dialog", args = {"徐盛", "唔唔，要是能早点赶到参战就好了……"}},
                {cmd = "Dialog", args = {"徐盛", "孙权主公，属下对不起您！"}},
                {cmd = "VarSet", args = {"Var54", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
                {cmd = "FaceToFace", args = {"董袭", "孙权"}},
                {cmd = "Dialog", args = {"董袭", "啐！给我记住！"}},
                {cmd = "Dialog", args = {"董袭", "真不甘心，我还没杀痛快呢！"}},
                {cmd = "VarSet", args = {"Var55", true}},
            },
            {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 1, 20, 32}},
            {cmd = "Dialog", args = {"张辽", "很好，总算击退了敌军！"}},
            {cmd = "Dialog", args = {"张辽", "我军胜利了！"}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var2"}}}},
                {cmd = "BattleExtraItems", args = {0, "印绶", 0, "", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var100", true}},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var633", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"凌统", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"凌统", "可恶，有朝一日我会洗雪这个耻辱的！"}},
            {cmd = "GeneralRetreat", args = {"凌统", false}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"甘宁", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"甘宁", "哎呀，不行了！"}},
            {cmd = "Dialog", args = {"甘宁", "还是撤退吧。"}},
            {cmd = "GeneralRetreat", args = {"甘宁", false}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"吕蒙", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"吕蒙", "福祸由己，是我太大意了。"}},
            {cmd = "Dialog", args = {"吕蒙", "这次教训我会铭记在心……"}},
            {cmd = "Dialog", args = {"吕蒙", "暂且先撤退吧。"}},
            {cmd = "GeneralRetreat", args = {"吕蒙", false}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"徐盛", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
        {
            {cmd = "Dialog", args = {"徐盛", "撤退！"}},
            {cmd = "Dialog", args = {"徐盛", "快点撤退！"}},
            {cmd = "GeneralRetreat", args = {"徐盛", false}},
            {cmd = "VarSet", args = {"Var54", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"董袭", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
        {
            {cmd = "Dialog", args = {"董袭", "嗯嗯嗯嗯嗯……"}},
            {cmd = "Dialog", args = {"董袭", "没办法了，撤退吧！"}},
            {cmd = "GeneralRetreat", args = {"董袭", false}},
            {cmd = "VarSet", args = {"Var55", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{trueConditions = {"Var100"}, falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"张辽", "很好，总算歼灭了敌人！"}},
            {cmd = "Dialog", args = {"张辽", "我军胜利了！"}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var2"}}}},
                {cmd = "BattleExtraItems", args = {0, "印绶", 0, "", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var633", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹军在孙权军前大败而归。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
