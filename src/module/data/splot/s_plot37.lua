local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "斜谷之战",
    maxRounds    = 30,
    mapId        = "37.tmx",
    weatherStart = {"晴", "晴", "阴", "晴", "阴"},
    weatherType  = {"晴"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    friendGeneralList = {
        {uid = "曹彰", aiType = "攻击武将", aiArgs = {fixTarget = "曹操"}, isHide = true, levelAdd = 4},
        {uid = "步兵1", aiType = "攻击武将", aiArgs = {fixTarget = "曹操"}, isHide = true},
        {uid = "步兵2", aiType = "攻击武将", aiArgs = {fixTarget = "曹操"}, isHide = true},
        {uid = "弓兵3", aiType = "攻击武将", aiArgs = {fixTarget = "曹操"}, isHide = true},
    },
    enemyGeneralList = {
        {uid = "马超", aiType = "主动出击", levelAdd = 4},
        {uid = "魏延", aiType = "主动出击", levelAdd = 4},
        {uid = "吴兰", aiType = "主动出击", levelAdd = 2},
        {uid = "贼兵1", aiType = "主动出击"},
        {uid = "贼兵2", aiType = "主动出击"},
        {uid = "贼兵3", aiType = "主动出击"},
        {uid = "贼兵4", aiType = "主动出击"},
        {uid = "武术家1", aiType = "主动出击", isHide = true},
        {uid = "武术家2", aiType = "主动出击"},
        {uid = "武术家3", aiType = "主动出击"},
        {uid = "刘封", aiType = "主动出击", isHide = true, levelAdd = 2},
        {uid = "孟达", aiType = "主动出击", isHide = true, levelAdd = 2},
        {uid = "驯虎师1", aiType = "主动出击", isHide = true},
        {uid = "驯虎师2", aiType = "主动出击", isHide = true},
        {uid = "驯熊师1", aiType = "主动出击", isHide = true},
        {uid = "驯熊师2", aiType = "主动出击", isHide = true},
        {uid = "弓兵1", aiType = "主动出击", isHide = true},
        {uid = "弓兵2", aiType = "主动出击", isHide = true},
        {uid = "刘备", aiType = "被动出击", isHide = true, levelAdd = 4},
        {uid = "张飞", aiType = "被动出击", isHide = true, levelAdd = 4},
        {uid = "黄忠", aiType = "被动出击", isHide = true, levelAdd = 4},
        {uid = "骑兵1", aiType = "被动出击", isHide = true},
        {uid = "骑兵2", aiType = "被动出击", isHide = true},
        {uid = "弓骑兵1", aiType = "被动出击", isHide = true},
        {uid = "诸葛亮", aiType = "被动出击", isHide = true, levelAdd = 4},
        {uid = "赵云", aiType = "被动出击", isHide = true, levelAdd = 4},
        {uid = "骑兵3", aiType = "被动出击", isHide = true},
        {uid = "骑兵4", aiType = "被动出击", isHide = true},
        {uid = "弓骑兵2", aiType = "被动出击", isHide = true},
        {uid = "弓骑兵3", aiType = "被动出击", isHide = true},
        {uid = "步兵4", aiType = "主动出击"},
        {uid = "步兵5", aiType = "主动出击"},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"张飞", "蛇矛", 0, "默认装备", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"赵云", "默认装备", 0, "白银铠", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"刘备", "雌雄双剑", 0, "默认装备", 0, "的卢"}},
        {cmd = "GeneralEquipsSet", args = {"诸葛亮", "白羽扇", 0, "鹤氅", 0, "诸葛巾"}},
        {cmd = "GeneralEquipsSet", args = {"吴兰", "默认装备", 0, "默认装备", 0, "铜盔"}},
    },
    {
        {cmd = "AddObstacle", args = {"火", true, "火", 7, 5}},
        {cmd = "AddObstacle", args = {"火", true, "火", 7, 6}},
        {cmd = "AddObstacle", args = {"火", true, "火", 7, 10}},
        {cmd = "AddObstacle", args = {"火", true, "火", 7, 11}},
        {cmd = "AddObstacle", args = {"火", true, "火", 9, 6}},
        {cmd = "AddObstacle", args = {"火", true, "火", 10, 6}},
        {cmd = "AddObstacle", args = {"火", true, "火", 12, 6}},
        {cmd = "AddObstacle", args = {"火", true, "火", 12, 8}},
        {cmd = "AddObstacle", args = {"火", true, "火", 14, 5}},
        {cmd = "AddObstacle", args = {"火", true, "火", 14, 6}},
        {cmd = "AddObstacle", args = {"火", true, "火", 14, 11}},
        {cmd = "AddObstacle", args = {"火", true, "火", 15, 5}},
        {cmd = "AddObstacle", args = {"火", true, "火", 15, 6}},
        {cmd = "AddObstacle", args = {"火", true, "火", 15, 10}},
        {cmd = "AddObstacle", args = {"火", true, "火", 15, 11}},
    },
    {cmd = "PlayMusic", args = {"Track8"}},
    {
        {
            {cmd = "PlayerGeneralShow", args = {2}},
            {cmd = "PlayerGeneralMove", args = {2, 9, 20, "up"}},
            {cmd = "PlayerGeneralShow", args = {0}},
            {cmd = "PlayerGeneralMove", args = {0, 10, 20, "up"}},
            {cmd = "PlayerGeneralShow", args = {1}},
            {cmd = "PlayerGeneralMove", args = {1, 11, 20, "up"}},
            {cmd = "PlayerGeneralShow", args = {3}},
            {cmd = "PlayerGeneralMove", args = {3, 12, 20, "up"}},
            {cmd = "PlayerGeneralShow", args = {4}},
            {cmd = "PlayerGeneralMove", args = {4, 9, 21, "up"}},
            {cmd = "PlayerGeneralShow", args = {6}},
            {cmd = "PlayerGeneralMove", args = {6, 10, 21, "up"}},
            {cmd = "PlayerGeneralShow", args = {7}},
            {cmd = "PlayerGeneralMove", args = {7, 11, 21, "up"}},
            {cmd = "PlayerGeneralShow", args = {5}},
            {cmd = "PlayerGeneralMove", args = {5, 12, 21, "up"}},
        },
        {cmd = "Dialog", args = {"曹操", "火势已经越来越大了。"}},
        {cmd = "Dialog", args = {"曹操", "看来还是没能赶上……"}},
        {
            {cmd = "PlayerGeneralMove", args = {2, 9, 15, "up"}},
            {cmd = "PlayerGeneralMove", args = {0, 10, 15, "up"}},
            {cmd = "PlayerGeneralMove", args = {1, 11, 15, "up"}},
            {cmd = "PlayerGeneralMove", args = {3, 12, 15, "up"}},
            {cmd = "PlayerGeneralMove", args = {4, 9, 16, "up"}},
            {cmd = "PlayerGeneralMove", args = {6, 10, 16, "up"}},
            {cmd = "PlayerGeneralMove", args = {7, 11, 16, "up"}},
            {cmd = "PlayerGeneralMove", args = {5, 12, 16, "up"}},
        },
        {cmd = "Dialog", args = {"马超", "哈哈哈，曹操你来晚了！"}},
        {cmd = "Dialog", args = {"吴兰", "此地已经失陷，你再也回不去啦。"}},
        {cmd = "Dialog", args = {"魏延", "如果能够杀掉你的话，将是我军彻底的胜利。"}},
        {cmd = "Dialog", args = {"魏延", "你就乖乖交出你的脑袋吧！"}},
        {cmd = "Dialog", args = {"曹操", "唔唔唔……"}},
        {
            {cmd = "GeneralShow", args = {"驯虎师1"}},
            {cmd = "RoleMove", args = {"驯虎师1", "up", 9, 20}},
            {cmd = "GeneralShow", args = {"刘封"}},
            {cmd = "RoleMove", args = {"刘封", "up", 10, 20}},
            {cmd = "GeneralShow", args = {"孟达"}},
            {cmd = "RoleMove", args = {"孟达", "up", 11, 20}},
            {cmd = "GeneralShow", args = {"驯虎师2"}},
            {cmd = "RoleMove", args = {"驯虎师2", "up", 12, 20}},
            {cmd = "GeneralShow", args = {"驯熊师1"}},
            {cmd = "RoleMove", args = {"驯熊师1", "up", 9, 21}},
            {cmd = "GeneralShow", args = {"弓兵1"}},
            {cmd = "RoleMove", args = {"弓兵1", "up", 10, 21}},
            {cmd = "GeneralShow", args = {"弓兵2"}},
            {cmd = "RoleMove", args = {"弓兵2", "up", 11, 21}},
            {cmd = "GeneralShow", args = {"驯熊师2"}},
            {cmd = "RoleMove", args = {"驯熊师2", "up", 12, 21}},
        },
        {cmd = "GeneralAction", args = {"刘封", "deepBreath"}},
        {cmd = "Dialog", args = {"刘封", "嗄嗄……"}},
        {cmd = "Dialog", args = {"刘封", "终、终于追上了。"}},
        {cmd = "Dialog", args = {"刘封", "曹、曹操！你拿命来吧！"}},
        {cmd = "Dialog", args = {"孟达", "唷，局面挺好的嘛！"}},
        {cmd = "Dialog", args = {"孟达", "这可是个立功的好机会。"}},
        {cmd = "FaceToFace", args = {"曹操", "孟达"}},
        {cmd = "Dialog", args = {"曹操", "后边也有敌人……"}},
        {cmd = "Dialog", args = {"曹操", "不好，已经无路可逃了！"}},
        {cmd = "GeneralShow", args = {"曹彰"}},
        {cmd = "GeneralShow", args = {"步兵1"}},
        {cmd = "GeneralShow", args = {"步兵2"}},
        {cmd = "GeneralShow", args = {"弓兵3"}},
        {cmd = "FaceToFace", args = {"曹彰", "曹操"}},
        {cmd = "Dialog", args = {"曹彰", "父亲！父亲！"}},
        {cmd = "Dialog", args = {"曹彰", "父亲您在哪！？"}},
        {cmd = "FaceToFace", args = {"曹操", "曹彰"}},
        {cmd = "Dialog", args = {"曹操", "曹彰！？是曹彰吗？"}},
        {cmd = "Dialog", args = {"曹彰", "喔，父亲，原来您平安无事？"}},
        {cmd = "Dialog", args = {"曹彰", "孩儿马上来救您！"}},
        {cmd = "Dialog", args = {"曹操", "如果能够想办法与曹彰会合，也许可以脱离险境………"}},
    },
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、歼灭所有敌军。\n\n失败条件\n一、曹操死亡。\n二、回合数超过30。"}},
    {cmd = "ShowBattleWinCondition", args = {"歼灭所有敌军！"}},
    {cmd = "VarSet", args = {"Var537", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "RoundsTest", args = {3, "="}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var11"}}}},
        {
            {
                {cmd = "GeneralShow", args = {"骑兵3"}},
                {cmd = "GeneralShow", args = {"赵云"}},
                {cmd = "GeneralShow", args = {"骑兵4"}},
                {cmd = "GeneralShow", args = {"弓骑兵2"}},
                {cmd = "GeneralShow", args = {"诸葛亮"}},
                {cmd = "GeneralShow", args = {"弓骑兵3"}},
                {cmd = "GeneralShow", args = {"骑兵1"}},
                {cmd = "GeneralShow", args = {"张飞"}},
                {cmd = "GeneralShow", args = {"骑兵2"}},
                {cmd = "GeneralShow", args = {"黄忠"}},
                {cmd = "GeneralShow", args = {"刘备"}},
                {cmd = "GeneralShow", args = {"弓骑兵1"}},
            },
            {cmd = "FaceToFace", args = {"刘备", "曹操"}},
            {cmd = "Dialog", args = {"刘备", "真不愧是曹操，看来没那么容易就擒。"}},
            {cmd = "Dialog", args = {"刘备", "不过既然我率领主力到来，你的性命也就到此为止了！"}},
            {cmd = "FaceToFace", args = {"曹操", "刘备"}},
            {cmd = "Dialog", args = {"曹操", "唔唔，敌军主力也到达了吗？"}},
            {cmd = "Dialog", args = {"曹操", "难道只有撤退了！？"}},
            {cmd = "ChoiceDialog", args = {"曹操", {"突破包围", "彻底抵抗"}}},
            {cmd = "VarSet", args = {"Var11", true}},
            {
                {
                    {cmd = "EnterRangeTest", args = {"曹操", 8, 1, 13, 4}},
                    {cmd = "AllGeneralsRecover"},
                    {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
                    {cmd = "Dialog", args = {"曹操", "这个地方就让给刘备吧。"}},
                    {cmd = "Dialog", args = {"曹操", "撤退！"}},
                    {cmd = "GeneralAction", args = {"曹操", "stand"}},
                    {cmd = "FaceToFace", args = {"刘备", "曹操"}},
                    {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                    {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                    {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
                    {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                    {cmd = "GeneralsDisappear", args = {{"player", "friend"}, 1, 1, 20, 24}},
                    {cmd = "Dialog", args = {"刘备", "糟、糟啦！"}},
                    {cmd = "Dialog", args = {"刘备", "追！别让曹操跑了！"}},
                    {cmd = "Dialog", args = {"刘备", "无论如何都要捉住他！"}},
                    {cmd = "Dialog", args = {"诸葛亮", "没能收拾曹操，功亏一篑。"}},
                    {cmd = "Dialog", args = {"诸葛亮", "要是错过这次机会就太可惜了。"}},
                    {cmd = "Dialog", args = {"张飞", "什么嘛，有种的就别跑！"}},
                    {cmd = "Dialog", args = {"黄忠", "哈哈哈。"}},
                    {cmd = "Dialog", args = {"黄忠", "逃得可真快！"}},
                    {cmd = "Dialog", args = {"赵云", "嗯。"}},
                    {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
                    {cmd = "BattleOver"},
                    {cmd = "VarSet", args = {"Var100", true}},
                    {cmd = "VarSet", args = {"Var0", true}},
                    {cmd = "VarSet", args = {"Var637", true}},
                },
                {
                    {cmd = "Else"},
                    {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
                    {cmd = "Dialog", args = {"曹操", "全军将士听令！"}},
                    {cmd = "Dialog", args = {"曹操", "现在攻击粮仓的敌军，一鼓作气，突破敌阵！"}},
                    {cmd = "Dialog", args = {"曹操", "敌人在大火中的行动相当迟缓，只要我们行动迅速就可以成功。"}},
                    {cmd = "Dialog", args = {"曹操", "全军跟着我来！"}},
                    {cmd = "GeneralAction", args = {"曹操", "stand"}},
                    {cmd = "BattleWinCondition", args = {"胜利条件\n一、曹操到达北端。\n、二全部消灭敌人。\n\n失败条件\n一、曹操死亡。\n二、回合数超过30。"}},
                    {cmd = "ShowBattleWinCondition", args = {"曹操逃走！"}},
                    {cmd = "HighlightRange", args = {8, 1, 13, 4, false}},
                    {cmd = "FaceToFace", args = {"刘备", "曹操"}},
                    {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                    {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                    {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
                    {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                    {cmd = "Dialog", args = {"刘备", "曹操要逃走了！"}},
                    {cmd = "Dialog", args = {"刘备", "追！别让曹操跑了！"}},
                    {cmd = "Dialog", args = {"刘备", "无论如何捉住他！"}},
                    {cmd = "Dialog", args = {"诸葛亮", "如果让曹操逃了，就功亏一篑了。"}},
                    {cmd = "Dialog", args = {"诸葛亮", "一定要捉到曹操！"}},
                    {cmd = "Dialog", args = {"张飞", "曹操别跑！"}},
                    {cmd = "Dialog", args = {"黄忠", "让我放箭射死曹操吧！"}},
                    {cmd = "Dialog", args = {"赵云", "赵子龙来也！"}},
                    {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 20, 24, "主动出击", "无", 1, 1}},
                    {cmd = "VarSet", args = {"Var2", true}},
                },
            },
            {
                {
                    {cmd = "GeneralCountsTest", args = {{"enemy"}, 9, "<", "指定区域", 1, 1, 20, 21}},
                    {cmd = "Dialog", args = {"曹操", "如果进行持久战的话还有胜算，如果坚守在这个地方，刘备近期内的战略也会很被动。"}},
                    {cmd = "Dialog", args = {"刘备", "不逃了是吧！真是感谢苍天。"}},
                    {cmd = "Dialog", args = {"刘备", "既然你不逃，我们也好办事了。"}},
                    {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                    {cmd = "Dialog", args = {"诸葛亮", "定军山虽然已经攻陷，若无法占领此地，势将难以攻魏。"}},
                    {cmd = "Dialog", args = {"诸葛亮", "曹操这个老贼的决断的确很高明。"}},
                    {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                    {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
                    {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                    {cmd = "Dialog", args = {"张飞", "哈哈哈。"}},
                    {cmd = "Dialog", args = {"张飞", "俺手痒了！"}},
                    {cmd = "Dialog", args = {"黄忠", "让我放箭射死曹操吧！"}},
                    {cmd = "Dialog", args = {"赵云", "赵子龙来也！"}},
                    {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 20, 24, "主动出击", "无", 1, 1}},
                    {cmd = "GeneralAction", args = {"曹操", "defense"}},
                    {cmd = "Dialog", args = {"曹操", "想来的话就来吧！"}},
                    {cmd = "Dialog", args = {"曹操", "我一定会守住此地的。"}},
                },
                {
                    {cmd = "Else"},
                    {
                        {cmd = "GeneralCountsTest", args = {{"player", "friend"}, 1, ">=", "指定区域", 1, 18, 20, 24}},
                        {cmd = "Dialog", args = {"曹操", "如果进行持久战的话还有胜算，如果坚守在这个地方，刘备近期内的战略也会很被动。"}},
                        {cmd = "Dialog", args = {"刘备", "不逃了是吧！真是感谢苍天。"}},
                        {cmd = "Dialog", args = {"刘备", "既然你不逃，我们也好办事了。"}},
                        {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                        {cmd = "Dialog", args = {"诸葛亮", "定军山虽然已经攻陷，若无法占领此地，势将难以攻魏。"}},
                        {cmd = "Dialog", args = {"诸葛亮", "曹操这个老贼的决断的确很高明。"}},
                        {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                        {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
                        {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                        {cmd = "Dialog", args = {"张飞", "哈哈哈。"}},
                        {cmd = "Dialog", args = {"张飞", "俺手痒了！"}},
                        {cmd = "Dialog", args = {"黄忠", "让我放箭射死曹操吧！"}},
                        {cmd = "Dialog", args = {"赵云", "赵子龙来也！"}},
                        {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 20, 24, "主动出击", "无", 1, 1}},
                        {cmd = "GeneralAction", args = {"曹操", "defense"}},
                        {cmd = "Dialog", args = {"曹操", "想来的话就来吧！"}},
                        {cmd = "Dialog", args = {"曹操", "我一定会守住这里。"}},
                    },
                    {
                        {cmd = "Else"},
                        {cmd = "Dialog", args = {"曹操", "如果进行持久战的话还有胜算，如果坚守在这个地方，刘备近期内的战略也会很被动。"}},
                        {cmd = "Dialog", args = {"刘备", "不逃了是吧！难道认命了？"}},
                        {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                        {cmd = "Dialog", args = {"诸葛亮", "定军山虽然已经攻陷，但若无法占领此地，势将难以攻魏。"}},
                        {cmd = "Dialog", args = {"诸葛亮", "曹操这个老贼的决断的确高明。"}},
                        {cmd = "Dialog", args = {"刘备", "大家火速赶来此地也都累了，还是先喘口气再说吧。"}},
                        {cmd = "Dialog", args = {"刘备", "等将士们休息过后，再全军进击。"}},
                        {cmd = "FaceToFace", args = {"诸葛亮", "刘备"}},
                        {cmd = "Dialog", args = {"诸葛亮", "主公，时间拖得越久，只会帮了曹操的忙。"}},
                        {cmd = "Dialog", args = {"诸葛亮", "还是即刻展开进攻吧！"}},
                        {cmd = "FaceToFace", args = {"刘备", "诸葛亮"}},
                        {cmd = "Dialog", args = {"刘备", "这个我也知道，但是士兵这么累，怎么打得了仗？"}},
                        {cmd = "Dialog", args = {"刘备", "休息也不过是一眨眼的时间嘛。"}},
                        {cmd = "Dialog", args = {"诸葛亮", "既然主公这么说的话……"}},
                        {cmd = "Dialog", args = {"诸葛亮", "孔明就不再坚持了………"}},
                        {cmd = "Dialog", args = {"诸葛亮", "不过要随时留意曹操的举动。"}},
                        {cmd = "Dialog", args = {"刘备", "嗯！"}},
                        {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                        {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
                        {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                        {cmd = "Dialog", args = {"张飞", "曹操就在眼前，居然不能打？"}},
                        {cmd = "Dialog", args = {"黄忠", "根本不用顾虑我嘛！"}},
                        {cmd = "Dialog", args = {"赵云", "既然主公这么交代……"}},
                        {cmd = "Dialog", args = {"赵云", "好，全军休息，待命行事！"}},
                        {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 20, 21, "主动出击", "无", 1, 1}},
                        {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 22, 20, 24, "坚守原地", "无", 1, 1}},
                        {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
                        {cmd = "Dialog", args = {"曹操", "嗯！？刘备不动？"}},
                        {cmd = "Dialog", args = {"曹操", "这倒是帮了我的大忙，趁现在尽量削弱敌军！"}},
                        {cmd = "GeneralAction", args = {"曹操", "stand"}},
                        {cmd = "VarSet", args = {"Var3", true}},
                    },
                },
            },
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 10, 8}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AddItem", args = {"恢复用桃", 0}},
            {cmd = "VarSet", args = {"Var20", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 11, 8}},
        {cmd = "VarTest", args = {{falseConditions = {"Var21"}}}},
        {
            {cmd = "AddItem", args = {"恢复用桃", 0}},
            {cmd = "VarSet", args = {"Var21", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 9, "<", "指定区域", 1, 1, 20, 21}},
        {cmd = "RoundsTest", args = {4, ">="}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{trueConditions = {"Var3"}, falseConditions = {"Var6", "Var7", "Var50", "Var51"}}}},
        {
            {cmd = "FaceToFace", args = {"诸葛亮", "刘备"}},
            {cmd = "Dialog", args = {"诸葛亮", "主公，如果再不行动，曹操可就要逃了。"}},
            {cmd = "Dialog", args = {"诸葛亮", "请下令全军进攻吧！"}},
            {cmd = "GeneralAction", args = {"刘备", "prepareAttack"}},
            {cmd = "Dialog", args = {"刘备", "要是让曹操给走脱，就太失算啦！"}},
            {cmd = "Dialog", args = {"刘备", "全军冲锋！"}},
            {cmd = "GeneralAction", args = {"刘备", "stand"}},
            {cmd = "FaceToFace", args = {"曹操", "刘备"}},
            {cmd = "Dialog", args = {"曹操", "唔，主力出动了！"}},
            {cmd = "Dialog", args = {"曹操", "难道只有逃走才行吗？"}},
            {cmd = "ChoiceDialog", args = {"曹操", {"全军突围", "彻底抗战"}}},
            {cmd = "VarSet", args = {"Var6", true}},
            {
                {
                    {cmd = "EnterRangeTest", args = {"曹操", 8, 1, 13, 4}},
                    {cmd = "AllGeneralsRecover"},
                    {cmd = "Dialog", args = {"曹操", "好！撤退！"}},
                    {cmd = "Dialog", args = {"曹操", "可恶的孔明！"}},
                    {cmd = "Dialog", args = {"曹操", "这笔帐早晚跟你算清楚！"}},
                    {cmd = "FaceToFace", args = {"刘备", "曹操"}},
                    {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                    {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                    {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
                    {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                    {cmd = "GeneralsDisappear", args = {{"player", "friend"}, 1, 1, 20, 24}},
                    {cmd = "Dialog", args = {"刘备", "糟、糟啦！"}},
                    {cmd = "Dialog", args = {"刘备", "追！别让曹操跑了！"}},
                    {cmd = "Dialog", args = {"刘备", "无论如何都要捉住他！"}},
                    {cmd = "Dialog", args = {"诸葛亮", "想不到最后还是让曹操逃走，我的计划也因此功亏一篑！"}},
                    {cmd = "Dialog", args = {"诸葛亮", "太遗憾了………"}},
                    {cmd = "Dialog", args = {"张飞", "啊啊……"}},
                    {cmd = "Dialog", args = {"张飞", "又让他给跑了……"}},
                    {cmd = "Dialog", args = {"黄忠", "唔唔，还是没能给他致命一击。"}},
                    {cmd = "Dialog", args = {"赵云", "哼！又逃了是吗？"}},
                    {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
                    {cmd = "BattleOver"},
                    {cmd = "VarSet", args = {"Var100", true}},
                    {cmd = "VarSet", args = {"Var0", true}},
                    {cmd = "VarSet", args = {"Var637", true}},
                },
                {
                    {cmd = "Else"},
                    {cmd = "Dialog", args = {"曹操", "全军将士听令！"}},
                    {cmd = "Dialog", args = {"曹操", "现在攻击粮仓的敌军，一鼓作气，突破敌阵"}},
                    {cmd = "Dialog", args = {"曹操", "敌人在大火中的行动相当迟缓，只要行动迅速，应该不难成功的。"}},
                    {cmd = "BattleWinCondition", args = {"胜利条件\n一、曹操到达北端。\n二、歼灭所有敌军。\n\n失败条件\n一、曹操死亡。\n二、回合数超过30。"}},
                    {cmd = "ShowBattleWinCondition", args = {"曹操逃走！"}},
                    {cmd = "HighlightRange", args = {8, 1, 13, 4, false}},
                    {cmd = "FaceToFace", args = {"刘备", "曹操"}},
                    {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                    {cmd = "Dialog", args = {"刘备", "曹操要逃走了！"}},
                    {cmd = "Dialog", args = {"刘备", "追！别让曹操跑了！"}},
                    {cmd = "Dialog", args = {"刘备", "无论如何要捉住他！"}},
                    {cmd = "Dialog", args = {"诸葛亮", "如果让曹操逃了，就会功亏一篑。"}},
                    {cmd = "Dialog", args = {"诸葛亮", "一定要捉到曹操！"}},
                    {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 20, 24, "主动出击", "无", 1, 1}},
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                        {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                        {cmd = "Dialog", args = {"张飞", "哈哈哈。"}},
                        {cmd = "Dialog", args = {"张飞", "俺手痒了！"}},
                    },
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                        {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
                        {cmd = "Dialog", args = {"黄忠", "让我放箭射死曹操吧！"}},
                    },
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                        {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                        {cmd = "Dialog", args = {"赵云", "赵子龙来也！"}},
                    },
                    {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 20, 24, "主动出击", "无", 1, 1}},
                    {cmd = "VarSet", args = {"Var2", true}},
                },
            },
            {
                {cmd = "Dialog", args = {"曹操", "我还顶得住，反倒现在如果撤退，将来就更没希望打败刘备了。"}},
                {cmd = "Dialog", args = {"曹操", "如今唯有杀了刘备，方有明日的我！"}},
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                    {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                    {cmd = "Dialog", args = {"张飞", "哈哈哈。"}},
                    {cmd = "Dialog", args = {"张飞", "俺手痒了！"}},
                },
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                    {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
                    {cmd = "Dialog", args = {"黄忠", "曹操在哪！"}},
                    {cmd = "Dialog", args = {"黄忠", "跟我黄忠一决胜负吧！"}},
                },
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                    {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                    {cmd = "Dialog", args = {"赵云", "赵子龙来也！"}},
                },
                {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 20, 24, "主动出击", "无", 1, 1}},
                {cmd = "Dialog", args = {"曹操", "来吧！"}},
                {cmd = "Dialog", args = {"曹操", "我一定会守住此地的！"}},
            },
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"player", "friend"}, 1, ">=", "指定区域", 1, 18, 20, 24}},
        {cmd = "VarTest", args = {{trueConditions = {"Var3"}, falseConditions = {"Var6", "Var7", "Var50", "Var51"}}}},
        {
            {cmd = "FaceToFace", args = {"诸葛亮", "刘备"}},
            {cmd = "Dialog", args = {"诸葛亮", "主公，如果再不行动，曹操就要逃了。"}},
            {cmd = "Dialog", args = {"诸葛亮", "请下令全军进攻吧！"}},
            {cmd = "GeneralAction", args = {"刘备", "prepareAttack"}},
            {cmd = "Dialog", args = {"刘备", "要是让曹操给走脱，就太失算啦！"}},
            {cmd = "Dialog", args = {"刘备", "全军冲锋！"}},
            {cmd = "GeneralAction", args = {"刘备", "stand"}},
            {cmd = "FaceToFace", args = {"曹操", "刘备"}},
            {cmd = "Dialog", args = {"曹操", "唔，主力还是出动了！"}},
            {cmd = "Dialog", args = {"曹操", "难道只有逃走了吗？"}},
            {cmd = "ChoiceDialog", args = {"曹操", {"全军突围", "彻底抗战"}}},
            {cmd = "VarSet", args = {"Var7", true}},
            {
                {
                    {cmd = "EnterRangeTest", args = {"曹操", 8, 1, 13, 4}},
                    {cmd = "AllGeneralsRecover"},
                    {cmd = "Dialog", args = {"曹操", "好！撤退！"}},
                    {cmd = "Dialog", args = {"曹操", "可恶的孔明！"}},
                    {cmd = "Dialog", args = {"曹操", "这笔帐早晚跟你算清楚！"}},
                    {cmd = "FaceToFace", args = {"刘备", "曹操"}},
                    {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                    {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                    {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
                    {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                    {cmd = "GeneralsDisappear", args = {{"player", "friend"}, 1, 1, 20, 24}},
                    {cmd = "Dialog", args = {"刘备", "糟、糟啦！"}},
                    {cmd = "Dialog", args = {"刘备", "追！别让曹操跑了！"}},
                    {cmd = "Dialog", args = {"刘备", "无论如何都要捉住他！"}},
                    {cmd = "Dialog", args = {"诸葛亮", "想不到最后还是让曹操逃走，我的计划也因此功亏一篑！"}},
                    {cmd = "Dialog", args = {"诸葛亮", "太遗憾了………"}},
                    {cmd = "Dialog", args = {"张飞", "啊啊……"}},
                    {cmd = "Dialog", args = {"张飞", "又让他给跑了……"}},
                    {cmd = "Dialog", args = {"黄忠", "唔唔，还是没能给他致命一击。"}},
                    {cmd = "Dialog", args = {"赵云", "哼！又逃了是吗？"}},
                    {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
                    {cmd = "BattleOver"},
                    {cmd = "VarSet", args = {"Var100", true}},
                    {cmd = "VarSet", args = {"Var0", true}},
                    {cmd = "VarSet", args = {"Var637", true}},
                },
                {
                    {cmd = "Else"},
                    {cmd = "Dialog", args = {"曹操", "全军将士听令！"}},
                    {cmd = "Dialog", args = {"曹操", "现在攻击粮仓的敌军，一鼓作气，突破敌阵！"}},
                    {cmd = "Dialog", args = {"曹操", "敌人在大火中的行动相当迟缓，只要行动迅速，应该不难成功的。"}},
                    {cmd = "BattleWinCondition", args = {"胜利条件\n一、曹操到达北端。\n二、歼灭所有敌军。\n\n失败条件\n一、曹操死亡。\n二、回合数超过30。"}},
                    {cmd = "ShowBattleWinCondition", args = {"曹操逃走！"}},
                    {cmd = "HighlightRange", args = {8, 1, 13, 4, false}},
                    {cmd = "FaceToFace", args = {"刘备", "曹操"}},
                    {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                    {cmd = "Dialog", args = {"刘备", "曹操要逃走了！"}},
                    {cmd = "Dialog", args = {"刘备", "追！别让曹操跑了！"}},
                    {cmd = "Dialog", args = {"刘备", "无论如何捉住他！"}},
                    {cmd = "Dialog", args = {"诸葛亮", "如果让曹操逃了，就会功亏一篑。"}},
                    {cmd = "Dialog", args = {"诸葛亮", "一定要捉到曹操！"}},
                    {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 20, 24, "主动出击", "无", 1, 1}},
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                        {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                        {cmd = "Dialog", args = {"张飞", "哈哈哈。"}},
                        {cmd = "Dialog", args = {"张飞", "俺手痒了！"}},
                    },
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                        {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
                        {cmd = "Dialog", args = {"黄忠", "让我放箭射死曹操吧！"}},
                    },
                    {
                        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                        {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                        {cmd = "Dialog", args = {"赵云", "赵子龙来也！"}},
                    },
                    {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 20, 24, "主动出击", "无", 1, 1}},
                    {cmd = "VarSet", args = {"Var2", true}},
                },
            },
            {
                {cmd = "Dialog", args = {"曹操", "我还顶得住，反倒现在如果撤退，将来就更没希望打败刘备了。"}},
                {cmd = "Dialog", args = {"曹操", "如今唯有杀了刘备，方有明日的我！"}},
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                    {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                    {cmd = "Dialog", args = {"张飞", "哈哈哈。"}},
                    {cmd = "Dialog", args = {"张飞", "俺手痒了！"}},
                },
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                    {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
                    {cmd = "Dialog", args = {"黄忠", "曹操在哪！"}},
                    {cmd = "Dialog", args = {"黄忠", "跟我黄忠一决胜负吧！"}},
                },
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                    {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                    {cmd = "Dialog", args = {"赵云", "赵子龙来也！"}},
                },
                {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 1, 1, 20, 24, "主动出击", "无", 1, 1}},
                {cmd = "Dialog", args = {"曹操", "来吧！"}},
                {cmd = "Dialog", args = {"曹操", "我一定会守住此地！"}},
            },
        },
    },
    {
        {cmd = "EnterRangeTest", args = {"曹操", 8, 1, 13, 4}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var30"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "好！撤退！"}},
            {cmd = "Dialog", args = {"曹操", "可恶的孔明！"}},
            {cmd = "Dialog", args = {"曹操", "这笔帐早晚跟你算！"}},
            {cmd = "FaceToFace", args = {"刘备", "曹操"}},
            {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
            {cmd = "FaceToFace", args = {"张飞", "曹操"}},
            {cmd = "FaceToFace", args = {"黄忠", "曹操"}},
            {cmd = "FaceToFace", args = {"赵云", "曹操"}},
            {cmd = "GeneralsDisappear", args = {{"player", "friend"}, 1, 1, 20, 24}},
            {cmd = "Dialog", args = {"刘备", "糟、糟啦！"}},
            {cmd = "Dialog", args = {"刘备", "追！别让曹操跑了！"}},
            {cmd = "Dialog", args = {"刘备", "无论如何都要捉住他！"}},
            {cmd = "Dialog", args = {"诸葛亮", "想不到最后还是让曹操逃走，我的计划也因此功亏一篑！"}},
            {cmd = "Dialog", args = {"诸葛亮", "太遗憾了………"}},
            {cmd = "Dialog", args = {"张飞", "啊啊……"}},
            {cmd = "Dialog", args = {"张飞", "又让他给跑了……"}},
            {cmd = "Dialog", args = {"黄忠", "唔唔，还是没能给他致命一击。"}},
            {cmd = "Dialog", args = {"赵云", "啊！又逃了是吗？"}},
            {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var100", true}},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var637", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "马超", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"马超", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "马超"}},
            {cmd = "Dialog", args = {"马超", "我今日要报杀父之仇！"}},
            {cmd = "Dialog", args = {"曹操", "我不会这么轻易就死的。"}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "魏延", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"魏延", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "魏延"}},
            {cmd = "Dialog", args = {"魏延", "曹操，只要杀了你，战事就结束了。"}},
            {cmd = "Dialog", args = {"魏延", "我要让你一命归阴！"}},
            {cmd = "Dialog", args = {"曹操", "哼！"}},
            {cmd = "Dialog", args = {"曹操", "我才不会输给你这个胸无大志的人。"}},
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "吴兰", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"吴兰", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "吴兰"}},
            {cmd = "Dialog", args = {"吴兰", "事到如今，还是乖乖地交出脑袋吧！"}},
            {cmd = "Dialog", args = {"曹操", "你还没赢呢。"}},
            {cmd = "Dialog", args = {"曹操", "有本事就自己来拿。"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "曹彰", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var43"}}}},
        {
            {cmd = "FaceToFace", args = {"曹彰", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "曹彰"}},
            {cmd = "Dialog", args = {"曹彰", "幸亏父亲平安无事。"}},
            {cmd = "Dialog", args = {"曹彰", "只要有我曹彰在此，刘备有多少兵马也不放在我眼里！"}},
            {cmd = "Dialog", args = {"曹操", "你还是老样子没变啊，曹彰。"}},
            {cmd = "Dialog", args = {"曹操", "事态严重，万万不可大意。"}},
            {cmd = "Dialog", args = {"曹操", "我们一定要想办法渡过难关！"}},
            {cmd = "Dialog", args = {"曹彰", "是！"}},
            {cmd = "VarSet", args = {"Var43", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"吴兰", "曹彰", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var44"}}}},
        {
            {cmd = "FaceToFace", args = {"曹彰", "吴兰"}},
            {cmd = "FaceToFace", args = {"吴兰", "曹彰"}},
            {cmd = "Dialog", args = {"吴兰", "马前来将报上名来！"}},
            {cmd = "Dialog", args = {"曹彰", "曹彰，字子文，我乃曹操次子。"}},
            {
                {cmd = "PkPrepare", args = {"曹彰", "吴兰"}},
                {cmd = "PkGeneralShow", args = {false, "对付你这个家伙，\n还用不着父亲动手。\n我来对付你就绰绰有余了！", "攻击预备"}},
                {cmd = "PkGeneralShow", args = {true, "喔！好狂的口气！\n既然是曹操之子，\n我就会你一会！", "攻击"}},
                {cmd = "PkShowStart"},
                {cmd = "PkGeneralAction", args = {true, "防御"}},
                {cmd = "PkShowDialog", args = {true, "看招！", true}},
                {cmd = "PkShowDialog", args = {false, "动作太慢了！", false}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAttack", args = {false, "移动攻击", true}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkShowDialog", args = {true, "什么……哇啊！", true}},
                {cmd = "PkGeneralAction", args = {true, "晕倒"}},
                {cmd = "PkGeneralDie", args = {true}},
                {cmd = "PkGeneralAction", args = {false, "二次攻击"}},
                {cmd = "PkGeneralAction", args = {false, "防御"}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkShowDialog", args = {false, "敌将吴兰已经被我曹彰杀死了！", true}},
                {cmd = "PkOver"},
            },
            {cmd = "GeneralRetreat", args = {"吴兰", true}},
            {cmd = "AddItem", args = {"铜盔", 0}},
            {cmd = "VarSet", args = {"Var44", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"诸葛亮", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "Dialog", args = {"诸葛亮", "想不到还没看到结局，竟然就得被迫回去……"}},
            {cmd = "GeneralRetreat", args = {"诸葛亮", false}},
            {cmd = "VarSet", args = {"Var50", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"刘备", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"刘备", "唔唔，我还不能死。"}},
            {cmd = "Dialog", args = {"刘备", "撤退吧！"}},
            {cmd = "Dialog", args = {"刘备", "（曹操啊曹操………\n将来我们恐怕很少再有这样的机会，以武将的身分相逢在前线了。）"}},
            {cmd = "Dialog", args = {"刘备", "（对于治国的人而言，也是无可奈何的。\n以后也许不会在战场上相见了……\n再见吧！）"}},
            {cmd = "GeneralRetreat", args = {"刘备", false}},
            {cmd = "AddItem", args = {"雌雄双剑", 0}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张飞", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"张飞", "可恶啊！"}},
            {cmd = "Dialog", args = {"张飞", "这说不定是杀曹操的最后机会了呀！"}},
            {cmd = "Dialog", args = {"张飞", "俺真不甘心呐………撤退！"}},
            {cmd = "GeneralRetreat", args = {"张飞", false}},
            {cmd = "AddItem", args = {"蛇矛", 0}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"赵云", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"赵云", "太、太大意了……撤退！"}},
            {cmd = "GeneralRetreat", args = {"赵云", false}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"黄忠", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
        {
            {cmd = "Dialog", args = {"黄忠", "难道我已经老了……？"}},
            {cmd = "Dialog", args = {"黄忠", "看来我也该告老还乡了。"}},
            {cmd = "Dialog", args = {"黄忠", "撤退吧。"}},
            {cmd = "GeneralRetreat", args = {"黄忠", false}},
            {cmd = "VarSet", args = {"Var54", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"刘封", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
        {
            {cmd = "Dialog", args = {"刘封", "好、好痛啊……唔唔。"}},
            {cmd = "Dialog", args = {"刘封", "唔唔，我再也不上战场了。"}},
            {cmd = "Dialog", args = {"刘封", "撤退。"}},
            {cmd = "GeneralRetreat", args = {"刘封", false}},
            {cmd = "VarSet", args = {"Var55", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"马超", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
        {
            {cmd = "Dialog", args = {"马超", "怎么会这样……"}},
            {cmd = "Dialog", args = {"马超", "没办法了，撤退！"}},
            {cmd = "GeneralRetreat", args = {"马超", false}},
            {cmd = "VarSet", args = {"Var56", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"吴兰", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
        {
            {cmd = "Dialog", args = {"吴兰", "我、我输了……"}},
            {cmd = "Dialog", args = {"吴兰", "差一点就可以杀了他的……"}},
            {cmd = "Dialog", args = {"吴兰", "唔呃………"}},
            {cmd = "GeneralRetreat", args = {"吴兰", true}},
            {cmd = "AddItem", args = {"铜盔", 0}},
            {cmd = "VarSet", args = {"Var57", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"孟达", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
        {
            {cmd = "Dialog", args = {"孟达", "都怪上头那些个蠢货，害我们属下老是吃亏。"}},
            {cmd = "Dialog", args = {"孟达", "我再也不想当什么武将啦！"}},
            {cmd = "GeneralRetreat", args = {"孟达", false}},
            {cmd = "VarSet", args = {"Var58", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"魏延", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var59"}}}},
        {
            {cmd = "Dialog", args = {"魏延", "唔唔，运气太差了！"}},
            {cmd = "Dialog", args = {"魏延", "下次绝不再让你们轻易得手。"}},
            {cmd = "Dialog", args = {"魏延", "撤退！"}},
            {cmd = "GeneralRetreat", args = {"魏延", false}},
            {cmd = "VarSet", args = {"Var59", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"曹彰", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var60"}}}},
        {
            {cmd = "Dialog", args = {"曹彰", "糟了！快退！"}},
            {cmd = "Dialog", args = {"曹彰", "前来助阵居然搞得落荒而逃！"}},
            {cmd = "Dialog", args = {"曹彰", "太遗憾了……"}},
            {cmd = "GeneralRetreat", args = {"曹彰", false}},
            {cmd = "VarSet", args = {"Var60", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "总算渡过这场难关了。"}},
            {cmd = "Dialog", args = {"曹操", "真是一场艰苦的战斗啊！"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var2"}}}},
                {cmd = "BattleExtraItems", args = {0, "的卢", 0, "", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var637", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操被刘备的军队打败。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
