local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "濡须口之战1",
    maxRounds    = 25,
    mapId        = "34.tmx",
    weatherStart = {"晴", "晴", "阴", "晴", "阴"},
    weatherType  = {"普通"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    enemyGeneralList = {
        {uid = "孙权", aiType = "坚守原地", isKeyGeneral = true, levelAdd = 4},
        {uid = "周泰", aiType = "被动出击", levelAdd = 4},
        {uid = "蒋钦", aiType = "被动出击", levelAdd = 2},
        {uid = "潘璋", aiType = "被动出击", levelAdd = 2},
        {uid = "海盗1", aiType = "被动出击"},
        {uid = "海盗2", aiType = "被动出击"},
        {uid = "炮兵1", aiType = "被动出击"},
        {uid = "炮兵2", aiType = "被动出击"},
        {uid = "陈武", aiType = "坚守原地", levelAdd = 2},
        {uid = "徐盛", aiType = "坚守原地", levelAdd = 2},
        {uid = "吕蒙", aiType = "坚守原地", levelAdd = 4},
        {uid = "董袭", aiType = "坚守原地", levelAdd = 2},
        {uid = "海盗3", aiType = "坚守原地"},
        {uid = "海盗4", aiType = "坚守原地"},
        {uid = "海盗5", aiType = "坚守原地"},
        {uid = "海盗6", aiType = "坚守原地"},
        {uid = "凌统", aiType = "主动出击", levelAdd = 4},
        {uid = "海盗7", aiType = "主动出击"},
        {uid = "海盗8", aiType = "主动出击"},
        {uid = "海盗9", aiType = "主动出击"},
        {uid = "海盗10", aiType = "主动出击"},
        {uid = "弓兵1", aiType = "主动出击"},
        {uid = "弓兵2", aiType = "主动出击"},
        {uid = "弓兵3", aiType = "主动出击"},
        {uid = "甘宁", aiType = "到指定点", aiArgs = {fixCol = 13, fixRow = 9}, isHide = true, levelAdd = 4},
        {uid = "武术家1", aiType = "到指定点", aiArgs = {fixCol = 13, fixRow = 9}, isHide = true},
        {uid = "武术家2", aiType = "到指定点", aiArgs = {fixCol = 13, fixRow = 9}, isHide = true},
        {uid = "贼兵1", aiType = "到指定点", aiArgs = {fixCol = 13, fixRow = 9}, isHide = true},
        {uid = "张昭", aiType = "坚守原地", levelAdd = 4},
        {uid = "骑兵1", aiType = "主动出击", isHide = true},
        {uid = "骑兵2", aiType = "主动出击", isHide = true},
        {uid = "骑兵3", aiType = "主动出击", isHide = true},
        {uid = "骑兵4", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵1", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵2", aiType = "主动出击", isHide = true},
        {uid = "弓骑兵3", aiType = "主动出击", isHide = true},
        {uid = "陆逊", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "海盗11", aiType = "主动出击", isHide = true},
        {uid = "海盗12", aiType = "主动出击", isHide = true},
        {uid = "海盗13", aiType = "主动出击", isHide = true},
        {uid = "海盗14", aiType = "主动出击", isHide = true},
        {uid = "海盗15", aiType = "主动出击", isHide = true},
        {uid = "海盗16", aiType = "主动出击", isHide = true},
        {uid = "海盗17", aiType = "主动出击", isHide = true},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"凌统", "默认装备", 0, "默认装备", 0, "白银盾"}},
        {cmd = "GeneralEquipsSet", args = {"潘璋", "默认装备", 0, "默认装备", 0, "铁盔"}},
        {cmd = "GeneralEquipsSet", args = {"徐盛", "默认装备", 0, "连环铠", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"甘宁", "默认装备", 0, "飞龙道袍", 0, "默认装备"}},
        {
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var706"}}}},
                {cmd = "GeneralEquipsSet", args = {"陈武", "吕布之弓", 0, "默认装备", 0, "默认装备"}},
            },
            {
                {cmd = "Else"},
                {cmd = "GeneralEquipsSet", args = {"陈武", "李广之弓", 0, "默认装备", 0, "默认装备"}},
            },
        },
    },
    {cmd = "PlayMusic", args = {"Track4"}},
    {
        {cmd = "Dialog", args = {"孙权", "不知战况如何……"}},
        {cmd = "Dialog", args = {"孙权", "曹军目前有何动向？"}},
        {cmd = "FaceToFace", args = {"蒋钦", "孙权"}},
        {cmd = "Dialog", args = {"蒋钦", "张辽和凌统在河中对峙，可能马上就要开始交战了。"}},
        {cmd = "FaceToFace", args = {"周泰", "孙权"}},
        {cmd = "Dialog", args = {"周泰", "没想到曹操这个老贼，这次带来了这么多人马，我有一种不祥的预感。"}},
        {cmd = "FaceToFace", args = {"潘璋", "孙权"}},
        {cmd = "Dialog", args = {"潘璋", "甘宁与陆逊将军的分遣部队就快来了，到时候曹操的大军也不堪一击了。"}},
        {cmd = "FaceToFace", args = {"张昭", "孙权"}},
        {cmd = "Dialog", args = {"张昭", "主公，事到如今我还是反对开战。"}},
        {cmd = "Dialog", args = {"张昭", "当前不该远征作战，应该固守城池，积蓄力量才是。"}},
        {cmd = "Dialog", args = {"张昭", "您现在回心转意还不迟。"}},
        {cmd = "Dialog", args = {"张昭", "返回濡须口加强防守，和曹操停战谈和吧。"}},
        {cmd = "FaceToFace", args = {"孙权", "张昭"}},
        {cmd = "Dialog", args = {"孙权", "再过不久战事即将展开，这是无法改变的事实。"}},
        {cmd = "Dialog", args = {"孙权", "你就别再对我说这些了，张昭。"}},
        {cmd = "Dialog", args = {"张昭", "等这场战役结束之后，您再仔细考虑属下的话吧。"}},
        {cmd = "Dialog", args = {"张昭", "战事结束之前，我会一直保护您的。"}},
        {cmd = "Dialog", args = {"孙权", "哈哈哈。那我可得靠你了，张昭。"}},
        {cmd = "FaceToFace", args = {"孙权", "曹操"}},
        {cmd = "GeneralAction", args = {"孙权", "prepareAttack"}},
        {cmd = "Dialog", args = {"孙权", "好！今天一定要打败曹操！"}},
        {cmd = "Dialog", args = {"孙权", "让他们领教我东吴水军的厉害！"}},
        {cmd = "GeneralAction", args = {"孙权", "stand"}},
        {cmd = "FaceToFace", args = {"曹操", "司马懿"}},
        {cmd = "Dialog", args = {"曹操", "敌人的先锋是凌统吧。"}},
        {cmd = "Dialog", args = {"曹操", "我军如何布阵？"}},
        {cmd = "FaceToFace", args = {"司马懿", "曹操"}},
        {cmd = "Dialog", args = {"司马懿", "只担心庞德的分遣部队，可能来不及赶到战场，此外一切都已就绪。"}},
        {cmd = "Dialog", args = {"曹操", "是吗？传令张辽不要主动攻击，晚一点再开战，这么一来，就只需专心对付孙权了。"}},
        {cmd = "Dialog", args = {"司马懿", "临阵轻敌乃兵家之大忌啊！"}},
        {cmd = "Dialog", args = {"司马懿", "如果营寨被占，粮草被夺，那我们就只有撤退一途了。"}},
        {cmd = "HighlightRange", args = {13, 9, 13, 9, true}},
        {cmd = "Dialog", args = {"曹操", "这个我知道。"}},
        {cmd = "Dialog", args = {"曹操", "别让敌人靠近营寨就行了嘛！"}},
        {cmd = "Dialog", args = {"司马懿", "主公英明。"}},
        {cmd = "Dialog", args = {"司马懿", "是属下多虑了。"}},
        {cmd = "Dialog", args = {"陈武", "这次战役我本想做先锋，真羡慕凌统将军啊。"}},
        {cmd = "Dialog", args = {"董袭", "我也是。"}},
        {cmd = "Dialog", args = {"董袭", "可恶，我要是会游泳就好了。"}},
        {cmd = "FaceToFace", args = {"陈武", "董袭"}},
        {cmd = "Dialog", args = {"陈武", "你是东吴的将领，竟然不会游泳。"}},
        {cmd = "GeneralAction", args = {"董袭", "prepareAttack"}},
        {cmd = "Dialog", args = {"董袭", "又不是在水底下砍人！"}},
        {cmd = "Dialog", args = {"董袭", "不过话说回来，我还是很后悔。"}},
        {cmd = "Dialog", args = {"董袭", "喂，凌统！你快一点开战行不行！"}},
        {cmd = "GeneralAction", args = {"董袭", "stand"}},
        {cmd = "FaceToFace", args = {"吕蒙", "董袭"}},
        {cmd = "Dialog", args = {"吕蒙", "哈哈哈。"}},
        {cmd = "Dialog", args = {"吕蒙", "俗语说得好∶「善泳者溺」。"}},
        {cmd = "Dialog", args = {"吕蒙", "不会游的人反而懂得谨慎。"}},
        {cmd = "GeneralAction", args = {"徐盛", "prepareAttack"}},
        {cmd = "Dialog", args = {"徐盛", "这么对峙下去，实在快让人闷死了。"}},
        {cmd = "Dialog", args = {"徐盛", "凌统将军，咱们还不进攻吗？"}},
        {cmd = "GeneralAction", args = {"徐盛", "stand"}},
        {cmd = "GeneralAction", args = {"凌统", "prepareAttack"}},
        {cmd = "Dialog", args = {"凌统", "我受不了你们再罗嗦下去了。"}},
        {cmd = "Dialog", args = {"凌统", "好吧，全军前进！"}},
        {cmd = "Dialog", args = {"凌统", "打垮曹军！"}},
        {cmd = "GeneralAction", args = {"凌统", "stand"}},
        {cmd = "GeneralAction", args = {"张辽", "defense"}},
        {cmd = "Dialog", args = {"张辽", "嗯，攻过来了？"}},
        {cmd = "GeneralAction", args = {"李典", "prepareAttack"}},
        {cmd = "Dialog", args = {"李典", "既然开战了……没办法。"}},
        {cmd = "Dialog", args = {"李典", "应战！"}},
        {cmd = "GeneralAction", args = {"李典", "stand"}},
        {cmd = "GeneralAction", args = {"乐进", "prepareAttack"}},
        {cmd = "Dialog", args = {"乐进", "好啊，开始反击！"}},
        {cmd = "GeneralAction", args = {"乐进", "stand"}},
    },
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、击退孙权。\n\n失败条件\n一、曹操死亡。\n二、敌军进入营寨。\n三、回合数超过25。"}},
    {cmd = "ShowBattleWinCondition", args = {"击退孙权！"}},
    {cmd = "HighlightGeneral", args = {"孙权"}},
    {cmd = "VarSet", args = {"Var534", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "RoundsTest", args = {3, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var11"}}}},
        {
            {cmd = "GeneralShow", args = {"庞德"}},
            {cmd = "RoleMove", args = {"庞德", "right", 4, 20}},
            {cmd = "PlayerGeneralShow", args = {6}},
            {cmd = "PlayerGeneralMove", args = {6, 4, 21, "right"}},
            {cmd = "PlayerGeneralShow", args = {7}},
            {cmd = "PlayerGeneralMove", args = {7, 3, 20, "right"}},
            {cmd = "PlayerGeneralShow", args = {8}},
            {cmd = "PlayerGeneralMove", args = {8, 3, 21, "right"}},
            {cmd = "FaceToFace", args = {"庞德", "曹操"}},
            {cmd = "Dialog", args = {"庞德", "主公，原谅庞德来迟了。"}},
            {cmd = "Dialog", args = {"庞德", "庞德已经抵达战场了！"}},
            {cmd = "FaceToFace", args = {"曹操", "庞德"}},
            {cmd = "Dialog", args = {"曹操", "噢、庞德！"}},
            {cmd = "Dialog", args = {"曹操", "你来得正是时候！"}},
            {cmd = "Dialog", args = {"曹操", "从侧面进攻敌军！"}},
            {cmd = "Dialog", args = {"庞德", "得令！"}},
            {cmd = "VarSet", args = {"Var11", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"enemy"}, 13, 9}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "FaceToFace", args = {"孙权", "曹操"}},
            {cmd = "GeneralAction", args = {"孙权", "prepareAttack"}},
            {cmd = "Dialog", args = {"孙权", "噢！攻陷曹操主营了吗！"}},
            {cmd = "Dialog", args = {"孙权", "干得好！干得好！"}},
            {cmd = "Dialog", args = {"孙权", "曹操老贼，教你知道知道我的厉害！"}},
            {cmd = "GeneralAction", args = {"孙权", "stand"}},
            {cmd = "GeneralAction", args = {"曹操", "weak"}},
            {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
            {cmd = "Dialog", args = {"曹操", "糟、糟了……"}},
            {cmd = "Dialog", args = {"曹操", "没办法，只好退了。"}},
            {cmd = "Dialog", args = {"曹操", "全军撤退……撤退！"}},
            {cmd = "GeneralAction", args = {"曹操", "stand"}},
            {cmd = "GeneralsDisappear", args = {{"player"}, 1, 1, 24, 40}},
            {cmd = "VarSet", args = {"Var20", true}},
            {cmd = "Tip", args = {"曹操在孙权军前大败而归。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 11, 34}},
        {cmd = "VarTest", args = {{falseConditions = {"Var21"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var21", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 12, 34}},
        {cmd = "VarTest", args = {{falseConditions = {"Var22"}}}},
        {
            {cmd = "AddItem", args = {"神秘酒", 0}},
            {cmd = "VarSet", args = {"Var22", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 11, 33}},
        {cmd = "VarTest", args = {{falseConditions = {"Var23"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var23", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 12, 33}},
        {cmd = "VarTest", args = {{falseConditions = {"Var24"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var24", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 20, "<", "整个战场", 1, 1, 1, 1}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var6"}}}},
        {
            {cmd = "GeneralAction", args = {"孙权", "prepareAttack"}},
            {cmd = "Dialog", args = {"孙权", "嗯嗯嗯…前线部队竟然败的落花流水！"}},
            {cmd = "Dialog", args = {"孙权", "再派部队攻击那些可恨的家伙！"}},
            {cmd = "GeneralAction", args = {"孙权", "stand"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
                {cmd = "GeneralAction", args = {"吕蒙", "prepareAttack"}},
                {cmd = "Dialog", args = {"吕蒙", "是！"}},
                {cmd = "Dialog", args = {"吕蒙", "传令，全军出战！"}},
                {cmd = "GeneralAction", args = {"吕蒙", "stand"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
                {cmd = "Dialog", args = {"陈武", "快！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                {cmd = "Dialog", args = {"徐盛", "是！主公。"}},
                {cmd = "Dialog", args = {"徐盛", "徐盛出战了。"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var59"}}}},
                {cmd = "Dialog", args = {"董袭", "顾不了会不会游泳了。"}},
                {cmd = "Dialog", args = {"董袭", "董袭出战！"}},
            },
            {cmd = "GeneralAiChange", args = {"陈武", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"徐盛", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"吕蒙", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"董袭", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗6", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var6", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 14, "<", "整个战场", 1, 1, 1, 1}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{trueConditions = {"Var6"}, falseConditions = {"Var7"}}}},
        {
            {cmd = "GeneralShow", args = {"甘宁"}},
            {cmd = "GeneralShow", args = {"武术家1"}},
            {cmd = "GeneralShow", args = {"武术家2"}},
            {cmd = "GeneralShow", args = {"贼兵1"}},
            {cmd = "Dialog", args = {"甘宁", "哼、俗话说「欲速则不达」，不过老子特别有耐性。"}},
            {cmd = "Dialog", args = {"甘宁", "来吧！全军进攻！"}},
            {cmd = "FaceToFace", args = {"曹操", "甘宁"}},
            {cmd = "Dialog", args = {"曹操", "唔唔、糟了，是敌人的分遣部队！"}},
            {cmd = "Dialog", args = {"曹操", "加强防守，守住主营！"}},
            {cmd = "VarSet", args = {"Var7", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"player"}, 1, ">=", "指定区域", 1, 27, 24, 40}},
        {cmd = "GeneralCountsTest", args = {{"player"}, 0, "=", "指定区域", 8, 36, 15, 40}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{trueConditions = {"Var7"}, falseConditions = {"Var8", "Var61"}}}},
        {
            {cmd = "FaceToFace", args = {"张昭", "孙权"}},
            {cmd = "Dialog", args = {"张昭", "主公，敌人终于上岸了。"}},
            {cmd = "Dialog", args = {"张昭", "我们必须加强此地的防守！"}},
            {cmd = "FaceToFace", args = {"孙权", "张昭"}},
            {cmd = "Dialog", args = {"孙权", "嗯、张昭！"}},
            {cmd = "Dialog", args = {"孙权", "赶快返回濡须口，派遣军队前来增援。"}},
            {cmd = "Dialog", args = {"张昭", "调出濡须口守军虽然不妥，不过事到如今也无可奈何了。"}},
            {cmd = "Dialog", args = {"张昭", "属下明白。"}},
            {cmd = "Dialog", args = {"张昭", "我这就去调遣援军！"}},
            {cmd = "RoleMove", args = {"张昭", "down", 12, 40}},
            {cmd = "RoleDisappear", args = {"张昭"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                {cmd = "Dialog", args = {"周泰", "保护主公！加强防守！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var60"}}}},
                {cmd = "Dialog", args = {"潘璋", "曹操老贼，你休想从这通过！"}},
                {cmd = "Dialog", args = {"潘璋", "主公，我潘璋会誓死保卫您的。"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "Dialog", args = {"蒋钦", "嘿！战斗才刚刚开始呢！"}},
            },
            {cmd = "VarSet", args = {"Var8", true}},
            {
                {cmd = "GeneralCountsTest", args = {{"player"}, 5, ">=", "指定区域", 1, 29, 24, 40}},
                {cmd = "VarSet", args = {"Var9", true}},
            },
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"player"}, 5, ">=", "指定区域", 1, 29, 24, 40}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{trueConditions = {"Var8"}, falseConditions = {"Var9"}}}},
        {
            {cmd = "GeneralReborn", args = {"张昭", 4, 39, "right"}},
            {cmd = "GeneralAiChange", args = {"张昭", "主动出击", "无", 1, 1}},
            {cmd = "GeneralShow", args = {"骑兵1"}},
            {cmd = "GeneralShow", args = {"骑兵2"}},
            {cmd = "GeneralShow", args = {"骑兵3"}},
            {cmd = "GeneralShow", args = {"骑兵4"}},
            {cmd = "GeneralShow", args = {"弓骑兵1"}},
            {cmd = "GeneralShow", args = {"弓骑兵2"}},
            {cmd = "GeneralShow", args = {"弓骑兵3"}},
            {cmd = "FaceToFace", args = {"张昭", "孙权"}},
            {cmd = "Dialog", args = {"张昭", "主公，您没事吧！？"}},
            {cmd = "Dialog", args = {"张昭", "我张昭回来了！"}},
            {cmd = "FaceToFace", args = {"孙权", "张昭"}},
            {cmd = "Dialog", args = {"孙权", "噢、张昭，你让我等得好苦啊！"}},
            {cmd = "FaceToFace", args = {"曹操", "张昭"}},
            {cmd = "Dialog", args = {"曹操", "什么，援军到了！？"}},
            {cmd = "Dialog", args = {"曹操", "如今士兵如此疲惫，我是否该就此退兵？"}},
            {cmd = "ChoiceDialog", args = {"曹操", {"全军撤退", "继续作战"}}},
            {
                {cmd = "AllGeneralsRecover"},
                {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
                {cmd = "Dialog", args = {"曹操", "没办法，今天就到此为止吧。"}},
                {cmd = "Dialog", args = {"曹操", "全军撤退！撤退！"}},
                {cmd = "GeneralAction", args = {"曹操", "stand"}},
                {cmd = "GeneralsDisappear", args = {{"player"}, 1, 1, 24, 40}},
                {cmd = "Dialog", args = {"孙权", "噢、敌军撤退了！"}},
                {cmd = "Dialog", args = {"孙权", "这下总算渡过了难关……"}},
                {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
                {cmd = "BattleOver"},
                {cmd = "VarSet", args = {"Var100", true}},
                {cmd = "VarSet", args = {"Var0", true}},
                {cmd = "VarSet", args = {"Var634", true}},
                {cmd = "VarSet", args = {"Var734", true}},
            },
            {
                {cmd = "Dialog", args = {"曹操", "不过是区区这么点援军，我军还足以应付！"}},
            },
            {cmd = "VarSet", args = {"Var9", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 11, "<", "整个战场", 1, 1, 1, 1}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{trueConditions = {"Var9"}, falseConditions = {"Var10"}}}},
        {
            {cmd = "GeneralShow", args = {"陆逊"}},
            {cmd = "GeneralShow", args = {"海盗11"}},
            {cmd = "GeneralShow", args = {"海盗12"}},
            {cmd = "GeneralShow", args = {"海盗13"}},
            {cmd = "GeneralShow", args = {"海盗14"}},
            {cmd = "GeneralShow", args = {"海盗15"}},
            {cmd = "GeneralShow", args = {"海盗16"}},
            {cmd = "GeneralShow", args = {"海盗17"}},
            {cmd = "FaceToFace", args = {"陆逊", "孙权"}},
            {cmd = "Dialog", args = {"陆逊", "主公，不要灰心。"}},
            {cmd = "Dialog", args = {"陆逊", "只要我们拼死应战，一定会胜利的。"}},
            {cmd = "Dialog", args = {"陆逊", "请您坚持下去吧！"}},
            {cmd = "FaceToFace", args = {"孙权", "陆逊"}},
            {cmd = "Dialog", args = {"孙权", "啊、原来是陆逊，你来得正是时候啊。"}},
            {cmd = "FaceToFace", args = {"曹操", "陆逊"}},
            {cmd = "Dialog", args = {"曹操", "什么、是陆逊！？"}},
            {cmd = "Dialog", args = {"曹操", "唔唔，孙权军比想像中更具有战斗力。"}},
            {cmd = "Dialog", args = {"曹操", "这样就很难分出高低了，是否该撤退了？"}},
            {cmd = "ChoiceDialog", args = {"曹操", {"全军撤退", "继续战斗"}}},
            {
                {cmd = "AllGeneralsRecover"},
                {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
                {cmd = "Dialog", args = {"曹操", "没办法，今天到此为止吧。"}},
                {cmd = "Dialog", args = {"曹操", "全军撤退！撤退！"}},
                {cmd = "GeneralAction", args = {"曹操", "stand"}},
                {cmd = "GeneralsDisappear", args = {{"player"}, 1, 1, 24, 40}},
                {cmd = "Dialog", args = {"孙权", "噢、敌军撤退了！"}},
                {cmd = "Dialog", args = {"孙权", "这下总算渡过了难关……"}},
                {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
                {cmd = "BattleOver"},
                {cmd = "VarSet", args = {"Var100", true}},
                {cmd = "VarSet", args = {"Var0", true}},
                {cmd = "VarSet", args = {"Var634", true}},
                {cmd = "VarSet", args = {"Var734", true}},
            },
            {
                {cmd = "Dialog", args = {"曹操", "现在岂有撤退之理！"}},
                {cmd = "Dialog", args = {"曹操", "无论如何也要攻陷此地！"}},
            },
            {cmd = "VarSet", args = {"Var10", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"庞德", "陈武", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"陈武", "庞德"}},
            {cmd = "FaceToFace", args = {"庞德", "陈武"}},
            {cmd = "Dialog", args = {"陈武", "看你好像还是个名将，敢跟我一决胜负吗？"}},
            {cmd = "Dialog", args = {"庞德", "好！"}},
            {cmd = "Dialog", args = {"庞德", "我就奉陪到底！"}},
            {
                {cmd = "PkPrepare", args = {"庞德", "陈武"}},
                {cmd = "PkGeneralShow", args = {false, "我乃庞德、字令明。\n领教了！", "防御"}},
                {cmd = "PkGeneralShow", args = {true, "喔、你就是庞德？\n有你这样的对手，\n吾心足矣！", "无"}},
                {cmd = "PkShowStart"},
                {cmd = "PkGeneralAction", args = {true, "攻击预备"}},
                {cmd = "PkShowDialog", args = {true, "一击必杀！\n看我的强弓！", true}},
                {cmd = "PkGeneralAttack2", args = {true, "格档后退", false}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkGeneralAction", args = {true, "无"}},
                {cmd = "PkShowDialog", args = {true, "没、没射中！？", true}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkGeneralAction", args = {false, "二次攻击"}},
                {cmd = "PkGeneralAction", args = {false, "无"}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkShowDialog", args = {false, "看招！", true}},
                {cmd = "PkGeneralAction", args = {false, "小步前移"}},
                {cmd = "PkGeneralAttack2", args = {true, "格挡", true}},
                {cmd = "PkShowDialog", args = {true, "唔唔！", true}},
                {cmd = "PkGeneralAction", args = {false, "小步前移"}},
                {cmd = "PkGeneralAttack2", args = {true, "格挡", true}},
                {cmd = "PkShowDialog", args = {true, "别过来！", true}},
                {cmd = "PkGeneralAction", args = {false, "小步前移"}},
                {cmd = "PkShowDialog", args = {true, "别过来！", true}},
                {cmd = "PkGeneralAction", args = {true, "后转"}},
                {cmd = "PkGeneralAction", args = {true, "前移"}},
                {cmd = "PkGeneralAttack", args = {false, "移动攻击", true}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkGeneralAction", args = {true, "晕倒"}},
                {cmd = "PkShowDialog", args = {true, "糟、糟啦！\n哇啊啊啊！", true}},
                {cmd = "PkGeneralDie", args = {true}},
                {cmd = "PkGeneralAction", args = {false, "二次攻击"}},
                {cmd = "PkGeneralAction", args = {false, "防御"}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkShowDialog", args = {false, "敌将陈武，已经被我杀了！", true}},
                {cmd = "PkOver"},
            },
            {cmd = "GeneralRetreat", args = {"陈武", true}},
            {cmd = "VarSet", args = {"Var55", true}},
            {
                {
                    {cmd = "VarTest", args = {{trueConditions = {"Var706"}}}},
                    {cmd = "AddItem", args = {"吕布之弓", 0}},
                },
                {
                    {cmd = "Else"},
                    {cmd = "AddItem", args = {"李广之弓", 0}},
                },
            },
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "孙权", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var43"}}}},
        {
            {cmd = "FaceToFace", args = {"曹操", "孙权"}},
            {cmd = "FaceToFace", args = {"孙权", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "今天一定要跟你有个了断！"}},
            {cmd = "Dialog", args = {"孙权", "那正是我想说的话。"}},
            {cmd = "VarSet", args = {"Var43", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"孙权", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"孙权", "糟、糟了！"}},
            {cmd = "Dialog", args = {"孙权", "可恶、撤退。"}},
            {cmd = "Dialog", args = {"孙权", "撤退！"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"陆逊", "孙权"}},
                {cmd = "GeneralAction", args = {"陆逊", "weak"}},
                {cmd = "Dialog", args = {"陆逊", "主公！想不到我陆逊居然……"}},
                {cmd = "Dialog", args = {"陆逊", "唔唔、看来我的实力还不够。"}},
                {cmd = "Dialog", args = {"陆逊", "回东吴后再加紧训练吧！"}},
                {cmd = "VarSet", args = {"Var51", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var61"}}}},
                {cmd = "FaceToFace", args = {"张昭", "孙权"}},
                {cmd = "Dialog", args = {"张昭", "嗯嗯嗯………"}},
                {cmd = "Dialog", args = {"张昭", "现在与曹操交战果然为时尚早。"}},
                {cmd = "Dialog", args = {"张昭", "回去后一定要规劝主公加强我国防御。"}},
                {cmd = "VarSet", args = {"Var61", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
                {cmd = "FaceToFace", args = {"周泰", "孙权"}},
                {cmd = "Dialog", args = {"周泰", "啐、主公既然被打败了，我还有什么再战的理由？"}},
                {cmd = "Dialog", args = {"周泰", "撤退！"}},
                {cmd = "VarSet", args = {"Var53", true}},
            },
            {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 1, 24, 40}},
            {cmd = "VarSet", args = {"Var50", true}},
            {cmd = "Dialog", args = {"曹操", "很好、总算击退了敌军！"}},
            {cmd = "Dialog", args = {"曹操", "我军胜利了！"}},
            {cmd = "BattleExtraItems", args = {0, "印绶", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var101", true}},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var634", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"陆逊", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"陆逊", "唔唔……我陆伯言学艺不精！"}},
            {cmd = "Dialog", args = {"陆逊", "此后还要不断努力才行……。"}},
            {cmd = "Dialog", args = {"陆逊", "撤退！"}},
            {cmd = "GeneralRetreat", args = {"陆逊", false}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"徐盛", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"徐盛", "竟然让主公见到我撤退的窘态，太没面子了……"}},
            {cmd = "GeneralRetreat", args = {"徐盛", false}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"周泰", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"周泰", "保命要紧。"}},
            {cmd = "Dialog", args = {"周泰", "撤退、快撤退！"}},
            {cmd = "GeneralRetreat", args = {"周泰", false}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"蒋钦", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
        {
            {cmd = "Dialog", args = {"蒋钦", "撤退、撤退。"}},
            {cmd = "Dialog", args = {"蒋钦", "哼、我可不想死在这里！"}},
            {cmd = "GeneralRetreat", args = {"蒋钦", false}},
            {cmd = "VarSet", args = {"Var54", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"陈武", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
        {
            {cmd = "Dialog", args = {"陈武", "哇啊……遗、遗憾……"}},
            {cmd = "GeneralRetreat", args = {"陈武", true}},
            {
                {
                    {cmd = "VarTest", args = {{trueConditions = {"Var706"}}}},
                    {cmd = "AddItem", args = {"吕布之弓", 0}},
                },
                {
                    {cmd = "Else"},
                    {cmd = "AddItem", args = {"李广之弓", 0}},
                },
            },
            {cmd = "VarSet", args = {"Var55", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"甘宁", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
        {
            {cmd = "Dialog", args = {"甘宁", "哇啊！这就是我的下场吗……"}},
            {cmd = "Dialog", args = {"甘宁", "我亦也无悔！"}},
            {cmd = "GeneralRetreat", args = {"甘宁", true}},
            {cmd = "AddItem", args = {"飞龙道袍", 0}},
            {cmd = "VarSet", args = {"Var56", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"吕蒙", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
        {
            {cmd = "Dialog", args = {"吕蒙", "该撤退了吗……？"}},
            {cmd = "Dialog", args = {"吕蒙", "看来近期内不得不据守吴国观望时局了。"}},
            {cmd = "Dialog", args = {"吕蒙", "定要「卧薪尝胆」，总有一天……"}},
            {cmd = "GeneralRetreat", args = {"吕蒙", false}},
            {cmd = "VarSet", args = {"Var57", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"凌统", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
        {
            {cmd = "Dialog", args = {"凌统", "我太失策了！"}},
            {cmd = "Dialog", args = {"凌统", "撤退吧。"}},
            {cmd = "GeneralRetreat", args = {"凌统", false}},
            {cmd = "VarSet", args = {"Var58", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"董袭", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var59"}}}},
        {
            {cmd = "Dialog", args = {"董袭", "唔呃！"}},
            {cmd = "Dialog", args = {"董袭", "可恨呐……我不甘心。"}},
            {cmd = "GeneralRetreat", args = {"董袭", true}},
            {cmd = "AddItem", args = {"连环铠", 0}},
            {cmd = "VarSet", args = {"Var59", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"潘璋", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var60"}}}},
        {
            {cmd = "Dialog", args = {"潘璋", "真、真是惭愧。"}},
            {cmd = "Dialog", args = {"潘璋", "只有撤退了！"}},
            {cmd = "GeneralRetreat", args = {"潘璋", false}},
            {cmd = "VarSet", args = {"Var60", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张昭", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var61"}}}},
        {
            {cmd = "Dialog", args = {"张昭", "糟了！"}},
            {cmd = "Dialog", args = {"张昭", "主公，属下先走一步了！"}},
            {cmd = "GeneralRetreat", args = {"张昭", false}},
            {cmd = "VarSet", args = {"Var61", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{trueConditions = {"Var100", "Var101"}, falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "很好，总算赶走了敌人！"}},
            {cmd = "Dialog", args = {"曹操", "我军胜利了！"}},
            {cmd = "BattleExtraItems", args = {0, "印绶", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var634", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操在孙权军前大败而归。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
