local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "麦城救援战",
    maxRounds    = 25,
    mapId        = "47.tmx",
    weatherStart = {"晴", "晴", "阴", "晴", "阴"},
    weatherType  = {"普通"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    friendGeneralList = {
        {uid = "张飞", aiType = "坚守原地", levelAdd = 4},
        {uid = "关平", aiType = "坚守原地", levelAdd = 4},
        {uid = "关兴", aiType = "坚守原地", levelAdd = 4},
        {uid = "关索", aiType = "坚守原地", levelAdd = 4},
        {uid = "周仓", aiType = "坚守原地", levelAdd = 4},
        {uid = "廖化", aiType = "坚守原地", levelAdd = 4},
        {uid = "王甫", aiType = "坚守原地", levelAdd = 2},
        {uid = "步兵1", aiType = "坚守原地"},
        {uid = "弓兵9", aiType = "坚守原地"},
        {uid = "风水士1", aiType = "坚守原地"},
        {uid = "关羽", aiType = "到指定点", aiArgs = {fixCol = 17, fixRow = 17}, isHide = true},
        {uid = "步兵2", aiType = "坚守原地"},
        {uid = "步兵3", aiType = "坚守原地"},
    },
    enemyGeneralList = {
        {uid = "孙权", aiType = "坚守原地", levelAdd = 4},
        {uid = "吕蒙", aiType = "坚守原地", levelAdd = 4},
        {uid = "海盗1", aiType = "坚守原地"},
        {uid = "海盗2", aiType = "坚守原地"},
        {uid = "海盗3", aiType = "坚守原地"},
        {uid = "海盗4", aiType = "坚守原地"},
        {uid = "弓兵1", aiType = "坚守原地"},
        {uid = "弓兵2", aiType = "坚守原地"},
        {uid = "诸葛瑾", aiType = "坚守原地", levelAdd = 4},
        {uid = "周泰", aiType = "坚守原地", levelAdd = 4},
        {uid = "海盗5", aiType = "坚守原地"},
        {uid = "海盗6", aiType = "坚守原地"},
        {uid = "海盗7", aiType = "坚守原地"},
        {uid = "海盗8", aiType = "坚守原地"},
        {uid = "弓兵3", aiType = "坚守原地"},
        {uid = "弓兵4", aiType = "坚守原地"},
        {uid = "潘璋", aiType = "坚守原地", levelAdd = 2},
        {uid = "蒋钦", aiType = "坚守原地", levelAdd = 2},
        {uid = "海盗9", aiType = "坚守原地"},
        {uid = "海盗10", aiType = "坚守原地"},
        {uid = "海盗11", aiType = "坚守原地"},
        {uid = "海盗12", aiType = "坚守原地"},
        {uid = "弓兵5", aiType = "坚守原地"},
        {uid = "弓兵6", aiType = "坚守原地"},
        {uid = "徐盛", aiType = "坚守原地", levelAdd = 2},
        {uid = "丁奉", aiType = "坚守原地", levelAdd = 2},
        {uid = "海盗13", aiType = "坚守原地"},
        {uid = "海盗14", aiType = "坚守原地"},
        {uid = "海盗15", aiType = "坚守原地"},
        {uid = "海盗16", aiType = "坚守原地"},
        {uid = "弓兵7", aiType = "坚守原地"},
        {uid = "弓兵8", aiType = "坚守原地"},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"关羽", "青龙偃月刀", 0, "默认装备", 0, "赤兔马"}},
        {cmd = "GeneralEquipsSet", args = {"张飞", "蛇矛", 0, "默认装备", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"诸葛瑾", "圣者宝剑", 0, "默认装备", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"潘璋", "默认装备", 0, "默认装备", 0, "铁盔"}},
        {cmd = "GeneralEquipsSet", args = {"徐盛", "默认装备", 0, "连环铠", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"王甫", "默认装备", 0, "默认装备", 0, "铁盔"}},
    },
    {cmd = "PlayMusic", args = {"Track8"}},
    {
        {
            {cmd = "FaceToFace", args = {"周仓", "廖化"}},
            {cmd = "Dialog", args = {"周仓", "我们已被重重包围了。"}},
            {cmd = "FaceToFace", args = {"廖化", "周仓"}},
            {cmd = "Dialog", args = {"廖化", "唉，无法挽回了吗？"}},
            {cmd = "FaceToFace", args = {"王甫", "廖化"}},
            {cmd = "Dialog", args = {"王甫", "但是我们不能白白牺牲，一定要让他们看到我们的决心！"}},
            {cmd = "FaceToFace", args = {"张飞", "王甫"}},
            {cmd = "GeneralAction", args = {"张飞", "prepareAttack"}},
            {cmd = "Dialog", args = {"张飞", "混蛋！"}},
            {cmd = "Dialog", args = {"张飞", "咱们怎么能死？"}},
            {cmd = "Dialog", args = {"张飞", "一定要活下去！"}},
            {cmd = "GeneralAction", args = {"张飞", "stand"}},
            {cmd = "FaceToFace", args = {"孙权", "吕蒙"}},
            {cmd = "Dialog", args = {"孙权", "看来已经完全包围他们了。"}},
            {cmd = "FaceToFace", args = {"吕蒙", "孙权"}},
            {cmd = "Dialog", args = {"吕蒙", "敌军已经是瓮中之鳖。"}},
            {cmd = "Dialog", args = {"吕蒙", "不过俗话说「狗急跳墙」，千万不可大意！"}},
            {cmd = "FaceToFace", args = {"诸葛瑾", "张飞"}},
            {cmd = "Dialog", args = {"诸葛瑾", "孔明究竟在想什么？"}},
            {cmd = "Dialog", args = {"诸葛瑾", "坐视主公危难为何见死不救？"}},
            {cmd = "FaceToFace", args = {"周泰", "诸葛瑾"}},
            {cmd = "Dialog", args = {"周泰", "大概是权势的欲望在作祟吧！"}},
            {cmd = "Dialog", args = {"周泰", "哈哈哈。"}},
            {cmd = "FaceToFace", args = {"诸葛瑾", "周泰"}},
            {cmd = "GeneralAction", args = {"诸葛瑾", "prepareAttack"}},
            {cmd = "Dialog", args = {"诸葛瑾", "孔明绝不是那种人！"}},
            {cmd = "Dialog", args = {"诸葛瑾", "但是如今翼德身陷绝境，他却无动于衷，实在叫人不解。"}},
            {cmd = "GeneralAction", args = {"诸葛瑾", "stand"}},
        },
        {
            {cmd = "GeneralShow", args = {"关羽"}},
            {cmd = "FaceToFace", args = {"关羽", "张飞"}},
            {cmd = "Dialog", args = {"关羽", "翼德！"}},
            {cmd = "Dialog", args = {"关羽", "你没事吧！"}},
            {cmd = "Dialog", args = {"关羽", "我马上就去救你！"}},
            {cmd = "FaceToFace", args = {"张飞", "关羽"}},
            {cmd = "FaceToFace", args = {"关平", "关羽"}},
            {cmd = "Dialog", args = {"张飞", "二、二哥！？"}},
            {cmd = "Dialog", args = {"张飞", "你怎么来的……？"}},
            {cmd = "Dialog", args = {"关羽", "我马上就来！"}},
            {cmd = "Dialog", args = {"关羽", "这种小小阵势，马上就可以解决！"}},
            {cmd = "RoleMove", args = {"关羽", "right", 4, 6}},
            {cmd = "GeneralAction", args = {"张飞", "dizzy"}},
            {cmd = "Dialog", args = {"张飞", "二哥，没有用的！"}},
            {cmd = "FaceToFace", args = {"孙权", "关羽"}},
            {cmd = "GeneralAction", args = {"孙权", "prepareAttack"}},
            {cmd = "Dialog", args = {"孙权", "嗯？是关羽？"}},
            {cmd = "Dialog", args = {"孙权", "竟然单骑来援，真是有勇无谋之举！"}},
            {cmd = "Dialog", args = {"孙权", "把关羽给我杀了，别让他过来！"}},
            {cmd = "GeneralAction", args = {"孙权", "stand"}},
            {cmd = "RoleMove", args = {"关兴", "left", 15, 12}},
            {cmd = "FaceToFace", args = {"关兴", "关羽"}},
            {cmd = "Dialog", args = {"关兴", "父亲再英勇，这样做也不行啊！"}},
            {cmd = "Dialog", args = {"关兴", "望父亲在敌军采取行动之前，逃往安全的地方吧……"}},
            {cmd = "RoleMove", args = {"潘璋", "down", 15, 11}},
            {cmd = "Dialog", args = {"潘璋", "有机可乘！"}},
            {cmd = "GeneralAction", args = {"潘璋", "attack"}},
            {cmd = "GeneralAction", args = {"潘璋", "stand"}},
            {cmd = "GeneralAction", args = {"关兴", "hurt"}},
            {cmd = "PlaySound", args = {"Se36.wav", 1}},
            {cmd = "Delay", args = {10}},
            {cmd = "GeneralAction", args = {"关兴", "weak"}},
            {cmd = "GeneralStatusChange", args = {"关兴", "无", "无", "无", 500, 0}},
            {cmd = "Dialog", args = {"关兴", "糟了！"}},
            {cmd = "FaceToFace", args = {"关索", "关兴"}},
            {cmd = "GeneralAction", args = {"关索", "dizzy"}},
            {cmd = "RoleMove", args = {"关索", "left", 16, 12}},
            {cmd = "Dialog", args = {"关索", "关、关兴！"}},
            {cmd = "Dialog", args = {"关索", "振作下去！"}},
            {cmd = "RoleMove", args = {"蒋钦", "left", 17, 12}},
            {cmd = "FaceToFace", args = {"蒋钦", "关索"}},
            {cmd = "Dialog", args = {"蒋钦", "你也全身都是破绽！"}},
            {cmd = "Dialog", args = {"蒋钦", "看刀！"}},
            {cmd = "GeneralAction", args = {"蒋钦", "attack"}},
            {cmd = "GeneralAction", args = {"蒋钦", "stand"}},
            {cmd = "GeneralAction", args = {"关索", "hurt"}},
            {cmd = "PlaySound", args = {"Se36.wav", 1}},
            {cmd = "Delay", args = {10}},
            {cmd = "GeneralStatusChange", args = {"关索", "无", "无", "无", 500, 0}},
            {cmd = "GeneralAction", args = {"关索", "weak"}},
            {cmd = "Dialog", args = {"关索", "唔唔唔！"}},
            {cmd = "Dialog", args = {"关索", "失算！"}},
            {cmd = "Dialog", args = {"关兴", "关索，想办法从这逃走吧。"}},
            {cmd = "Dialog", args = {"关索", "也只好如此了……"}},
            {cmd = "GeneralRetreat", args = {"关兴", false}},
            {cmd = "GeneralRetreat", args = {"关索", false}},
            {cmd = "FaceToFace", args = {"关羽", "蒋钦"}},
            {cmd = "GeneralAction", args = {"关羽", "weak"}},
            {cmd = "Dialog", args = {"关羽", "啊啊，关兴！关索！"}},
            {cmd = "Dialog", args = {"关羽", "可恨的东吴！"}},
            {cmd = "RoleMove", args = {"关羽", "right", 6, 7}},
            {cmd = "Dialog", args = {"关平", "不、不要过来！"}},
            {cmd = "Dialog", args = {"关平", "父亲不要冲动啊。"}},
            {cmd = "Dialog", args = {"关平", "别管我们了……"}},
            {cmd = "RoleMove", args = {"徐盛", "right", 11, 16}},
            {cmd = "FaceToFace", args = {"徐盛", "关平"}},
            {cmd = "Dialog", args = {"徐盛", "你眼睛看哪了！"}},
            {cmd = "Dialog", args = {"徐盛", "吃我一箭！"}},
            {cmd = "GeneralAction", args = {"徐盛", "attack"}},
            {cmd = "GeneralAction", args = {"徐盛", "stand"}},
            {cmd = "GeneralAction", args = {"关平", "hurt"}},
            {cmd = "PlaySound", args = {"Se36.wav", 1}},
            {cmd = "Delay", args = {10}},
            {cmd = "GeneralStatusChange", args = {"关平", "无", "无", "无", 500, 0}},
            {cmd = "GeneralAction", args = {"关平", "weak"}},
            {cmd = "Dialog", args = {"关平", "哇啊！"}},
            {cmd = "FaceToFace", args = {"张飞", "关平"}},
            {cmd = "Dialog", args = {"张飞", "关平！"}},
            {cmd = "Dialog", args = {"张飞", "你这畜牲！"}},
            {cmd = "RoleMove", args = {"张飞", "up", 11, 17}},
            {cmd = "FaceToFace", args = {"丁奉", "张飞"}},
            {cmd = "Dialog", args = {"丁奉", "打仗可不是只和一个人打呀。"}},
            {cmd = "Dialog", args = {"丁奉", "你的侧面全是破绽！"}},
            {cmd = "Dialog", args = {"丁奉", "看招！"}},
            {cmd = "GeneralAction", args = {"丁奉", "attack"}},
            {cmd = "GeneralAction", args = {"丁奉", "stand"}},
            {cmd = "GeneralAction", args = {"张飞", "hurt"}},
            {cmd = "PlaySound", args = {"Se36.wav", 1}},
            {cmd = "Delay", args = {10}},
            {cmd = "GeneralStatusChange", args = {"张飞", "无", "无", "无", 500, 0}},
            {cmd = "GeneralAction", args = {"张飞", "weak"}},
            {cmd = "Dialog", args = {"张飞", "糟了，想不到我居然会……"}},
            {cmd = "Dialog", args = {"张飞", "得找个藏身之处……唔唔！"}},
            {cmd = "GeneralRetreat", args = {"关平", false}},
            {cmd = "GeneralRetreat", args = {"张飞", false}},
            {cmd = "FaceToFace", args = {"关羽", "丁奉"}},
            {cmd = "GeneralAction", args = {"关羽", "weak"}},
            {cmd = "Dialog", args = {"关羽", "张飞！"}},
            {cmd = "Dialog", args = {"关羽", "关平！"}},
        },
        {
            {cmd = "PlayMusic", args = {"Track7"}},
            {cmd = "PlayerGeneralShow", args = {0}},
            {cmd = "PlayerGeneralShow", args = {1}},
            {cmd = "PlayerGeneralShow", args = {2}},
            {cmd = "PlayerGeneralShow", args = {3}},
            {cmd = "PlayerGeneralShow", args = {4}},
            {cmd = "PlayerGeneralShow", args = {5}},
            {cmd = "PlayerGeneralShow", args = {6}},
            {cmd = "PlayerGeneralShow", args = {7}},
            {cmd = "PlayerGeneralShow", args = {8}},
            {cmd = "PlayerGeneralShow", args = {9}},
        },
        {cmd = "FaceToFace", args = {"曹操", "关羽"}},
        {cmd = "Dialog", args = {"曹操", "看来关羽平安无事，得快点救他出来才行。"}},
        {cmd = "Dialog", args = {"曹操", "可是这么一来，我军就会失去麦城。"}},
        {cmd = "Dialog", args = {"曹操", "我岂能让勾结孔明的吴军夺走此地呢？"}},
        {cmd = "Dialog", args = {"曹操", "关羽与麦城………"}},
        {cmd = "Dialog", args = {"曹操", "应该先救哪一个呢……"}},
    },
    {cmd = "ChoiceDialog", args = {"曹操", {"救援关羽", "救援麦城"}}},
    {
        {cmd = "FaceToFace", args = {"曹操", "关羽"}},
        {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
        {cmd = "Dialog", args = {"曹操", "先援救关羽！"}},
        {cmd = "Dialog", args = {"曹操", "我们要遵守刘备的遗言。"}},
        {cmd = "Dialog", args = {"曹操", "全军出战！"}},
        {cmd = "GeneralAction", args = {"曹操", "stand"}},
        {cmd = "FaceToFace", args = {"曹操", "周仓"}},
        {cmd = "Dialog", args = {"曹操", "刘备啊，我只有先放弃麦城了！"}},
        {cmd = "Dialog", args = {"曹操", "现在最重要的是如何活下去。"}},
        {cmd = "Dialog", args = {"曹操", "我曹操将遵照刘备遗言开始援救！"}},
        {cmd = "FaceToFace", args = {"周仓", "曹操"}},
        {cmd = "FaceToFace", args = {"廖化", "曹操"}},
        {cmd = "Dialog", args = {"周仓", "遗言？！到底是怎么回事？"}},
        {cmd = "Dialog", args = {"周仓", "为什么曹军会来救援我们？"}},
        {cmd = "Dialog", args = {"廖化", "不清楚，可能主公与曹操有过密约，我们暂且先合力打败孙权的军队吧！"}},
        {cmd = "FaceToFace", args = {"王甫", "关羽"}},
        {cmd = "GeneralAction", args = {"王甫", "prepareAttack"}},
        {cmd = "Dialog", args = {"王甫", "不能让他们夺走麦城！"}},
        {cmd = "Dialog", args = {"王甫", "我们要保护关羽将军，渡过眼前的难关。"}},
        {cmd = "GeneralAction", args = {"王甫", "stand"}},
        {cmd = "FaceToFace", args = {"孙权", "曹操"}},
        {cmd = "GeneralAction", args = {"孙权", "prepareAttack"}},
        {cmd = "Dialog", args = {"孙权", "什么！？曹军为何会前来援助蜀军？"}},
        {cmd = "Dialog", args = {"孙权", "嗯嗯嗯，全军准备迎击曹军！"}},
        {cmd = "Dialog", args = {"孙权", "把他们全给我击溃！"}},
        {cmd = "GeneralAction", args = {"孙权", "stand"}},
        {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 9, 9, 24, 20, "攻击武将", "关羽", 1, 1}},
        {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 9, 21, 24, 24, "逃至指定点", "无", 7, 16}},
        {cmd = "RangeGeneralsAiChange", args = {{"friend"}, 13, 13, 20, 20, "逃至指定点", "无", 13, 16}},
        {cmd = "GeneralAiChange", args = {"关羽", "到指定点", "无", 8, 11}},
        {cmd = "BattleWinCondition", args = {"胜利条件\n一、歼灭所有敌军。\n\n失败条件\n一、曹操或关羽死亡。\n二、回合数超过25。"}},
        {cmd = "ShowBattleWinCondition", args = {"救出关羽！"}},
        {cmd = "HighlightGeneral", args = {"关羽"}},
    },
    {
        {cmd = "FaceToFace", args = {"曹操", "孙权"}},
        {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
        {cmd = "Dialog", args = {"曹操", "以关羽的武艺而言，这些敌人不足为惧。"}},
        {cmd = "Dialog", args = {"曹操", "我们应该先保住麦城！"}},
        {cmd = "GeneralAction", args = {"曹操", "stand"}},
        {cmd = "FaceToFace", args = {"周仓", "曹操"}},
        {cmd = "FaceToFace", args = {"廖化", "曹操"}},
        {cmd = "Dialog", args = {"周仓", "什么？"}},
        {cmd = "Dialog", args = {"周仓", "曹军居然来援救我们？"}},
        {cmd = "Dialog", args = {"廖化", "不清楚，总之咱们该谢天谢地！"}},
        {cmd = "Dialog", args = {"廖化", "先共同合力击退孙权的军队后，再向刘备主公问个清楚吧。"}},
        {cmd = "FaceToFace", args = {"王甫", "孙权"}},
        {cmd = "GeneralAction", args = {"王甫", "prepareAttack"}},
        {cmd = "Dialog", args = {"王甫", "好，全力攻击孙权军队。"}},
        {cmd = "GeneralAction", args = {"王甫", "stand"}},
        {cmd = "GeneralChangeDirection", args = {"周仓", "down"}},
        {cmd = "GeneralChangeDirection", args = {"廖化", "right"}},
        {cmd = "FaceToFace", args = {"孙权", "丁奉"}},
        {cmd = "Dialog", args = {"孙权", "曹军为何会前来援助蜀军？"}},
        {cmd = "Dialog", args = {"孙权", "丁奉、徐盛、潘璋！"}},
        {cmd = "Dialog", args = {"孙权", "你们去杀了关羽！"}},
        {cmd = "FaceToFace", args = {"孙权", "蒋钦"}},
        {cmd = "Dialog", args = {"孙权", "蒋钦你去拦住曹操！"}},
        {cmd = "Dialog", args = {"孙权", "趁此之际攻下麦城！"}},
        {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 9, 9, 24, 24, "攻击武将", "关羽", 1, 1}},
        {cmd = "RangeGeneralsAiChange", args = {{"friend"}, 13, 13, 20, 20, "坚守原地", "无", 1, 1}},
        {cmd = "GeneralAiChange", args = {"关羽", "到指定点", "无", 8, 11}},
        {
            {cmd = "GeneralAiChange", args = {"蒋钦", "攻击武将", "曹操", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗10", "攻击武将", "曹操", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗12", "攻击武将", "曹操", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵6", "攻击武将", "曹操", 1, 1}},
            {cmd = "GeneralAiChange", args = {"潘璋", "逃至指定点", "无", 7, 12}},
            {cmd = "GeneralAiChange", args = {"海盗9", "逃至指定点", "无", 7, 12}},
            {cmd = "GeneralAiChange", args = {"海盗11", "逃至指定点", "无", 7, 12}},
            {cmd = "GeneralAiChange", args = {"弓兵5", "逃至指定点", "无", 7, 12}},
        },
        {
            {cmd = "GeneralAiChange", args = {"孙权", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"吕蒙", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"诸葛瑾", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"周泰", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"海盗1", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"海盗2", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"海盗3", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"海盗4", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"海盗5", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"海盗6", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"海盗7", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"海盗8", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"弓兵3", "到指定点", "无", 17, 17}},
            {cmd = "GeneralAiChange", args = {"弓兵4", "到指定点", "无", 17, 17}},
        },
        {cmd = "BattleWinCondition", args = {"胜利条件\n一、歼灭所有敌军。\n\n失败条件\n一、曹操或关羽死亡。\n二、麦城被占领。\n三、回合数超过25。"}},
        {cmd = "ShowBattleWinCondition", args = {"守住麦城并救出关羽！"}},
        {cmd = "HighlightRange", args = {17, 17, 17, 17, false}},
        {cmd = "HighlightGeneral", args = {"关羽"}},
        {cmd = "VarSet", args = {"Var2", true}},
    },
    {cmd = "VarSet", args = {"Var547", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "RoundsTest", args = {2, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var2", "Var11"}}}},
        {
            {cmd = "GeneralAiChange", args = {"周仓", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"廖化", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"王甫", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵1", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵2", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵3", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵9", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"风水士1", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"关羽", "到指定点", "无", 17, 17}},
            {cmd = "VarSet", args = {"Var11", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {2, "="}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var12"}}}},
        {
            {cmd = "GeneralAiChange", args = {"潘璋", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗9", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗11", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵5", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"周仓", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"廖化", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"王甫", "坚守原地", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵1", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵2", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵3", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵9", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"风水士1", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"关羽", "到指定点", "无", 17, 17}},
            {cmd = "VarSet", args = {"Var12", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {3, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var2", "Var13"}}}},
        {
            {cmd = "GeneralAiChange", args = {"孙权", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"吕蒙", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗1", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗2", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗3", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"海盗4", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "攻击武将", "关羽", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "攻击武将", "关羽", 1, 1}},
            {cmd = "VarSet", args = {"Var13", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"enemy"}, 17, 17}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var20"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "糟、糟啦……"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "FaceToFace", args = {"孙权", "曹操"}},
                {cmd = "Dialog", args = {"孙权", "哈哈哈！"}},
                {cmd = "Dialog", args = {"孙权", "麦城已经落入我的手中！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"吕蒙", "曹操"}},
                {cmd = "Dialog", args = {"吕蒙", "正所谓「鱼与熊掌不可兼得」，你想同时达到两个目的，实在是太愚蠢了，曹操！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                {cmd = "FaceToFace", args = {"诸葛瑾", "曹操"}},
                {cmd = "Dialog", args = {"诸葛瑾", "曹丞相，麦城既已失陷，继续交战也毫无意义了。"}},
                {cmd = "Dialog", args = {"诸葛瑾", "还是快点引军而退吧。"}},
            },
            {cmd = "VarSet", args = {"Var20", true}},
            {cmd = "VarSet", args = {"Var101", true}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {"关羽", 14, 14, 19, 19}},
        {cmd = "VarTest", args = {{falseConditions = {"Var30"}}}},
        {
            {cmd = "GeneralAiChange", args = {"关羽", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var30", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "孙权", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"曹操", "孙权"}},
            {cmd = "FaceToFace", args = {"孙权", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "孙权。"}},
            {cmd = "Dialog", args = {"曹操", "攻打麦城是出自孔明的计策吧？"}},
            {cmd = "Dialog", args = {"孙权", "何来此言？"}},
            {cmd = "Dialog", args = {"孙权", "这是我东吴军师献上的谋略，你还是别乱猜了。"}},
            {cmd = "Dialog", args = {"曹操", "也就是说此计出自周瑜之手啰？"}},
            {cmd = "Dialog", args = {"曹操", "你不认为周瑜与孔明可能通敌，这次被算计的反倒是你自己吗？"}},
            {cmd = "Dialog", args = {"孙权", "噢，不愧是曹操，居然知道周瑜还活着。"}},
            {cmd = "Dialog", args = {"孙权", "周瑜是亡兄孙策的连襟，始终对我吴国忠心耿耿，没有理由图谋我东吴的。"}},
            {cmd = "Dialog", args = {"孙权", "何况孔明身为蜀国的军师，又岂有唆使他国攻击蜀国之理？"}},
            {cmd = "Dialog", args = {"曹操", "所以我更觉得奇怪了。"}},
            {cmd = "Dialog", args = {"曹操", "孙权，你还是多留意的好，很可能还会陆续发生什么事。"}},
            {cmd = "Dialog", args = {"孙权", "哼，莫名其妙……"}},
            {cmd = "Dialog", args = {"孙权", "够了！"}},
            {cmd = "Dialog", args = {"孙权", "废话少说，放马过来吧！"}},
            {cmd = "Dialog", args = {"曹操", "不行……还是无法说服他……"}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"关羽", "徐盛", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"关羽", "徐盛"}},
            {cmd = "FaceToFace", args = {"徐盛", "关羽"}},
            {cmd = "Dialog", args = {"关羽", "射杀关平的就是你吧！"}},
            {cmd = "Dialog", args = {"徐盛", "我、我也是身不由己啊！"}},
            {cmd = "Dialog", args = {"徐盛", "身在战场，刀枪无眼嘛。"}},
            {cmd = "Dialog", args = {"徐盛", "何况他们又没死！"}},
            {cmd = "Dialog", args = {"徐盛", "已经跟张飞一起躲起来了，你还这样怨恨我就不对了。"}},
            {cmd = "Dialog", args = {"关羽", "噢，他们还活着？"}},
            {cmd = "Dialog", args = {"关羽", "这我就安心了。"}},
            {cmd = "Dialog", args = {"关羽", "得赶快找出他们才行……后会有期！"}},
            {cmd = "Dialog", args = {"徐盛", "呼，吓死我了。"}},
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"关羽", "孙权", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"关羽", "孙权"}},
            {cmd = "FaceToFace", args = {"孙权", "关羽"}},
            {cmd = "Dialog", args = {"关羽", "孙权，拿命来吧！"}},
            {cmd = "Dialog", args = {"关羽", "我要报兄长刘备被杀之仇。"}},
            {cmd = "Dialog", args = {"孙权", "噢，原来刘备已死？"}},
            {cmd = "Dialog", args = {"孙权", "话说回来，身处乱世之秋，想必刘备早已知晓难免一死吧？"}},
            {cmd = "Dialog", args = {"孙权", "这完全是上苍不眷顾刘备，怨恨我孙仲谋就大错特错了。"}},
            {cmd = "Dialog", args = {"关羽", "兄长觉悟与否和复仇另当别论。"}},
            {cmd = "Dialog", args = {"关羽", "关某的复仇之心依然不变！"}},
            {cmd = "Dialog", args = {"关羽", "堂堂正正与我一决死战吧！"}},
            {cmd = "Dialog", args = {"孙权", "我乃一国之君，岂能与你一般见识！"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"关羽", "曹操", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var43"}}}},
        {
            {cmd = "FaceToFace", args = {"曹操", "关羽"}},
            {cmd = "FaceToFace", args = {"关羽", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "云长，我依照玄德遗言前来相助了。"}},
            {cmd = "Dialog", args = {"关羽", "为何丞相知悉兄长的遗言……？"}},
            {cmd = "Dialog", args = {"关羽", "如今关某急于援助吾弟张飞，请恕关某失礼。"}},
            {cmd = "VarSet", args = {"Var43", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"关羽", "蒋钦", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var44"}}}},
        {
            {cmd = "FaceToFace", args = {"关羽", "蒋钦"}},
            {cmd = "FaceToFace", args = {"蒋钦", "关羽"}},
            {cmd = "Dialog", args = {"关羽", "杀了吾儿关兴，关索的就是你吗！？"}},
            {cmd = "Dialog", args = {"蒋钦", "哈哈哈！"}},
            {cmd = "Dialog", args = {"蒋钦", "那两个不知道龟缩到什么地方去了，真是丢人现眼的胆小鬼啊。"}},
            {cmd = "Dialog", args = {"关羽", "你是说关兴，关索还活着是吗！？"}},
            {cmd = "Dialog", args = {"蒋钦", "反正那两个人很快就会死的，让我也把你送到阴间去见他们吧！"}},
            {cmd = "Dialog", args = {"关羽", "我没时间跟你交手。"}},
            {cmd = "Dialog", args = {"关羽", "后会有期！"}},
            {cmd = "VarSet", args = {"Var44", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"孙权", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "Dialog", args = {"孙权", "唔唔，要不是曹军来援……"}},
            {cmd = "Dialog", args = {"孙权", "撤退！"}},
            {cmd = "GeneralRetreat", args = {"孙权", false}},
            {cmd = "VarSet", args = {"Var50", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"吕蒙", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"吕蒙", "啧，被打败了。"}},
            {cmd = "Dialog", args = {"吕蒙", "常言道「老谋深算」，咱们还是先撤退吧！"}},
            {cmd = "GeneralRetreat", args = {"吕蒙", false}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"诸葛瑾", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"诸葛瑾", "太、太大意了，撤退！"}},
            {cmd = "Dialog", args = {"诸葛瑾", "想不到曹操会派兵来援……"}},
            {cmd = "Dialog", args = {"诸葛瑾", "孔明真是诡计多端。"}},
            {cmd = "GeneralRetreat", args = {"诸葛瑾", false}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"周泰", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"周泰", "啐，暂时先离开这里吧。"}},
            {cmd = "Dialog", args = {"周泰", "走了，撤退！"}},
            {cmd = "GeneralRetreat", args = {"周泰", false}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"潘璋", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
        {
            {cmd = "Dialog", args = {"潘璋", "不、不妙啦！"}},
            {cmd = "Dialog", args = {"潘璋", "逃命吧！"}},
            {cmd = "GeneralRetreat", args = {"潘璋", false}},
            {cmd = "VarSet", args = {"Var54", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"蒋钦", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
        {
            {cmd = "Dialog", args = {"蒋钦", "你、你竟敢……好痛……"}},
            {cmd = "Dialog", args = {"蒋钦", "不行了。"}},
            {cmd = "Dialog", args = {"蒋钦", "撤、撤退！"}},
            {cmd = "GeneralRetreat", args = {"蒋钦", false}},
            {cmd = "VarSet", args = {"Var55", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"徐盛", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
        {
            {cmd = "Dialog", args = {"徐盛", "撤退！"}},
            {cmd = "Dialog", args = {"徐盛", "快呀！"}},
            {cmd = "Dialog", args = {"徐盛", "这回输得好惨啊。"}},
            {cmd = "GeneralRetreat", args = {"徐盛", false}},
            {cmd = "VarSet", args = {"Var56", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"丁奉", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
        {
            {cmd = "Dialog", args = {"丁奉", "没办法了。"}},
            {cmd = "Dialog", args = {"丁奉", "暂且撤退吧！"}},
            {cmd = "GeneralRetreat", args = {"丁奉", false}},
            {cmd = "VarSet", args = {"Var57", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"周仓", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
        {
            {cmd = "Dialog", args = {"周仓", "哇啊……"}},
            {cmd = "Dialog", args = {"周仓", "糟、糟了……"}},
            {cmd = "Dialog", args = {"周仓", "遗憾……唔唔！"}},
            {cmd = "GeneralRetreat", args = {"周仓", true}},
            {cmd = "VarSet", args = {"Var58", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"廖化", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var59"}}}},
        {
            {cmd = "Dialog", args = {"廖化", "唔唔……"}},
            {cmd = "Dialog", args = {"廖化", "我就要死在这了吗……"}},
            {cmd = "Dialog", args = {"廖化", "……唔呃。"}},
            {cmd = "GeneralRetreat", args = {"廖化", true}},
            {cmd = "VarSet", args = {"Var59", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"王甫", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var60"}}}},
        {
            {cmd = "Dialog", args = {"王甫", "啊啊啊啊……"}},
            {cmd = "Dialog", args = {"王甫", "可、可恨………"}},
            {cmd = "Dialog", args = {"王甫", "唔呃……"}},
            {cmd = "GeneralRetreat", args = {"王甫", true}},
            {cmd = "VarSet", args = {"Var60", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"关羽", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var61"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"关羽", "遗、遗憾呐……"}},
            {cmd = "Dialog", args = {"关羽", "兄长……三弟……"}},
            {cmd = "Dialog", args = {"关羽", "我对不起你们……"}},
            {cmd = "GeneralRetreat", args = {"关羽", true}},
            {cmd = "VarSet", args = {"Var61", true}},
            {cmd = "Dialog", args = {"曹操", "糟、糟了！"}},
            {cmd = "Dialog", args = {"曹操", "想不到关羽居然……"}},
            {cmd = "VarSet", args = {"Var101", true}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "总算击退了孙权的军队，不过此地也已危险。"}},
            {cmd = "FaceToFace", args = {"曹操", "关羽"}},
            {cmd = "FaceToFace", args = {"关羽", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "关羽啊，和我一起去襄阳吧，我有话想对你说。"}},
            {cmd = "Dialog", args = {"关羽", "关某没有异议，只是如今尚未寻获三弟，请让关某再寻找片刻。"}},
            {cmd = "Dialog", args = {"曹操", "快走吧，周瑜必然会施展计谋，此地不可久留啊！"}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var2"}}}},
                {cmd = "BattleExtraItems", args = {0, "蛇矛", 0, "", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var647", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操在孙权军前大败而归。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
