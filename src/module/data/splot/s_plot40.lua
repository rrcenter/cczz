local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "剑阁之战",
    maxRounds    = 30,
    mapId        = "40.tmx",
    weatherStart = {"晴", "晴", "阴", "晴", "阴"},
    weatherType  = {"普通"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    enemyGeneralList = {
        {uid = "诸葛亮", aiType = "坚守原地", levelAdd = 4},
        {uid = "赵云", aiType = "坚守原地", levelAdd = 4},
        {uid = "步兵1", aiType = "坚守原地"},
        {uid = "步兵2", aiType = "坚守原地"},
        {uid = "步兵3", aiType = "坚守原地"},
        {uid = "步兵4", aiType = "坚守原地"},
        {uid = "弓兵1", aiType = "坚守原地"},
        {uid = "弓兵2", aiType = "坚守原地"},
        {uid = "炮兵1", aiType = "坚守原地"},
        {uid = "炮兵2", aiType = "坚守原地"},
        {uid = "骑兵1", aiType = "坚守原地"},
        {uid = "骑兵2", aiType = "坚守原地"},
        {uid = "姜维", aiType = "坚守原地", levelAdd = 4},
        {uid = "张苞", aiType = "坚守原地", levelAdd = 4},
        {uid = "步兵5", aiType = "坚守原地"},
        {uid = "步兵6", aiType = "坚守原地"},
        {uid = "步兵7", aiType = "坚守原地"},
        {uid = "步兵8", aiType = "坚守原地"},
        {uid = "弓兵3", aiType = "坚守原地"},
        {uid = "弓兵4", aiType = "坚守原地"},
        {uid = "炮兵3", aiType = "坚守原地"},
        {uid = "炮兵4", aiType = "坚守原地"},
        {uid = "骑兵3", aiType = "坚守原地"},
        {uid = "骑兵4", aiType = "坚守原地"},
        {uid = "马谡", aiType = "坚守原地", levelAdd = 4},
        {uid = "魏延", aiType = "坚守原地", levelAdd = 4},
        {uid = "步兵9", aiType = "坚守原地"},
        {uid = "步兵10", aiType = "坚守原地"},
        {uid = "弓兵5", aiType = "坚守原地"},
        {uid = "弓兵6", aiType = "坚守原地"},
        {uid = "弓兵7", aiType = "坚守原地"},
        {uid = "弓兵8", aiType = "坚守原地"},
        {uid = "炮兵5", aiType = "坚守原地"},
        {uid = "炮兵6", aiType = "坚守原地"},
        {uid = "关兴", aiType = "坚守原地", levelAdd = 4},
        {uid = "关索", aiType = "坚守原地", levelAdd = 4},
        {uid = "驯熊师1", aiType = "坚守原地"},
        {uid = "驯熊师2", aiType = "坚守原地"},
        {uid = "驯虎师1", aiType = "坚守原地"},
        {uid = "驯虎师2", aiType = "坚守原地"},
        {uid = "孟获", aiType = "主动出击", isHide = true, levelAdd = 2},
        {uid = "孟优", aiType = "主动出击", isHide = true, levelAdd = 2},
        {uid = "祝融", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "驯虎师3", aiType = "主动出击", isHide = true},
        {uid = "马超", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "马岱", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "西凉骑兵1", aiType = "主动出击", isHide = true},
        {uid = "西凉骑兵2", aiType = "主动出击", isHide = true},
        {uid = "王平", aiType = "主动出击", isHide = true, levelAdd = 2},
        {uid = "贼兵1", aiType = "主动出击", isHide = true},
        {uid = "贼兵2", aiType = "主动出击", isHide = true},
        {uid = "贼兵3", aiType = "主动出击", isHide = true},
        {uid = "李严", aiType = "主动出击", isHide = true, levelAdd = 2},
        {uid = "贼兵4", aiType = "主动出击", isHide = true},
        {uid = "贼兵5", aiType = "主动出击", isHide = true},
        {uid = "贼兵6", aiType = "主动出击", isHide = true},
        {uid = "廖化", aiType = "主动出击", isHide = true, levelAdd = 2},
        {uid = "贼兵7", aiType = "主动出击", isHide = true},
        {uid = "贼兵8", aiType = "主动出击", isHide = true},
        {uid = "贼兵9", aiType = "主动出击", isHide = true},
        {uid = "吴懿", aiType = "主动出击", isHide = true, levelAdd = 2},
        {uid = "贼兵10", aiType = "主动出击", isHide = true},
        {uid = "贼兵11", aiType = "主动出击", isHide = true},
        {uid = "贼兵12", aiType = "主动出击", isHide = true},
        {uid = "炮兵7", aiType = "坚守原地"},
        {uid = "炮兵8", aiType = "坚守原地"},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"赵云", "默认装备", 0, "白银铠", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"诸葛亮", "白羽扇", 0, "鹤氅", 0, "诸葛巾"}},
    },
    {cmd = "PlayMusic", args = {"Track3"}},
    {
        {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
        {cmd = "Dialog", args = {"曹操", "又有关口？"}},
        {cmd = "Dialog", args = {"曹操", "……过了这关就直达成都了。"}},
        {cmd = "Dialog", args = {"曹操", "全军齐心协力攻下这个关口！"}},
        {cmd = "GeneralAction", args = {"曹操", "stand"}},
        {cmd = "FaceToFace", args = {"司马懿", "曹操"}},
        {cmd = "Dialog", args = {"司马懿", "主公，前面关口的里面，还有东关和西关。"}},
        {cmd = "Dialog", args = {"司马懿", "我们该走哪边呢？"}},
        {cmd = "FaceToFace", args = {"曹操", "司马懿"}},
        {cmd = "Dialog", args = {"曹操", "如果不赶快行军的话，蜀军的守备将会更牢固。"}},
        {cmd = "Dialog", args = {"曹操", "所以我决定走距离成都较近的西关……"}},
        {cmd = "HighlightRange", args = {6, 20, 8, 23, true}},
        {cmd = "Dialog", args = {"司马懿", "即使能够突破这个西关，在这种地形下还是很难补给的。"}},
        {cmd = "Dialog", args = {"司马懿", "相反东边的土地肥沃辽阔，可就地筹得军粮而且不误行军……"}},
        {cmd = "Dialog", args = {"曹操", "对，如果长远考虑的话，东边还是比西边好啊。"}},
        {cmd = "HighlightRange", args = {27, 20, 29, 23, true}},
        {cmd = "Dialog", args = {"司马懿", "不过这样就远多了，部队必须急行军才能赶上。"}},
        {cmd = "Dialog", args = {"曹操", "这么一来部队可能就掉队了。"}},
        {cmd = "GeneralChangeDirection", args = {"曹操", "down"}},
        {cmd = "GeneralChangeDirection", args = {"司马懿", "down"}},
    },
    {cmd = "ChoiceDialog", args = {"曹操", {"突破西关", "突破东关"}}},
    {
        {cmd = "Dialog", args = {"曹操", "突破西关！"}},
        {cmd = "Dialog", args = {"曹操", "迅速攻陷成都！"}},
        {cmd = "BattleWinCondition", args = {"胜利条件\n一、曹操突破西关。\n\n失败条件\n一、曹操死亡。\n二、回合数超过30。"}},
        {cmd = "ShowBattleWinCondition", args = {"突破剑阁！"}},
        {cmd = "HighlightRange", args = {1, 19, 2, 24, false}},
        {cmd = "VarSet", args = {"Var740", true}},
    },
    {
        {cmd = "Dialog", args = {"曹操", "突破东关！"}},
        {cmd = "Dialog", args = {"曹操", "筹集充足的补给，进攻成都！"}},
        {cmd = "BattleWinCondition", args = {"胜利条件\n一、曹操突破东关。\n\n失败条件\n一、曹操死亡。\n二、回合数超过30。"}},
        {cmd = "ShowBattleWinCondition", args = {"突破剑阁！"}},
        {cmd = "HighlightRange", args = {35, 19, 36, 24, false}},
        {cmd = "VarSet", args = {"Var2", true}},
        {cmd = "VarSet", args = {"Var740", false}},
    },
    {
        {cmd = "FaceToFace", args = {"赵云", "诸葛亮"}},
        {cmd = "Dialog", args = {"赵云", "丞相，曹军好像已经到了！"}},
        {cmd = "FaceToFace", args = {"诸葛亮", "赵云"}},
        {cmd = "Dialog", args = {"诸葛亮", "嗯，接着按计划行事便可。"}},
        {cmd = "Dialog", args = {"姜维", "此地与成都唇齿相依，无论如何都要守住这个关口……"}},
        {cmd = "Dialog", args = {"张苞", "交给俺张苞吧！"}},
        {cmd = "Dialog", args = {"张苞", "俺不会让曹魏的一兵一卒通过的。"}},
        {cmd = "Dialog", args = {"关兴", "尽管来吧！"}},
        {cmd = "Dialog", args = {"关兴", "我要让曹军有来无回。"}},
        {cmd = "Dialog", args = {"关索", "我关索的大刀要把曹军砍个落花流水。"}},
        {cmd = "Dialog", args = {"马谡", "啧、啧、啧，光凭力气是无法取胜的。"}},
        {cmd = "Dialog", args = {"马谡", "打仗要动脑筋，用用你们的脑子吧。"}},
        {cmd = "FaceToFace", args = {"魏延", "马谡"}},
        {cmd = "Dialog", args = {"魏延", "老子就讨厌你和孔明。"}},
        {cmd = "Dialog", args = {"魏延", "到时候你别碍事就好！"}},
        {cmd = "Dialog", args = {"马谡", "你这个人可真讨厌，真是个怪脾气的家伙……"}},
    },
    {cmd = "PlayMusic", args = {"Track4"}},
    {cmd = "VarSet", args = {"Var540", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 18, 20}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AddItem", args = {"恢复用桃", 0}},
            {cmd = "VarSet", args = {"Var20", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 17, 20}},
        {cmd = "VarTest", args = {{falseConditions = {"Var21"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var21", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 17, 10}},
        {cmd = "VarTest", args = {{falseConditions = {"Var22"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var22", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 20, 10}},
        {cmd = "VarTest", args = {{falseConditions = {"Var23"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var23", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 7, 20}},
        {cmd = "VarTest", args = {{falseConditions = {"Var24"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var24", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 7, 23}},
        {cmd = "VarTest", args = {{falseConditions = {"Var25"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var25", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 28, 20}},
        {cmd = "VarTest", args = {{falseConditions = {"Var26"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var26", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 28, 23}},
        {cmd = "VarTest", args = {{falseConditions = {"Var27"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var27", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"player"}, 4, ">=", "指定区域", 10, 17, 25, 28}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var6"}}}},
        {
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                {cmd = "GeneralAction", args = {"诸葛亮", "prepareAttack"}},
                {cmd = "Dialog", args = {"诸葛亮", "把曹兵引诱到这里就可以了。"}},
                {cmd = "Dialog", args = {"诸葛亮", "马超，孟获，迎击曹军！"}},
                {cmd = "GeneralAction", args = {"诸葛亮", "stand"}},
            },
            {
                {cmd = "GeneralShow", args = {"祝融"}},
                {cmd = "GeneralShow", args = {"孟获"}},
                {cmd = "GeneralShow", args = {"孟优"}},
                {cmd = "GeneralShow", args = {"西凉骑兵1"}},
                {cmd = "GeneralShow", args = {"马超"}},
                {cmd = "GeneralShow", args = {"马岱"}},
            },
            {cmd = "FaceToFace", args = {"祝融", "曹操"}},
            {cmd = "FaceToFace", args = {"孟获", "曹操"}},
            {cmd = "FaceToFace", args = {"孟优", "曹操"}},
            {cmd = "FaceToFace", args = {"马超", "曹操"}},
            {cmd = "FaceToFace", args = {"马岱", "曹操"}},
            {cmd = "GeneralAction", args = {"祝融", "weak"}},
            {cmd = "Dialog", args = {"祝融", "唷，曹操挺帅的嘛。"}},
            {cmd = "Dialog", args = {"祝融", "我要跳个舞让他陶醉陶醉。"}},
            {cmd = "FaceToFace", args = {"孟获", "祝融"}},
            {cmd = "GeneralAction", args = {"孟获", "prepareAttack"}},
            {cmd = "Dialog", args = {"孟获", "你竟然在你老公面前暗送秋波？"}},
            {cmd = "Dialog", args = {"孟获", "老子要让你仔细瞧瞧，俺比他更有男子气！"}},
            {cmd = "GeneralAction", args = {"孟获", "stand"}},
            {cmd = "Dialog", args = {"孟优", "嗯？要上阵了吗？"}},
            {cmd = "FaceToFace", args = {"马超", "马岱"}},
            {cmd = "Dialog", args = {"马超", "这次一定要把曹操碎尸万段！"}},
            {cmd = "Dialog", args = {"马超", "马岱！走！"}},
            {cmd = "FaceToFace", args = {"马岱", "马超"}},
            {cmd = "Dialog", args = {"马岱", "好！曹操你等着瞧吧。"}},
            {cmd = "FaceToFace", args = {"祝融", "曹操"}},
            {cmd = "FaceToFace", args = {"孟获", "曹操"}},
            {cmd = "FaceToFace", args = {"孟优", "曹操"}},
            {cmd = "FaceToFace", args = {"马超", "曹操"}},
            {cmd = "FaceToFace", args = {"马岱", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "祝融"}},
            {cmd = "Dialog", args = {"曹操", "啧，又有新兵力增援了！"}},
            {cmd = "Dialog", args = {"曹操", "这下可不妙了。"}},
            {cmd = "Dialog", args = {"曹操", "要不要回到关口暂避风头？"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "FaceToFace", args = {"姜维", "曹操"}},
                {cmd = "GeneralAction", args = {"姜维", "prepareAttack"}},
                {cmd = "Dialog", args = {"姜维", "让贼兵从背后攻打！"}},
                {cmd = "Dialog", args = {"姜维", "切断退路，包围曹操！"}},
                {cmd = "GeneralAction", args = {"姜维", "stand"}},
            },
            {
                {cmd = "GeneralShow", args = {"王平"}},
                {cmd = "GeneralShow", args = {"贼兵1"}},
                {cmd = "GeneralShow", args = {"贼兵2"}},
                {cmd = "GeneralShow", args = {"贼兵3"}},
                {cmd = "GeneralShow", args = {"李严"}},
                {cmd = "GeneralShow", args = {"贼兵4"}},
                {cmd = "GeneralShow", args = {"贼兵5"}},
                {cmd = "GeneralShow", args = {"贼兵6"}},
            },
            {cmd = "FaceToFace", args = {"李严", "曹操"}},
            {cmd = "FaceToFace", args = {"王平", "曹操"}},
            {cmd = "Dialog", args = {"李严", "本来还想多要点人手的，不过看来这样应该不会输了。"}},
            {cmd = "Dialog", args = {"李严", "这回我总可以轻松点了吧？"}},
            {cmd = "Dialog", args = {"王平", "我王平熟悉这里的地理环境！"}},
            {cmd = "Dialog", args = {"王平", "即使是曹操也不会发现有伏兵的。"}},
            {cmd = "FaceToFace", args = {"曹操", "王平"}},
            {cmd = "GeneralAction", args = {"曹操", "dizzy"}},
            {cmd = "Dialog", args = {"曹操", "糟了！"}},
            {cmd = "Dialog", args = {"曹操", "退路被堵，无处可逃了。"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "Dialog", args = {"诸葛亮", "别让他们逃了。"}},
                {cmd = "Dialog", args = {"诸葛亮", "今天要让曹操葬身此地！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "Dialog", args = {"姜维", "来吧！杀死曹操！"}},
            },
            {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 10, 13, 25, 32, "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var6", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 10, "<", "指定区域", 12, 8, 25, 12}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var7"}}}},
        {
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var59"}}}},
                {cmd = "Dialog", args = {"魏延", "啐！"}},
                {cmd = "Dialog", args = {"魏延", "撤退！"}},
                {cmd = "VarSet", args = {"Var7", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                {cmd = "Dialog", args = {"马谡", "你们以为追得上我吗？"}},
                {cmd = "Dialog", args = {"马谡", "啧、啧、啧，我马谡的快脚天下第一，你们追也是白追的。"}},
                {cmd = "VarSet", args = {"Var7", true}},
            },
            {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 12, 8, 25, 12, "到指定点", "无", 18, 21}},
            {cmd = "GeneralAiChange", args = {"马谡", "逃至指定点", "无", 17, 21}},
            {cmd = "GeneralAiChange", args = {"魏延", "逃至指定点", "无", 18, 21}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var7"}}}},
                {
                    {cmd = "GeneralPropTest", args = {"司马懿", "HPCur", 1, ">="}},
                    {cmd = "FaceToFace", args = {"司马懿", "曹操"}},
                    {cmd = "Dialog", args = {"司马懿", "战局显然太奇怪了，为何退得如此迅速，该不会有诈吧……"}},
                    {cmd = "FaceToFace", args = {"曹操", "司马懿"}},
                    {cmd = "Dialog", args = {"曹操", "如今成都就在眼前，怎能轻言撤退？"}},
                    {cmd = "Dialog", args = {"曹操", "明知有诈也只有前进一途了。"}},
                    {cmd = "Dialog", args = {"曹操", "小心前进吧！"}},
                },
            },
            {cmd = "VarSet", args = {"Var7", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 6, "<", "指定区域", 16, 19, 19, 20}},
        {cmd = "VarTest", args = {{falseConditions = {"Var6", "Var8"}}}},
        {
            {cmd = "GeneralAiChange", args = {"关兴", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"关索", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯熊师1", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯熊师2", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师1", "被动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师2", "被动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var8", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 5, 19, 11, 24}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 6, "<", "指定区域", 10, 13, 25, 28}},
        {cmd = "VarTest", args = {{trueConditions = {"Var6"}, falseConditions = {"Var30"}}}},
        {
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                {cmd = "GeneralAction", args = {"诸葛亮", "prepareAttack"}},
                {cmd = "Dialog", args = {"诸葛亮", "我孔明岂有疏忽之理。"}},
                {cmd = "Dialog", args = {"诸葛亮", "环环相扣才能发挥计谋真正的作用！"}},
                {cmd = "Dialog", args = {"诸葛亮", "第二梯队，上！"}},
                {cmd = "GeneralAction", args = {"诸葛亮", "stand"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "FaceToFace", args = {"姜维", "曹操"}},
                {cmd = "GeneralAction", args = {"姜维", "prepareAttack"}},
                {cmd = "Dialog", args = {"姜维", "廖化！吴懿！"}},
                {cmd = "Dialog", args = {"姜维", "给曹操最后一击！"}},
                {cmd = "GeneralAction", args = {"姜维", "stand"}},
            },
            {
                {cmd = "GeneralShow", args = {"廖化"}},
                {cmd = "GeneralShow", args = {"贼兵7"}},
                {cmd = "GeneralShow", args = {"贼兵8"}},
                {cmd = "GeneralShow", args = {"贼兵9"}},
                {cmd = "GeneralShow", args = {"吴懿"}},
                {cmd = "GeneralShow", args = {"贼兵10"}},
                {cmd = "GeneralShow", args = {"贼兵11"}},
                {cmd = "GeneralShow", args = {"贼兵12"}},
            },
            {cmd = "FaceToFace", args = {"廖化", "曹操"}},
            {cmd = "FaceToFace", args = {"吴懿", "曹操"}},
            {cmd = "Dialog", args = {"廖化", "曹操，你的死期到了！"}},
            {cmd = "Dialog", args = {"吴懿", "这些兵力还打得赢吧？"}},
            {cmd = "Dialog", args = {"吴懿", "好！先试着攻击曹操吧！"}},
            {cmd = "FaceToFace", args = {"曹操", "吴懿"}},
            {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
            {cmd = "Dialog", args = {"曹操", "唔唔，又有伏兵！"}},
            {cmd = "Dialog", args = {"曹操", "赶快攻下关口，突破包围！"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "Dialog", args = {"诸葛亮", "不会让你得逞的。"}},
                {cmd = "Dialog", args = {"诸葛亮", "紧紧包围曹操！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "Dialog", args = {"赵云", "我也出战！"}},
            },
            {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 26, 13, 30, 29, "被动出击", "无", 1, 1}},
            {
                {cmd = "GeneralAiChange", args = {"赵云", "主动出击", "无", 1, 1}},
                {cmd = "GeneralAiChange", args = {"骑兵1", "主动出击", "无", 1, 1}},
                {cmd = "GeneralAiChange", args = {"骑兵2", "主动出击", "无", 1, 1}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "GeneralAction", args = {"姜维", "defense"}},
                {cmd = "Dialog", args = {"姜维", "再坚持下去！"}},
                {cmd = "Dialog", args = {"姜维", "再忍耐一下吧！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var60"}}}},
                {cmd = "Dialog", args = {"张苞", "胜利就在眼前！"}},
                {cmd = "Dialog", args = {"张苞", "大伙儿加把劲啊！"}},
            },
            {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 5, 13, 9, 29, "被动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var30", true}},
            {cmd = "VarSet", args = {"Var31", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 24, 19, 30, 24}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 6, "<", "指定区域", 10, 13, 25, 28}},
        {cmd = "VarTest", args = {{trueConditions = {"Var6"}, falseConditions = {"Var31"}}}},
        {
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                {cmd = "GeneralAction", args = {"诸葛亮", "prepareAttack"}},
                {cmd = "Dialog", args = {"诸葛亮", "我孔明岂有疏忽之理。"}},
                {cmd = "Dialog", args = {"诸葛亮", "环环相扣才能发挥计谋真正的作用！"}},
                {cmd = "Dialog", args = {"诸葛亮", "第二梯队，上！"}},
                {cmd = "GeneralAction", args = {"诸葛亮", "stand"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "FaceToFace", args = {"姜维", "曹操"}},
                {cmd = "GeneralAction", args = {"姜维", "prepareAttack"}},
                {cmd = "Dialog", args = {"姜维", "廖化！吴懿！"}},
                {cmd = "Dialog", args = {"姜维", "给曹操最后一击！"}},
                {cmd = "GeneralAction", args = {"姜维", "stand"}},
            },
            {
                {cmd = "GeneralShow", args = {"廖化"}},
                {cmd = "GeneralShow", args = {"贼兵7"}},
                {cmd = "GeneralShow", args = {"贼兵8"}},
                {cmd = "GeneralShow", args = {"贼兵9"}},
                {cmd = "GeneralShow", args = {"吴懿"}},
                {cmd = "GeneralShow", args = {"贼兵10"}},
                {cmd = "GeneralShow", args = {"贼兵11"}},
                {cmd = "GeneralShow", args = {"贼兵12"}},
            },
            {cmd = "FaceToFace", args = {"廖化", "曹操"}},
            {cmd = "FaceToFace", args = {"吴懿", "曹操"}},
            {cmd = "Dialog", args = {"廖化", "曹操，你的死期到了！"}},
            {cmd = "Dialog", args = {"吴懿", "这些兵力还打得赢吧？"}},
            {cmd = "Dialog", args = {"吴懿", "好！先试着攻击曹操吧！"}},
            {cmd = "FaceToFace", args = {"曹操", "吴懿"}},
            {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
            {cmd = "Dialog", args = {"曹操", "唔唔，又有伏兵！"}},
            {cmd = "Dialog", args = {"曹操", "赶快攻下关口，突破敌军包围！"}},
            {cmd = "GeneralAction", args = {"曹操", "stand"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "Dialog", args = {"诸葛亮", "不能让曹操逃掉！"}},
                {cmd = "Dialog", args = {"诸葛亮", "加强关口的防御！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "GeneralAction", args = {"赵云", "defense"}},
                {cmd = "Dialog", args = {"赵云", "不会让你们过关的！"}},
            },
            {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 26, 13, 30, 29, "被动出击", "无", 1, 1}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "Dialog", args = {"姜维", "我们也出战吧！"}},
                {cmd = "Dialog", args = {"姜维", "大家再加把劲！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var60"}}}},
                {cmd = "Dialog", args = {"张苞", "胜利就在眼前！"}},
                {cmd = "Dialog", args = {"张苞", "快冲啊！"}},
            },
            {cmd = "RangeGeneralsAiChange", args = {{"enemy"}, 5, 13, 9, 29, "被动出击", "无", 1, 1}},
            {
                {cmd = "GeneralAiChange", args = {"姜维", "主动出击", "无", 1, 1}},
                {cmd = "GeneralAiChange", args = {"张苞", "主动出击", "无", 1, 1}},
                {cmd = "GeneralAiChange", args = {"骑兵3", "主动出击", "无", 1, 1}},
                {cmd = "GeneralAiChange", args = {"骑兵4", "主动出击", "无", 1, 1}},
                {cmd = "GeneralAiChange", args = {"步兵7", "主动出击", "无", 1, 1}},
                {cmd = "GeneralAiChange", args = {"步兵8", "主动出击", "无", 1, 1}},
                {cmd = "GeneralAiChange", args = {"弓兵3", "主动出击", "无", 1, 1}},
                {cmd = "GeneralAiChange", args = {"弓兵4", "主动出击", "无", 1, 1}},
            },
            {cmd = "VarSet", args = {"Var30", true}},
            {cmd = "VarSet", args = {"Var31", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {"曹操", 1, 19, 2, 24}},
        {cmd = "VarTest", args = {{falseConditions = {"Var2", "Var32"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                {cmd = "GeneralAction", args = {"诸葛亮", "weak"}},
                {cmd = "Dialog", args = {"诸葛亮", "糟了！防线被突破了！"}},
                {cmd = "Dialog", args = {"诸葛亮", "既然如此只能退回成都迎击……"}},
                {cmd = "Dialog", args = {"诸葛亮", "太遗憾了。"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                {cmd = "Dialog", args = {"赵云", "不得不撤退吗……遗憾！"}},
                {cmd = "Dialog", args = {"赵云", "终于到了生死关头了。"}},
                {cmd = "Dialog", args = {"赵云", "成都绝不能让他们夺走！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "FaceToFace", args = {"姜维", "曹操"}},
                {cmd = "Dialog", args = {"姜维", "嗯嗯嗯，这下成都岂不是很危险！"}},
                {cmd = "Dialog", args = {"姜维", "马上撤回成都！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var60"}}}},
                {cmd = "FaceToFace", args = {"张苞", "曹操"}},
                {cmd = "Dialog", args = {"张苞", "曹操老贼……竟然突破我剑阁……"}},
                {cmd = "Dialog", args = {"张苞", "没办法，撤退！"}},
                {cmd = "Dialog", args = {"张苞", "我们必须要守住成都才行啊……"}},
            },
            {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 1, 36, 32}},
            {cmd = "VarSet", args = {"Var32", true}},
            {cmd = "Dialog", args = {"曹操", "好，剩下的只有成都了！"}},
            {cmd = "Dialog", args = {"曹操", "全军准备攻打成都！"}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var50"}}}},
                {cmd = "BattleExtraItems", args = {0, "青龙宝玉", 0, "白羽扇", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "青龙宝玉", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var100", true}},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var640", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {"曹操", 35, 19, 36, 24}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var33"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
                {cmd = "GeneralAction", args = {"诸葛亮", "weak"}},
                {cmd = "Dialog", args = {"诸葛亮", "糟了，防线被突破了！"}},
                {cmd = "Dialog", args = {"诸葛亮", "既然如此只能退回成都迎击……"}},
                {cmd = "Dialog", args = {"诸葛亮", "太遗憾了。"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"赵云", "曹操"}},
                {cmd = "Dialog", args = {"赵云", "不得不撤退吗……遗憾！"}},
                {cmd = "Dialog", args = {"赵云", "终于到了生死关头了。"}},
                {cmd = "Dialog", args = {"赵云", "成都绝不能让他们夺走！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "FaceToFace", args = {"姜维", "曹操"}},
                {cmd = "Dialog", args = {"姜维", "嗯嗯嗯，这下成都岂不是很危险！"}},
                {cmd = "Dialog", args = {"姜维", "马上撤回成都！"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var60"}}}},
                {cmd = "FaceToFace", args = {"张苞", "曹操"}},
                {cmd = "Dialog", args = {"张苞", "曹操老贼……竟然突破我剑阁……"}},
                {cmd = "Dialog", args = {"张苞", "没办法，撤退！"}},
                {cmd = "Dialog", args = {"张苞", "我们必须要守住成都才行啊……"}},
            },
            {cmd = "GeneralsDisappear", args = {{"enemy"}, 1, 1, 36, 32}},
            {cmd = "VarSet", args = {"Var33", true}},
            {cmd = "Dialog", args = {"曹操", "好！剩下的只有成都了！"}},
            {cmd = "Dialog", args = {"曹操", "全军准备攻打成都！"}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var50"}}}},
                {cmd = "BattleExtraItems", args = {0, "青龙宝玉", 0, "白羽扇", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "青龙宝玉", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var101", true}},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var640", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"张合", "吴懿", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"张合", "吴懿"}},
            {cmd = "FaceToFace", args = {"吴懿", "张合"}},
            {cmd = "Dialog", args = {"张合", "居然用伏兵这种卑鄙手段！？"}},
            {cmd = "Dialog", args = {"吴懿", "哼！打仗哪有什么卑鄙可言！"}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "诸葛亮", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "诸葛亮"}},
            {cmd = "Dialog", args = {"诸葛亮", "结果还是让敌军攻到了这里。"}},
            {cmd = "Dialog", args = {"诸葛亮", "没想到与我交手竟然能打到这来……"}},
            {cmd = "Dialog", args = {"曹操", "平定天下，严行律政是我的梦想，无论什么人也无法阻挡的。"}},
            {cmd = "Dialog", args = {"诸葛亮", "我承蒙先主刘备托孤，只能胜不能败。"}},
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"司马懿", "姜维", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"司马懿", "姜维"}},
            {cmd = "FaceToFace", args = {"姜维", "司马懿"}},
            {cmd = "Dialog", args = {"姜维", "我叫姜维，你就好好记住吧。"}},
            {cmd = "Dialog", args = {"司马懿", "噢，仪表堂堂，威风凛凛。"}},
            {cmd = "Dialog", args = {"司马懿", "听说你用计和孔明一样高明，但不知是不是我司马懿的对手？"}},
            {cmd = "Dialog", args = {"姜维", "你迟早会知道的。"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"司马懿", "关兴", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var43"}}}},
        {
            {cmd = "FaceToFace", args = {"关兴", "司马懿"}},
            {cmd = "FaceToFace", args = {"司马懿", "关兴"}},
            {cmd = "Dialog", args = {"关兴", "你看起来像是曹操的军师，遇上我关兴算你倒霉。"}},
            {cmd = "Dialog", args = {"司马懿", "你大概是关羽的儿子吧？"}},
            {cmd = "Dialog", args = {"司马懿", "哈哈哈，看来没有你父亲那么威严嘛。"}},
            {cmd = "Dialog", args = {"关兴", "你说什么！"}},
            {cmd = "Dialog", args = {"司马懿", "你看看，被人一说就激动起来了。"}},
            {cmd = "Dialog", args = {"关兴", "嗯嗯嗯……"}},
            {cmd = "VarSet", args = {"Var43", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"司马懿", "孟获", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var44"}}}},
        {
            {cmd = "FaceToFace", args = {"孟获", "司马懿"}},
            {cmd = "FaceToFace", args = {"司马懿", "孟获"}},
            {cmd = "Dialog", args = {"孟获", "我要让你变成野兽的口中肉！"}},
            {cmd = "Dialog", args = {"司马懿", "原来是个南蛮人？"}},
            {cmd = "Dialog", args = {"司马懿", "没必要和即将灭亡的蜀国一起送死吧！"}},
            {cmd = "VarSet", args = {"Var44", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"貂蝉", "祝融", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var45"}}}},
        {
            {cmd = "FaceToFace", args = {"祝融", "貂蝉"}},
            {cmd = "FaceToFace", args = {"貂蝉", "祝融"}},
            {cmd = "Dialog", args = {"祝融", "我怎么看你都很恶心。"}},
            {cmd = "Dialog", args = {"貂蝉", "我也这么想。"}},
            {cmd = "Dialog", args = {"祝融", "哼！你嘴倒挺利害的嘛！"}},
            {cmd = "VarSet", args = {"Var45", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"诸葛亮", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "Dialog", args = {"诸葛亮", "已经抵挡不住曹操了。"}},
            {cmd = "Dialog", args = {"诸葛亮", "唉，蜀国的命运……"}},
            {cmd = "Dialog", args = {"诸葛亮", "不，现在一放弃就完了。"}},
            {cmd = "Dialog", args = {"诸葛亮", "即使撤退还有一线希望。"}},
            {cmd = "GeneralRetreat", args = {"诸葛亮", false}},
            {cmd = "VarSet", args = {"Var50", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"赵云", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"赵云", "糟了……我真不中用。"}},
            {cmd = "Dialog", args = {"赵云", "撤退吧……"}},
            {cmd = "GeneralRetreat", args = {"赵云", false}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"马谡", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"马谡", "嗯嗯，诱敌的任务完成了。"}},
            {cmd = "Dialog", args = {"马谡", "我也该撤退啦！"}},
            {cmd = "GeneralRetreat", args = {"马谡", false}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"王平", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"王平", "已经坚持不住了，撤退！"}},
            {cmd = "GeneralRetreat", args = {"王平", false}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"姜维", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
        {
            {cmd = "Dialog", args = {"姜维", "不得不撤了吗？"}},
            {cmd = "Dialog", args = {"姜维", "遗憾啊……"}},
            {cmd = "GeneralRetreat", args = {"姜维", false}},
            {cmd = "VarSet", args = {"Var54", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"孟获", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
        {
            {cmd = "Dialog", args = {"孟获", "哎呀！"}},
            {cmd = "Dialog", args = {"孟获", "撤、撤退！"}},
            {cmd = "Dialog", args = {"孟获", "我会来报仇的！"}},
            {cmd = "GeneralRetreat", args = {"孟获", false}},
            {cmd = "VarSet", args = {"Var55", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"孟优", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
        {
            {cmd = "Dialog", args = {"孟优", "好疼！"}},
            {cmd = "Dialog", args = {"孟优", "怎么回事！？"}},
            {cmd = "Dialog", args = {"孟优", "啐，被打败了！退呀！"}},
            {cmd = "GeneralRetreat", args = {"孟优", false}},
            {cmd = "VarSet", args = {"Var56", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"祝融", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
        {
            {cmd = "Dialog", args = {"祝融", "可恶！竟敢对我这样无礼？"}},
            {cmd = "Dialog", args = {"祝融", "我会叫你后悔的。"}},
            {cmd = "Dialog", args = {"祝融", "给我记住。撤退！"}},
            {cmd = "GeneralRetreat", args = {"祝融", false}},
            {cmd = "VarSet", args = {"Var57", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"关索", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
        {
            {cmd = "Dialog", args = {"关索", "唔唔，曹操你给我记着！"}},
            {cmd = "Dialog", args = {"关索", "今天我就暂时放你一马，下次再碰到我就是你的死期了！"}},
            {cmd = "GeneralRetreat", args = {"关索", false}},
            {cmd = "VarSet", args = {"Var58", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"魏延", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var59"}}}},
        {
            {cmd = "Dialog", args = {"魏延", "唔唔，真不甘心。"}},
            {cmd = "Dialog", args = {"魏延", "下次可没这么容易！"}},
            {cmd = "GeneralRetreat", args = {"魏延", false}},
            {cmd = "VarSet", args = {"Var59", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张苞", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var60"}}}},
        {
            {cmd = "Dialog", args = {"张苞", "撤退！撤退！"}},
            {cmd = "Dialog", args = {"张苞", "还有下次呢。"}},
            {cmd = "GeneralRetreat", args = {"张苞", false}},
            {cmd = "VarSet", args = {"Var60", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"关兴", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var61"}}}},
        {
            {cmd = "Dialog", args = {"关兴", "糟、糟了！"}},
            {cmd = "Dialog", args = {"关兴", "没想到在这个关头撤退……"}},
            {cmd = "GeneralRetreat", args = {"关兴", false}},
            {cmd = "VarSet", args = {"Var61", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"李严", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var62"}}}},
        {
            {cmd = "Dialog", args = {"李严", "我认为自己已经非常尽力了。"}},
            {cmd = "Dialog", args = {"李严", "真不知道为什么会变成这样……"}},
            {cmd = "Dialog", args = {"李严", "撤退！"}},
            {cmd = "GeneralRetreat", args = {"李严", false}},
            {cmd = "VarSet", args = {"Var62", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"马超", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var63"}}}},
        {
            {cmd = "Dialog", args = {"马超", "啊！撤退！"}},
            {cmd = "Dialog", args = {"马超", "我先回成都了！"}},
            {cmd = "GeneralRetreat", args = {"马超", false}},
            {cmd = "VarSet", args = {"Var63", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"马岱", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var64"}}}},
        {
            {cmd = "Dialog", args = {"马岱", "啧，失策……"}},
            {cmd = "Dialog", args = {"马岱", "对不起，我先撤了！"}},
            {cmd = "GeneralRetreat", args = {"马岱", false}},
            {cmd = "VarSet", args = {"Var64", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"廖化", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var65"}}}},
        {
            {cmd = "Dialog", args = {"廖化", "唔唔唔，太大意了。"}},
            {cmd = "Dialog", args = {"廖化", "撤退！"}},
            {cmd = "GeneralRetreat", args = {"廖化", false}},
            {cmd = "VarSet", args = {"Var65", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"吴懿", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var66"}}}},
        {
            {cmd = "Dialog", args = {"吴懿", "呜哇哇……"}},
            {cmd = "Dialog", args = {"吴懿", "撤、撤，快撤！"}},
            {cmd = "GeneralRetreat", args = {"吴懿", false}},
            {cmd = "VarSet", args = {"Var66", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "很好，总算消灭了敌人！"}},
            {cmd = "Dialog", args = {"曹操", "我军胜利了！"}},
            {
                {cmd = "VarTest", args = {{trueConditions = {"Var50"}}}},
                {cmd = "BattleExtraItems", args = {0, "青龙宝玉", 0, "白羽扇", 0, "", 0, false}},
            },
            {
                {cmd = "Else"},
                {cmd = "BattleExtraItems", args = {0, "青龙宝玉", 0, "", 0, "", 0, false}},
            },
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var640", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操在刘禅军前大败而归。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
