local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "张鲁讨伐战",
    maxRounds    = 25,
    mapId        = "32.tmx",
    weatherStart = {"晴", "晴", "阴", "晴", "阴"},
    weatherType  = {"普通"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    enemyGeneralList = {
        {uid = "张鲁", aiType = "坚守原地", isKeyGeneral = true, levelAdd = 2},
        {uid = "阎圃", aiType = "坚守原地", levelAdd = 2},
        {uid = "步兵1", aiType = "坚守原地"},
        {uid = "步兵2", aiType = "坚守原地"},
        {uid = "步兵3", aiType = "坚守原地"},
        {uid = "步兵4", aiType = "坚守原地"},
        {uid = "弓兵1", aiType = "坚守原地"},
        {uid = "弓兵2", aiType = "坚守原地"},
        {uid = "弓兵3", aiType = "坚守原地"},
        {uid = "弓兵4", aiType = "坚守原地"},
        {uid = "炮兵1", aiType = "被动出击"},
        {uid = "炮兵2", aiType = "被动出击"},
        {uid = "贼兵1", aiType = "坚守原地"},
        {uid = "驯虎师1", aiType = "坚守原地"},
        {uid = "驯虎师2", aiType = "坚守原地"},
        {uid = "驯熊师1", aiType = "坚守原地"},
        {uid = "驯熊师2", aiType = "坚守原地"},
        {uid = "张卫", aiType = "坚守原地", levelAdd = 2},
        {uid = "步兵5", aiType = "坚守原地"},
        {uid = "弓兵5", aiType = "坚守原地"},
        {uid = "弓兵6", aiType = "坚守原地"},
        {uid = "炮兵3", aiType = "坚守原地"},
        {uid = "炮兵4", aiType = "坚守原地"},
        {uid = "炮兵5", aiType = "坚守原地"},
        {uid = "步兵6", aiType = "坚守原地"},
        {uid = "步兵7", aiType = "坚守原地"},
        {uid = "弓兵7", aiType = "坚守原地"},
        {uid = "弓兵8", aiType = "坚守原地"},
        {uid = "炮兵6", aiType = "坚守原地"},
        {uid = "炮兵7", aiType = "坚守原地"},
        {uid = "炮兵8", aiType = "坚守原地"},
        {uid = "庞德", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "西凉骑兵1", aiType = "主动出击", isHide = true},
        {uid = "西凉骑兵2", aiType = "主动出击", isHide = true},
        {uid = "西凉骑兵3", aiType = "主动出击", isHide = true},
        {uid = "西凉骑兵4", aiType = "主动出击", isHide = true},
        {uid = "西凉骑兵5", aiType = "主动出击", isHide = true},
        {uid = "西凉骑兵6", aiType = "主动出击", isHide = true},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"庞德", "默认装备", 0, "默认装备", 0, "铁盔"}},
        {cmd = "GeneralEquipsSet", args = {"阎圃", "默认装备", 0, "漆黑道服", 0, "默认装备"}},
    },
    {cmd = "PlayMusic", args = {"Track7"}},
    {
        {cmd = "FaceToFace", args = {"张鲁", "曹操"}},
        {cmd = "Dialog", args = {"张鲁", "曹军终于来了。"}},
        {cmd = "FaceToFace", args = {"阎圃", "张鲁"}},
        {cmd = "Dialog", args = {"阎圃", "教主，请放心。"}},
        {cmd = "Dialog", args = {"阎圃", "此地的地形易守难攻。"}},
        {cmd = "Dialog", args = {"阎圃", "只要守住关隘，曹军也奈我不得。"}},
        {cmd = "FaceToFace", args = {"张卫", "曹操"}},
        {cmd = "Dialog", args = {"张卫", "兄长，请让我张卫守卫关口吧。"}},
        {cmd = "Dialog", args = {"许褚", "这里比传闻中还要险峻。"}},
        {cmd = "Dialog", args = {"曹操", "（要想消灭蜀国，这里是必须占领的战略要地。如果能让张鲁献出此地……）"}},
        {cmd = "Dialog", args = {"曹操", "传令全军，不得杀害张鲁，将张鲁捉来见我。"}},
        {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
        {cmd = "Dialog", args = {"曹操", "此地是进入汉中的战略要地，必须先占领关口。"}},
        {cmd = "Dialog", args = {"曹操", "全军开始进攻！"}},
        {cmd = "GeneralAction", args = {"曹操", "stand"}},
    },
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、俘获张鲁。\n\n失败条件\n一、曹操死亡。\n二、超过25回合。"}},
    {cmd = "ShowBattleWinCondition", args = {"俘获张鲁！"}},
    {cmd = "HighlightGeneral", args = {"张鲁"}},
    {cmd = "VarSet", args = {"Var532", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "RoundsTest", args = {1, ">="}},
        {cmd = "SideTest", args = {"我军阶段"}},
        {cmd = "VarTest", args = {{trueConditions = {"Var32"}, falseConditions = {"Var11", "Var50"}}}},
        {
            {cmd = "GeneralShow", args = {"庞德"}},
            {cmd = "GeneralShow", args = {"西凉骑兵1"}},
            {cmd = "GeneralShow", args = {"西凉骑兵2"}},
            {cmd = "GeneralShow", args = {"西凉骑兵3"}},
            {cmd = "GeneralShow", args = {"西凉骑兵4"}},
            {cmd = "GeneralShow", args = {"西凉骑兵5"}},
            {cmd = "GeneralShow", args = {"西凉骑兵6"}},
            {cmd = "FaceToFace", args = {"庞德", "张鲁"}},
            {cmd = "FaceToFace", args = {"阎圃", "庞德"}},
            {cmd = "FaceToFace", args = {"张鲁", "庞德"}},
            {cmd = "Dialog", args = {"庞德", "庞德来迟了。"}},
            {cmd = "Dialog", args = {"庞德", "我即刻前往歼灭曹军！"}},
            {cmd = "Dialog", args = {"张鲁", "我实在不忍见到将军卷入这场……"}},
            {cmd = "Dialog", args = {"张鲁", "与自己毫无关系的纷争当中。"}},
            {cmd = "Dialog", args = {"张鲁", "但是事到如今，也只有依靠你了。"}},
            {cmd = "Dialog", args = {"庞德", "张鲁大人，我庞德向来知恩必报。"}},
            {cmd = "Dialog", args = {"庞德", "即使牺牲性命也要击败曹军。"}},
            {cmd = "Dialog", args = {"阎圃", "庞德将军，无论如何请您救救这个国家。"}},
            {cmd = "GeneralAiChange", args = {"贼兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯熊师1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯熊师2", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var11", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 5, 15}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AddItem", args = {"神秘酒", 0}},
            {cmd = "VarSet", args = {"Var20", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 9, 10}},
        {cmd = "VarTest", args = {{falseConditions = {"Var21"}}}},
        {
            {cmd = "AddItem", args = {"神秘酒", 0}},
            {cmd = "VarSet", args = {"Var21", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 16, 12}},
        {cmd = "VarTest", args = {{falseConditions = {"Var22"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var22", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 26, 18}},
        {cmd = "VarTest", args = {{falseConditions = {"Var23"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var23", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 27, 19}},
        {cmd = "VarTest", args = {{falseConditions = {"Var24"}}}},
        {
            {cmd = "AddItem", args = {"恢复用桃", 0}},
            {cmd = "VarSet", args = {"Var24", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 1, 15, 7, 20}},
        {cmd = "VarTest", args = {{falseConditions = {"Var30"}}}},
        {
            {cmd = "GeneralAiChange", args = {"张卫", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵6", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵5", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var30", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 9, 1, 28, 20}},
        {cmd = "VarTest", args = {{falseConditions = {"Var31"}}}},
        {
            {cmd = "GeneralAiChange", args = {"步兵6", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵7", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵7", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵8", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵6", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵7", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵8", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var31", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 10, 1, 28, 20}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var32", "Var50", "Var51"}}}},
        {
            {cmd = "FaceToFace", args = {"张鲁", "曹操"}},
            {cmd = "GeneralAction", args = {"张鲁", "weak"}},
            {cmd = "Dialog", args = {"张鲁", "曹军已经冲破了关隘。"}},
            {cmd = "Dialog", args = {"张鲁", "难道无力回天了吗……？"}},
            {cmd = "FaceToFace", args = {"阎圃", "张鲁"}},
            {cmd = "Dialog", args = {"阎圃", "教主，请求庞德将军出战吧！"}},
            {cmd = "Dialog", args = {"阎圃", "如果求助因病不得不离开马超，留在此地养病的庞德将军，或许……"}},
            {cmd = "Dialog", args = {"张鲁", "庞德将军的武勇在汉中也十分有名，看来现在也只有借助他的力量了。"}},
            {cmd = "Dialog", args = {"张鲁", "快！有请庞德将军！"}},
            {cmd = "Dialog", args = {"阎圃", "是！"}},
            {cmd = "VarSet", args = {"Var32", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 12, 1, 28, 20}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var33"}}}},
        {
            {cmd = "FaceToFace", args = {"张卫", "张鲁"}},
            {cmd = "Dialog", args = {"张卫", "唔，这样下去兄长会有危险！"}},
            {
                {cmd = "GeneralCountsTest", args = {{"enemy"}, 2, ">=", "指定区域", 1, 15, 7, 20}},
                {cmd = "GeneralAction", args = {"张卫", "prepareAttack"}},
                {cmd = "Dialog", args = {"张卫", "全军攻击曹军的背后！"}},
                {cmd = "Dialog", args = {"张卫", "出关迎战！"}},
                {cmd = "GeneralAction", args = {"张卫", "stand"}},
            },
            {cmd = "GeneralAiChange", args = {"张卫", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵6", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵5", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var33", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 22, 14, 28, 20}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var34"}}}},
        {
            {cmd = "FaceToFace", args = {"张鲁", "曹操"}},
            {cmd = "GeneralAction", args = {"张鲁", "prepareAttack"}},
            {cmd = "Dialog", args = {"张鲁", "不要让曹军进城。"}},
            {cmd = "Dialog", args = {"张鲁", "无论如何要抵挡住。"}},
            {cmd = "GeneralAction", args = {"张鲁", "stand"}},
            {cmd = "GeneralAiChange", args = {"阎圃", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"炮兵2", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var34", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "张鲁", false}},
        {cmd = "VarTest", args = {{trueConditions = {"Var2"}, falseConditions = {"Var40"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "FaceToFace", args = {"曹操", "张鲁"}},
            {cmd = "FaceToFace", args = {"张鲁", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "五斗米教教主张鲁啊！"}},
            {cmd = "Dialog", args = {"曹操", "如果认为我军是来消灭你的国家，那么阁下就错了。"}},
            {cmd = "Dialog", args = {"曹操", "如今想要让汉中繁荣，就必须使全国统一。"}},
            {cmd = "Dialog", args = {"曹操", "你就归降我军吧！"}},
            {cmd = "Dialog", args = {"张鲁", "安定的秩序需要百姓的支持，只靠统治是不能使人心安定的。"}},
            {cmd = "Dialog", args = {"曹操", "失去国家并不表示宗教也会消失，汉中还有在我曹操治理下的土地，百姓都会得到安宁的生活的。"}},
            {cmd = "Dialog", args = {"张鲁", "你是说我可以自由传教是吗？"}},
            {cmd = "Dialog", args = {"张鲁", "我明白了。与其白白地让将士牺牲，不如归顺您吧。"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"阎圃", "张鲁"}},
                {cmd = "Dialog", args = {"阎圃", "既然如此，我们也没必要开战了。"}},
                {cmd = "Dialog", args = {"阎圃", "以后还请多多关照。"}},
                {cmd = "VarSet", args = {"Var51", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                {cmd = "FaceToFace", args = {"张卫", "张鲁"}},
                {cmd = "Dialog", args = {"张卫", "如果兄长决心如此，我也会跟随他的。"}},
                {cmd = "VarSet", args = {"Var52", true}},
            },
            {cmd = "Dialog", args = {"张鲁", "这是我家传家之宝，请用它来帮助建立安定的秩序吧。"}},
            {cmd = "AddItem", args = {"圣者宝剑", 0}},
            {cmd = "VarSet", args = {"Var50", true}},
            {cmd = "VarSet", args = {"Var40", true}},
            {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var100", true}},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var632", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"许褚", "庞德", true}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"许褚", "庞德"}},
            {cmd = "FaceToFace", args = {"庞德", "许褚"}},
            {cmd = "Dialog", args = {"许褚", "嗯！？他不是马超手下的部将吗。"}},
            {cmd = "Dialog", args = {"许褚", "现在怎么成了张鲁的属下？"}},
            {cmd = "Dialog", args = {"庞德", "我不是张鲁大人的属下，只是来帮助他的。"}},
            {cmd = "Dialog", args = {"庞德", "一决胜负吧！"}},
            {
                {cmd = "PkPrepare", args = {"许褚", "庞德"}},
                {cmd = "PkGeneralShow", args = {true, "我是庞德，字令明。\n来吧！", "攻击"}},
                {cmd = "PkGeneralShow", args = {false, "你那副装扮不嫌重吗？\n算了，反正怎么打都行。", "无"}},
                {cmd = "PkShowStart"},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAction", args = {true, "无"}},
                {cmd = "PkGeneralAttack", args = {false, "移动攻击", false}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkGeneralAction", args = {true, "后转"}},
                {cmd = "PkGeneralAction", args = {false, "后转"}},
                {cmd = "PkShowDialog", args = {false, "嗯？", true}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {false, "格档后退", true}},
                {cmd = "Delay", args = {5}},
                {cmd = "PkGeneralAction", args = {false, "无"}},
                {cmd = "PkShowDialog", args = {false, "唔唔？\n真是个壮健的家伙。", true}},
                {cmd = "PkGeneralAction", args = {false, "前移"}},
                {cmd = "PkGeneralAttack2", args = {true, "后退", true}},
                {cmd = "PkGeneralAction", args = {true, "小步前移"}},
                {cmd = "PkGeneralAction", args = {true, "小步前移"}},
                {cmd = "PkGeneralAction", args = {true, "小步前移"}},
                {cmd = "PkShowDialog", args = {true, "看招！", true}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {true, "闪躲绕前", true}},
                {cmd = "PkGeneralAction", args = {true, "后转"}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {false, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack", args = {true, "原地攻击", false}},
                {cmd = "PkGeneralAttack2", args = {true, "闪躲绕前", false}},
                {cmd = "PkGeneralAction", args = {true, "后转"}},
                {cmd = "PkGeneralAttack2", args = {false, "格挡", false}},
                {cmd = "PkGeneralAttack2", args = {true, "后退", true}},
                {cmd = "Delay", args = {10}},
                {cmd = "PkGeneralAction", args = {false, "无"}},
                {cmd = "PkShowDialog", args = {false, "唔唔唔！？\n马超已经是个强敌了，\n这个家伙也不弱嘛。", true}},
                {cmd = "PkGeneralAction", args = {true, "防御"}},
                {cmd = "PkShowDialog", args = {true, "无法打倒……。", true}},
                {cmd = "PkOver"},
            },
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"许褚", "张卫", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var42"}}}},
        {
            {cmd = "FaceToFace", args = {"许褚", "张卫"}},
            {cmd = "FaceToFace", args = {"张卫", "许褚"}},
            {cmd = "Dialog", args = {"许褚", "你叫张卫是吧！"}},
            {cmd = "Dialog", args = {"许褚", "敢不敢跟我决一胜负？"}},
            {cmd = "Dialog", args = {"张卫", "我要保卫汉中，才不会中了你的挑衅之计。"}},
            {cmd = "VarSet", args = {"Var42", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "阎圃", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var43"}}}},
        {
            {cmd = "FaceToFace", args = {"曹操", "阎圃"}},
            {cmd = "FaceToFace", args = {"阎圃", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "你是张鲁的军师吗？"}},
            {cmd = "Dialog", args = {"曹操", "让我见一下张鲁吧，我不会对他不利的。"}},
            {cmd = "Dialog", args = {"阎圃", "岂能如你所愿！"}},
            {cmd = "Dialog", args = {"阎圃", "我们会誓死保护教主的。"}},
            {cmd = "VarSet", args = {"Var43", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张鲁", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"张鲁", "唔唔，吾命休矣……"}},
            {cmd = "Dialog", args = {"曹操", "很好。捉到张鲁了是吗？"}},
            {cmd = "FaceToFace", args = {"曹操", "张鲁"}},
            {cmd = "FaceToFace", args = {"张鲁", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "五斗米教教主张鲁啊！"}},
            {cmd = "Dialog", args = {"曹操", "如果认为我军是来消灭你的国家，那么阁下就错了。"}},
            {cmd = "Dialog", args = {"曹操", "如今想要让汉中繁荣，就必须使全国统一。"}},
            {cmd = "Dialog", args = {"曹操", "你就归降我军吧！"}},
            {cmd = "Dialog", args = {"张鲁", "安定的秩序需要百姓的支持，只靠统治是不能使人心安定的。"}},
            {cmd = "Dialog", args = {"曹操", "失去国家并不表示宗教也会消失，汉中还有在我曹操治理下的土地，百姓都会得到安宁的生活的。"}},
            {cmd = "Dialog", args = {"张鲁", "你是说我可以自由传教是吗？"}},
            {cmd = "Dialog", args = {"张鲁", "我明白了。与其白白地让将士牺牲，不如归顺您吧。"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "FaceToFace", args = {"阎圃", "张鲁"}},
                {cmd = "Dialog", args = {"阎圃", "既然如此，我们也没必要开战了。"}},
                {cmd = "Dialog", args = {"阎圃", "以后还请多多关照。"}},
                {cmd = "VarSet", args = {"Var51", true}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                {cmd = "FaceToFace", args = {"张卫", "张鲁"}},
                {cmd = "Dialog", args = {"张卫", "如果兄长决心如此，我也会跟随他的。"}},
                {cmd = "VarSet", args = {"Var52", true}},
            },
            {cmd = "VarSet", args = {"Var50", true}},
            {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var100", true}},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var632", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"阎圃", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"阎圃", "看来再抵抗也没有用了。"}},
            {cmd = "Dialog", args = {"阎圃", "带走我吧。"}},
            {cmd = "GeneralRetreat", args = {"阎圃", false}},
            {cmd = "AddItem", args = {"漆黑道服", 0}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张卫", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"张卫", "唔，兄长……"}},
            {cmd = "Dialog", args = {"张卫", "我对不起你……"}},
            {cmd = "Dialog", args = {"张卫", "唔呃！"}},
            {cmd = "GeneralRetreat", args = {"张卫", true}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"庞德", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "FaceToFace", args = {"庞德", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "庞德"}},
            {cmd = "Dialog", args = {"庞德", "唔唔，吾命休矣……"}},
            {cmd = "Dialog", args = {"庞德", "要杀要剐悉听尊便！"}},
            {cmd = "Dialog", args = {"曹操", "庞德啊，你真是一名出色的战将，勇猛无比又重情义，这样杀掉你实在太可惜了。"}},
            {cmd = "Dialog", args = {"庞德", "哼！反正我已是你的手下败将，就别再说什么安慰的话了。"}},
            {cmd = "Dialog", args = {"曹操", "好！带走！"}},
            {cmd = "Dialog", args = {"庞德", "曹大人，如果你尚有一丝仁义，请听我庞德说几句话。"}},
            {cmd = "Dialog", args = {"曹操", "什么话？你说吧。"}},
            {cmd = "Dialog", args = {"庞德", "今天在下虽然死而无悔，只可惜未能报答张鲁将军之恩。"}},
            {cmd = "Dialog", args = {"庞德", "张鲁将军并未加害于你，亦未抱持野心于天下，可否求你放他一马？"}},
            {cmd = "Dialog", args = {"曹操", "我原本就这么打算，你放心好了。"}},
            {cmd = "Dialog", args = {"庞德", "在下不胜感激。"}},
            {cmd = "Dialog", args = {"庞德", "如此我也死而无憾了！"}},
            {cmd = "Dialog", args = {"庞德", "带我出去斩首吧。"}},
            {cmd = "Dialog", args = {"曹操", "（看来如果不能见着张鲁，恐怕无法说服庞德。）"}},
            {cmd = "GeneralRetreat", args = {"庞德", false}},
            {cmd = "BattleWinCondition", args = {"胜利条件\n一、俘获张鲁。\n二、曹操与张鲁相邻。\n\n失败条件\n一、曹操死亡。\n二、回合数超过25。"}},
            {cmd = "ShowBattleWinCondition", args = {"说服张鲁！"}},
            {cmd = "HighlightGeneral", args = {"张鲁"}},
            {cmd = "VarSet", args = {"Var2", true}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{trueConditions = {"Var100"}, falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"曹操", "很好，总算赶走了敌军！"}},
            {cmd = "Dialog", args = {"曹操", "我军胜利了！"}},
            {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var632", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操在张鲁军前大败而归。"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
