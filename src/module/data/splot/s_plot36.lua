local Plot = {}

-- 战斗准备设置
Plot.battlePrepare = {
    battleName   = "汉水之战",
    maxRounds    = 30,
    mapId        = "36.tmx",
    weatherStart = {"晴", "晴", "阴", "晴", "阴"},
    weatherType  = {"普通"},
    levelAdd     = -2,
    playerGeneralList = {
        {uid = "曹操"},
        {uid = "夏侯惇"},
    },
    enemyGeneralList = {
        {uid = "诸葛亮", aiType = "坚守原地", levelAdd = 4},
        {uid = "步兵1", aiType = "被动出击"},
        {uid = "步兵2", aiType = "被动出击"},
        {uid = "弓兵1", aiType = "被动出击"},
        {uid = "弓兵2", aiType = "被动出击"},
        {uid = "刘备", aiType = "坚守原地", levelAdd = 4},
        {uid = "张飞", aiType = "被动出击", levelAdd = 4},
        {uid = "黄忠", aiType = "被动出击", levelAdd = 4},
        {uid = "骑兵1", aiType = "被动出击"},
        {uid = "弓骑兵1", aiType = "被动出击"},
        {uid = "刘封", aiType = "坚守原地", levelAdd = 2},
        {uid = "法正", aiType = "被动出击", levelAdd = 4},
        {uid = "驯虎师1", aiType = "被动出击"},
        {uid = "驯熊师2", aiType = "被动出击"},
        {uid = "驯熊师1", aiType = "被动出击"},
        {uid = "张翼", aiType = "被动出击", levelAdd = 2},
        {uid = "步兵3", aiType = "被动出击"},
        {uid = "步兵4", aiType = "被动出击"},
        {uid = "弓兵3", aiType = "被动出击"},
        {uid = "弓兵4", aiType = "被动出击"},
        {uid = "孟达", aiType = "被动出击", levelAdd = 2},
        {uid = "步兵5", aiType = "被动出击"},
        {uid = "步兵6", aiType = "被动出击"},
        {uid = "弓兵5", aiType = "被动出击"},
        {uid = "弓兵6", aiType = "被动出击"},
        {uid = "赵云", aiType = "主动出击", isHide = true, levelAdd = 4},
        {uid = "贼兵1", aiType = "主动出击", isHide = true},
        {uid = "贼兵2", aiType = "主动出击", isHide = true},
        {uid = "步兵7", aiType = "被动出击"},
        {uid = "步兵8", aiType = "被动出击"},
        {uid = "步兵9", aiType = "被动出击"},
        {uid = "步兵10", aiType = "被动出击"},
        {uid = "道士1", aiType = "被动出击"},
        {uid = "策士1", aiType = "被动出击"},
        {uid = "驯虎师2", aiType = "被动出击"},
        {uid = "驯虎师3", aiType = "被动出击"},
        {uid = "骑兵2", aiType = "被动出击"},
        {uid = "骑兵3", aiType = "被动出击"},
    },
}

Plot.battleStartPlot = {
    {
        {cmd = "GeneralEquipsSet", args = {"张飞", "蛇矛", 0, "默认装备", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"赵云", "默认装备", 0, "白银铠", 0, "默认装备"}},
        {cmd = "GeneralEquipsSet", args = {"刘备", "雌雄双剑", 0, "默认装备", 0, "的卢"}},
        {cmd = "GeneralEquipsSet", args = {"诸葛亮", "白羽扇", 0, "鹤氅", 0, "诸葛巾"}},
    },
    {cmd = "PlayMusic", args = {"Track3"}},
    {
        {cmd = "FaceToFace", args = {"曹操", "诸葛亮"}},
        {cmd = "Dialog", args = {"曹操", "蜀军背依河流布下背水之阵！？"}},
        {cmd = "Dialog", args = {"曹操", "孔明这个家伙在想什么？"}},
        {cmd = "Dialog", args = {"曹操", "圈套吗？不，也许是想迷惑我军……"}},
        {cmd = "FaceToFace", args = {"许褚", "曹操"}},
        {cmd = "Dialog", args = {"许褚", "主公，怎么想也无用处，伏兵又何足为惧。"}},
        {cmd = "Dialog", args = {"许褚", "咱们还是前进吧！"}},
        {cmd = "Dialog", args = {"曹操", "嗯，只要能够避开伏兵，诸葛亮这个无处可退的阵型，反而是给我军一个大好机会。"}},
        {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
        {cmd = "Dialog", args = {"曹操", "好，全军前进！"}},
        {cmd = "Dialog", args = {"曹操", "大家要留意有无伏兵，千万不可大意！"}},
        {cmd = "GeneralAction", args = {"曹操", "stand"}},
        {
            {cmd = "PlayerGeneralMove", args = {4, 21, 9, "left"}},
            {cmd = "PlayerGeneralMove", args = {3, 22, 10, "left"}},
            {cmd = "PlayerGeneralMove", args = {7, 21, 8, "left"}},
            {cmd = "PlayerGeneralMove", args = {5, 22, 9, "left"}},
            {cmd = "PlayerGeneralMove", args = {6, 23, 10, "left"}},
            {cmd = "PlayerGeneralMove", args = {9, 20, 5, "left"}},
            {cmd = "PlayerGeneralMove", args = {8, 21, 6, "left"}},
            {cmd = "PlayerGeneralMove", args = {12, 20, 4, "left"}},
            {cmd = "PlayerGeneralMove", args = {10, 21, 5, "left"}},
            {cmd = "PlayerGeneralMove", args = {11, 22, 6, "left"}},
            {cmd = "PlayerGeneralMove", args = {1, 24, 5, "left"}},
            {cmd = "PlayerGeneralMove", args = {2, 25, 6, "left"}},
            {cmd = "PlayerGeneralMove", args = {14, 24, 4, "left"}},
            {cmd = "PlayerGeneralMove", args = {0, 25, 5, "left"}},
            {cmd = "PlayerGeneralMove", args = {13, 26, 6, "left"}},
        },
        {cmd = "PlaySound", args = {"Se20.wav", 1}},
        {cmd = "Tip", args = {"哐当。哐当。"}},
        {cmd = "Delay", args = {10}},
        {cmd = "GeneralAction", args = {"许褚", "dizzy"}},
        {cmd = "Dialog", args = {"许褚", "唷、唷呵，怎么回事，偷袭吗！？"}},
        {cmd = "Dialog", args = {"许褚", "这、这铜锣声到底是……！？"}},
        {cmd = "Dialog", args = {"曹操", "全军待命！警戒！"}},
        {cmd = "Dialog", args = {"曹操", "这又是孔明的计谋吗！？"}},
        {cmd = "Dialog", args = {"曹操", "这次他又想什干么？"}},
        {cmd = "FaceToFace", args = {"许褚", "曹操"}},
        {cmd = "Dialog", args = {"许褚", "怎、怎么办？"}},
        {cmd = "FaceToFace", args = {"曹操", "许褚"}},
        {cmd = "Dialog", args = {"曹操", "敌人鸣锣表示此处定有伏兵……"}},
        {cmd = "Dialog", args = {"曹操", "在不利的地形上布阵，是为了引诱我们中计。不过……"}},
        {cmd = "Dialog", args = {"曹操", "为何故意让我们知道有伏兵呢……"}},
        {cmd = "Dialog", args = {"曹操", "我看只要谨慎小心一点就应该没有大碍。"}},
        {cmd = "Dialog", args = {"曹操", "孔明，你小小计策就想让我退兵吗？"}},
        {cmd = "FaceToFace", args = {"张飞", "曹操"}},
        {cmd = "FaceToFace", args = {"刘备", "曹操"}},
        {cmd = "FaceToFace", args = {"法正", "曹操"}},
        {cmd = "Dialog", args = {"张飞", "哈哈哈！"}},
        {cmd = "Dialog", args = {"张飞", "他们全慌了……"}},
        {cmd = "Dialog", args = {"张飞", "真有意思啊！"}},
        {cmd = "Dialog", args = {"刘备", "不愧是孔明的妙计，敌人已经中计了。"}},
        {cmd = "Dialog", args = {"刘备", "赵云也干得不错。"}},
        {cmd = "Dialog", args = {"法正", "此处地形山丘绵延，锣声回音自然很大。"}},
        {cmd = "FaceToFace", args = {"黄忠", "诸葛亮"}},
        {cmd = "Dialog", args = {"黄忠", "那么孔明先生。"}},
        {cmd = "Dialog", args = {"黄忠", "现在我们该怎样做？"}},
        {cmd = "Dialog", args = {"黄忠", "不会就这样观望下去吧。"}},
        {cmd = "FaceToFace", args = {"诸葛亮", "黄忠"}},
        {cmd = "Dialog", args = {"诸葛亮", "嗯，将军在此观望便可，一切都按计划进行看。"}},
        {cmd = "Dialog", args = {"黄忠", "！？"}},
        {cmd = "PlaySound", args = {"Se20.wav", 1}},
        {cmd = "Tip", args = {"哐当。哐当。"}},
        {cmd = "Delay", args = {10}},
        {cmd = "Dialog", args = {"曹操", "不好！如此下去，士兵的注意力便无法集中。"}},
        {cmd = "RangeGeneralsStatusChange", args = {{"player"}, 1, 1, 28, 28, "防御力", "下降", "无", 0, 0}},
        {cmd = "Dialog", args = {"曹操", "如果能知道锣声的来源就好了……"}},
        {cmd = "Dialog", args = {"曹操", "偏偏现在面对敌人的大军，无法分散兵力寻找伏兵……"}},
        {cmd = "Dialog", args = {"许褚", "咱们好像钻进孔明的圈套了。"}},
        {cmd = "Dialog", args = {"曹操", "该死的孔明！"}},
        {cmd = "FaceToFace", args = {"孟达", "诸葛亮"}},
        {cmd = "FaceToFace", args = {"张翼", "诸葛亮"}},
        {cmd = "FaceToFace", args = {"刘封", "诸葛亮"}},
        {cmd = "Dialog", args = {"孟达", "孔明先生，现在可以进攻了吧？"}},
        {cmd = "Dialog", args = {"孟达", "如今敌人的军心已经动摇，我认为有十分的把握取胜……"}},
        {cmd = "Dialog", args = {"张翼", "孔明先生，我也这么认为。"}},
        {cmd = "Dialog", args = {"张翼", "您还有什么顾虑？"}},
        {cmd = "FaceToFace", args = {"诸葛亮", "张翼"}},
        {cmd = "GeneralAction", args = {"诸葛亮", "prepareAttack"}},
        {cmd = "Dialog", args = {"诸葛亮", "诸位不可轻举妄动，妄动者依军法处置！"}},
        {cmd = "GeneralAction", args = {"诸葛亮", "stand"}},
        {cmd = "Dialog", args = {"刘封", "既然孔明先生这么说的话……"}},
        {cmd = "Dialog", args = {"孟达", "（哼！"}},
        {cmd = "Dialog", args = {"孟达", "孔明这小子到底打什么算盘？）"}},
    },
    {cmd = "PlayMusic", args = {"Track6"}},
    {cmd = "BattleWinCondition", args = {"胜利条件\n一、歼灭所有敌军。\n\n失败条件\n一、曹操死亡。\n二、回合数超过30。"}},
    {cmd = "ShowBattleWinCondition", args = {"歼灭所有敌军！"}},
    {cmd = "VarSet", args = {"Var536", true}},
    {cmd = "ShowMenu", args = {true}},
}

Plot.battleMiddlePlot = {
    {
        {cmd = "RoundsTest", args = {12, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var11"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
            {cmd = "Dialog", args = {"曹操", "竟敢布下无处可退的背水之阵？"}},
            {cmd = "Dialog", args = {"曹操", "继续进攻！歼灭所有敌军！"}},
            {cmd = "GeneralAction", args = {"曹操", "stand"}},
            {cmd = "Dialog", args = {"文官06", "主公，大事不好了！"}},
            {cmd = "Dialog", args = {"曹操", "何事惊慌……！？"}},
            {cmd = "Dialog", args = {"文官06", "我、我军………"}},
            {cmd = "Dialog", args = {"文官06", "我军的粮仓被袭击了！"}},
            {cmd = "GeneralAction", args = {"曹操", "dizzy"}},
            {cmd = "Dialog", args = {"曹操", "什、什么！？"}},
            {cmd = "Dialog", args = {"曹操", "糟了，原来孔明是为了争取时间！"}},
            {cmd = "Dialog", args = {"曹操", "我居然没有察觉……"}},
            {cmd = "Dialog", args = {"士兵06", "主公，我们该如何是好？"}},
            {cmd = "Dialog", args = {"曹操", "当然立刻回去救援！"}},
            {cmd = "Dialog", args = {"曹操", "不管是否来得及，此地不宜久留！"}},
            {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
            {cmd = "Dialog", args = {"曹操", "全军撤退！"}},
            {cmd = "GeneralAction", args = {"曹操", "stand"}},
            {cmd = "GeneralsDisappear", args = {{"player"}, 1, 1, 28, 28}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                {cmd = "Dialog", args = {"刘备", "多亏了孔明，今天又胜了曹操……"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                {cmd = "Dialog", args = {"诸葛亮", "哈哈哈！"}},
                {cmd = "Dialog", args = {"诸葛亮", "完全如我所料。"}},
                {cmd = "Dialog", args = {"诸葛亮", "哈哈哈！"}},
            },
            {cmd = "VarSet", args = {"Var11", true}},
            {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var100", true}},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var636", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {3, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var12", "Var30"}}}},
        {
            {cmd = "PlaySound", args = {"Se20.wav", 1}},
            {cmd = "Tip", args = {"哐当。哐当。"}},
            {cmd = "Delay", args = {10}},
            {cmd = "RangeGeneralsStatusChange", args = {{"player"}, 1, 1, 28, 28, "防御力", "下降", "无", 0, 0}},
            {cmd = "Dialog", args = {"曹操", "镇静！"}},
            {cmd = "Dialog", args = {"曹操", "不要被锣声所惑！"}},
            {cmd = "VarSet", args = {"Var12", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {5, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var13", "Var30"}}}},
        {
            {cmd = "PlaySound", args = {"Se20.wav", 1}},
            {cmd = "Tip", args = {"当，当"}},
            {cmd = "Delay", args = {10}},
            {cmd = "RangeGeneralsStatusChange", args = {{"player"}, 1, 1, 28, 28, "防御力", "下降", "无", 0, 0}},
            {cmd = "Dialog", args = {"曹操", "回音如此响亮，伏兵究竟在哪？"}},
            {cmd = "Dialog", args = {"曹操", "如今也不知道有多少有伏兵，这该如何是好……"}},
            {cmd = "VarSet", args = {"Var13", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {7, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var14", "Var30"}}}},
        {
            {cmd = "PlaySound", args = {"Se20.wav", 1}},
            {cmd = "Tip", args = {"当，当"}},
            {cmd = "Delay", args = {10}},
            {cmd = "RangeGeneralsStatusChange", args = {{"player"}, 1, 1, 28, 28, "防御力", "下降", "无", 0, 0}},
            {cmd = "Dialog", args = {"曹操", "伏兵究竟何时会出现呢？"}},
            {cmd = "VarSet", args = {"Var14", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {9, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var15", "Var30"}}}},
        {
            {cmd = "PlaySound", args = {"Se20.wav", 1}},
            {cmd = "Tip", args = {"当，当"}},
            {cmd = "Delay", args = {10}},
            {cmd = "RangeGeneralsStatusChange", args = {{"player"}, 1, 1, 28, 28, "防御力", "下降", "无", 0, 0}},
            {cmd = "Dialog", args = {"曹操", "敌军只管鸣锣，似乎没有进攻的迹象。"}},
            {cmd = "Dialog", args = {"曹操", "难道伏兵人数很少？"}},
            {cmd = "VarSet", args = {"Var15", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {11, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var16", "Var30"}}}},
        {
            {cmd = "PlaySound", args = {"Se20.wav", 1}},
            {cmd = "Tip", args = {"当，当"}},
            {cmd = "Delay", args = {10}},
            {cmd = "RangeGeneralsStatusChange", args = {{"player"}, 1, 1, 28, 28, "防御力", "下降", "无", 0, 0}},
            {cmd = "Dialog", args = {"曹操", "看来好像只是鸣锣罢了，孔明究竟目的何在？"}},
            {cmd = "VarSet", args = {"Var16", true}},
        },
    },
    {
        {cmd = "RoundsTest", args = {13, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var17", "Var30"}}}},
        {
            {cmd = "PlaySound", args = {"Se20.wav", 1}},
            {cmd = "Tip", args = {"当，当"}},
            {cmd = "Delay", args = {10}},
            {cmd = "RangeGeneralsStatusChange", args = {{"player"}, 1, 1, 28, 28, "防御力", "下降", "无", 1, 1}},
            {cmd = "Dialog", args = {"曹操", "难道只是为了扰乱军心吗？"}},
            {cmd = "Dialog", args = {"曹操", "唔唔，被孔明戏弄了！"}},
            {cmd = "VarSet", args = {"Var17", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 6, 20}},
        {cmd = "VarTest", args = {{falseConditions = {"Var20"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var20", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 8, 17}},
        {cmd = "VarTest", args = {{falseConditions = {"Var21"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var21", true}},
        },
    },
    {
        {cmd = "EnterTileTest", args = {{"player", "friend"}, 10, 22}},
        {cmd = "VarTest", args = {{falseConditions = {"Var22"}}}},
        {
            {cmd = "AddItem", args = {"恢复用米", 0}},
            {cmd = "VarSet", args = {"Var22", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"player"}, 9, "<", "整个战场", 1, 1, 1, 1}},
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 8, ">=", "整个战场", 1, 1, 1, 1}},
        {cmd = "VarTest", args = {{falseConditions = {"Var6"}}}},
        {
            {cmd = "Dialog", args = {"曹操", "唔唔唔………"}},
            {cmd = "Dialog", args = {"曹操", "光是这个背水之阵，就很难应付了……"}},
            {cmd = "Dialog", args = {"曹操", "如果再这样下去，我军只会白白伤亡……"}},
            {cmd = "Dialog", args = {"曹操", "是不是该撤退重整旗鼓呢？"}},
            {cmd = "ChoiceDialog", args = {"曹操", {"全军撤退", "继续作战"}}},
            {
                {cmd = "AllGeneralsRecover"},
                {cmd = "GeneralAction", args = {"曹操", "prepareAttack"}},
                {cmd = "Dialog", args = {"曹操", "没办法，今天就到此为止吧。"}},
                {cmd = "Dialog", args = {"曹操", "全军撤退！"}},
                {cmd = "GeneralAction", args = {"曹操", "stand"}},
                {cmd = "Dialog", args = {"文官06", "主公，大事不好了！"}},
                {cmd = "Dialog", args = {"曹操", "何事惊慌……！？"}},
                {cmd = "Dialog", args = {"文官06", "我、我军………"}},
                {cmd = "Dialog", args = {"文官06", "我军的粮仓被袭击了！"}},
                {cmd = "GeneralAction", args = {"曹操", "dizzy"}},
                {cmd = "Dialog", args = {"曹操", "什、什么！？"}},
                {cmd = "Dialog", args = {"曹操", "糟了，原来孔明是为了争取时间！"}},
                {cmd = "Dialog", args = {"曹操", "我居然没有察觉……"}},
                {cmd = "Dialog", args = {"士兵06", "主公，我们该如何是好？"}},
                {cmd = "Dialog", args = {"曹操", "当然立刻回去救援！"}},
                {cmd = "Dialog", args = {"曹操", "不管是否来得及，此地不宜久留！"}},
                {cmd = "GeneralsDisappear", args = {{"player"}, 1, 1, 28, 28}},
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
                    {cmd = "Dialog", args = {"刘备", "多亏了孔明，今天又胜了曹操……"}},
                },
                {
                    {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
                    {cmd = "Dialog", args = {"诸葛亮", "哈哈哈！"}},
                    {cmd = "Dialog", args = {"诸葛亮", "完全如我所料。"}},
                    {cmd = "Dialog", args = {"诸葛亮", "哈哈哈！"}},
                },
                {cmd = "VarSet", args = {"Var11", true}},
                {cmd = "BattleExtraItems", args = {0, "", 0, "", 0, "", 0, false}},
                {cmd = "BattleOver"},
                {cmd = "VarSet", args = {"Var100", true}},
                {cmd = "VarSet", args = {"Var0", true}},
                {cmd = "VarSet", args = {"Var636", true}},
            },
            {
                {cmd = "Dialog", args = {"曹操", "不！再坚持下去。"}},
                {cmd = "Dialog", args = {"曹操", "不能就这样撤退！"}},
            },
            {cmd = "VarSet", args = {"Var6", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 8, "<", "指定区域", 10, 1, 28, 21}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var7", "Var50", "Var55"}}}},
        {
            {cmd = "FaceToFace", args = {"诸葛亮", "刘封"}},
            {cmd = "GeneralAction", args = {"诸葛亮", "prepareAttack"}},
            {cmd = "Dialog", args = {"诸葛亮", "刘封，请出战吧！"}},
            {cmd = "Dialog", args = {"诸葛亮", "不要让曹军有喘息的机会！"}},
            {cmd = "GeneralAction", args = {"诸葛亮", "stand"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
                {cmd = "FaceToFace", args = {"法正", "刘封"}},
                {cmd = "Dialog", args = {"法正", "快！出兵吧！"}},
            },
            {cmd = "FaceToFace", args = {"刘封", "法正"}},
            {cmd = "Dialog", args = {"刘封", "说、说的对。"}},
            {cmd = "Dialog", args = {"刘封", "好，全军出战。"}},
            {cmd = "Dialog", args = {"刘封", "歼灭曹军！"}},
            {cmd = "GeneralAiChange", args = {"刘封", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"法正", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯虎师3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯熊师1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"驯熊师2", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var7", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 8, "<", "指定区域", 7, 1, 28, 20}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var8", "Var50", "Var51"}}}},
        {
            {cmd = "FaceToFace", args = {"诸葛亮", "刘备"}},
            {cmd = "Dialog", args = {"诸葛亮", "那么请主公也一起出战吧！"}},
            {cmd = "FaceToFace", args = {"刘备", "诸葛亮"}},
            {cmd = "GeneralAction", args = {"刘备", "prepareAttack"}},
            {cmd = "Dialog", args = {"刘备", "这是当然了！"}},
            {cmd = "Dialog", args = {"刘备", "走吧，去取曹操性命！"}},
            {cmd = "GeneralAction", args = {"刘备", "stand"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
                {cmd = "FaceToFace", args = {"张飞", "曹操"}},
                {cmd = "GeneralAction", args = {"张飞", "doubleAttack"}},
                {cmd = "Dialog", args = {"张飞", "太好啦！我已经手痒很久了！"}},
                {cmd = "GeneralAction", args = {"张飞", "stand"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
                {cmd = "FaceToFace", args = {"黄忠", "刘备"}},
                {cmd = "Dialog", args = {"黄忠", "我也去表现一番。"}},
            },
            {cmd = "GeneralAiChange", args = {"刘备", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"张飞", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"黄忠", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"骑兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"骑兵2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"骑兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓骑兵1", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var8", true}},
        },
    },
    {
        {cmd = "GeneralCountsTest", args = {{"enemy"}, 9, "<", "整个战场", 1, 1, 1, 1}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var9", "Var50"}}}},
        {
            {cmd = "Dialog", args = {"诸葛亮", "那么我也出战吧。"}},
            {cmd = "GeneralAiChange", args = {"诸葛亮", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"道士1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"策士1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵2", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵1", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵2", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var9", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 8, 1, 12, 5}},
        {cmd = "VarTest", args = {{falseConditions = {"Var30"}}}},
        {
            {cmd = "GeneralShow", args = {"赵云"}},
            {cmd = "GeneralShow", args = {"贼兵1"}},
            {cmd = "GeneralShow", args = {"贼兵2"}},
            {cmd = "FaceToFace", args = {"赵云", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "赵云"}},
            {cmd = "Dialog", args = {"赵云", "唔唔，被发现了？"}},
            {cmd = "Dialog", args = {"曹操", "就这么点兵力，也想吓唬我！？"}},
            {cmd = "Dialog", args = {"曹操", "真是太可笑了！"}},
            {cmd = "Dialog", args = {"赵云", "曹操！在孔明先生的妙计之前，你也不过是个无知小儿罢了！"}},
            {cmd = "VarSet", args = {"Var30", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 1, 10, 14, 28}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var31", "Var32", "Var50"}}}},
        {
            {cmd = "Dialog", args = {"诸葛亮", "先头部队牵制曹军。"}},
            {cmd = "Dialog", args = {"诸葛亮", "替赵云争取一些时间！"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
                {cmd = "Dialog", args = {"孟达", "是！（争取时间？太小看我了。）"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
                {cmd = "Dialog", args = {"张翼", "看我把敌军打垮！"}},
            },
            {cmd = "GeneralAiChange", args = {"孟达", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"张翼", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵6", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵7", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵8", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵9", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵10", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵6", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var31", true}},
        },
    },
    {
        {cmd = "EnterRangeTest", args = {{"player", "friend"}, 1, 15, 17, 28}},
        {cmd = "SideTest", args = {"敌军阶段"}},
        {cmd = "VarTest", args = {{falseConditions = {"Var31", "Var32", "Var50"}}}},
        {
            {cmd = "Dialog", args = {"诸葛亮", "好！出动小部队牵制曹军！"}},
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
                {cmd = "Dialog", args = {"孟达", "是！（小部队？太小看我了。）"}},
            },
            {
                {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
                {cmd = "Dialog", args = {"张翼", "看我把敌军打垮！"}},
            },
            {cmd = "GeneralAiChange", args = {"孟达", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"张翼", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵6", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵7", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵8", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵9", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"步兵10", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵3", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵4", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵5", "主动出击", "无", 1, 1}},
            {cmd = "GeneralAiChange", args = {"弓兵6", "主动出击", "无", 1, 1}},
            {cmd = "VarSet", args = {"Var32", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "诸葛亮", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var40"}}}},
        {
            {cmd = "FaceToFace", args = {"曹操", "诸葛亮"}},
            {cmd = "FaceToFace", args = {"诸葛亮", "曹操"}},
            {cmd = "Dialog", args = {"曹操", "孔明，我很佩服你高明的计策，尽管我中了你的圈套，与其说感到气愤，不如说是佩服。"}},
            {cmd = "Dialog", args = {"诸葛亮", "我可没心情跟敌人谈笑风生。"}},
            {cmd = "Dialog", args = {"曹操", "你倒是挺气势凌人的嘛。"}},
            {cmd = "Dialog", args = {"曹操", "不过你的计策也到此为止了，我倒要看你现在还能使什么计？"}},
            {cmd = "Dialog", args = {"诸葛亮", "喔，你真的这么想吗？"}},
            {cmd = "VarSet", args = {"Var40", true}},
        },
    },
    {
        {cmd = "GeneralMeetTest", args = {"曹操", "刘备", false}},
        {cmd = "VarTest", args = {{falseConditions = {"Var41"}}}},
        {
            {cmd = "FaceToFace", args = {"刘备", "曹操"}},
            {cmd = "FaceToFace", args = {"曹操", "刘备"}},
            {cmd = "Dialog", args = {"刘备", "当初共同声讨董卓的人，如今也只剩下你我了。"}},
            {cmd = "Dialog", args = {"曹操", "这证明乱世即将结束，究竟我们二个人之中，谁才能平定这乱世呢？"}},
            {cmd = "Dialog", args = {"刘备", "打从我们第一次见面时起，我就感觉到我们有某种因缘，只是没想到今日会在此交战……"}},
            {cmd = "Dialog", args = {"曹操", "哈哈哈！"}},
            {cmd = "Dialog", args = {"曹操", "战事还没结束呢，现在伤感还为时太早。"}},
            {cmd = "VarSet", args = {"Var41", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"诸葛亮", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var50"}}}},
        {
            {cmd = "Dialog", args = {"诸葛亮", "如今既已争取了时间，即使我不在此地也应该无妨了。"}},
            {cmd = "Dialog", args = {"诸葛亮", "撤退！"}},
            {cmd = "GeneralRetreat", args = {"诸葛亮", false}},
            {cmd = "VarSet", args = {"Var50", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"刘备", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var51"}}}},
        {
            {cmd = "Dialog", args = {"刘备", "既然是孔明的妙计，撤退也在料想之中。"}},
            {cmd = "Dialog", args = {"刘备", "此时也无须勉强应战，撤退！"}},
            {cmd = "GeneralRetreat", args = {"刘备", false}},
            {cmd = "VarSet", args = {"Var51", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张飞", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var52"}}}},
        {
            {cmd = "Dialog", args = {"张飞", "好痛，可恶的臭小子！"}},
            {cmd = "Dialog", args = {"张飞", "啐！俺先走了！"}},
            {cmd = "Dialog", args = {"张飞", "你给老子记住！"}},
            {cmd = "GeneralRetreat", args = {"张飞", false}},
            {cmd = "VarSet", args = {"Var52", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"赵云", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var53"}}}},
        {
            {cmd = "Dialog", args = {"赵云", "我已经按孔明先生的指示行动了。"}},
            {cmd = "Dialog", args = {"赵云", "既然接下来没有接到新的指示，今天就暂且撤退吧。"}},
            {cmd = "GeneralRetreat", args = {"赵云", false}},
            {cmd = "VarSet", args = {"Var53", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"黄忠", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var54"}}}},
        {
            {cmd = "Dialog", args = {"黄忠", "原来年轻的一辈当中，还有如此的人物！"}},
            {cmd = "Dialog", args = {"黄忠", "不过今天也只有先撤退了！"}},
            {cmd = "GeneralRetreat", args = {"黄忠", false}},
            {cmd = "VarSet", args = {"Var54", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"刘封", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var55"}}}},
        {
            {cmd = "Dialog", args = {"刘封", "义父，孩儿对不起您。"}},
            {cmd = "Dialog", args = {"刘封", "撤退！"}},
            {cmd = "GeneralRetreat", args = {"刘封", false}},
            {cmd = "VarSet", args = {"Var55", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"法正", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var56"}}}},
        {
            {cmd = "Dialog", args = {"法正", "我居然如此大意……"}},
            {cmd = "Dialog", args = {"法正", "唔呃……"}},
            {cmd = "GeneralRetreat", args = {"法正", true}},
            {cmd = "VarSet", args = {"Var56", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"张翼", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var57"}}}},
        {
            {cmd = "Dialog", args = {"张翼", "孔明先生，实在惭愧……"}},
            {cmd = "Dialog", args = {"张翼", "张翼先撤退了。"}},
            {cmd = "GeneralRetreat", args = {"张翼", false}},
            {cmd = "VarSet", args = {"Var57", true}},
        },
    },
    {
        {cmd = "GeneralPropTest", args = {"孟达", "HPCur", 0, "="}},
        {cmd = "VarTest", args = {{falseConditions = {"Var58"}}}},
        {
            {cmd = "Dialog", args = {"孟达", "真是愚蠢的计策！"}},
            {cmd = "Dialog", args = {"孟达", "干脆回家去吧。"}},
            {cmd = "Dialog", args = {"孟达", "后会有期！"}},
            {cmd = "GeneralRetreat", args = {"孟达", false}},
            {cmd = "VarSet", args = {"Var58", true}},
        },
    },
    {
        {cmd = "BattleWinTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var0"}}}},
        {
            {cmd = "AllGeneralsRecover"},
            {cmd = "Dialog", args = {"士兵06", "主公，我们已经歼灭了敌军！"}},
            {cmd = "Dialog", args = {"曹操", "嗯，我军胜利了！"}},
            {cmd = "Dialog", args = {"曹操", "孔明的诡计终于被粉碎……"}},
            {cmd = "Dialog", args = {"曹操", "不过我还是有些担心，嗯嗯……"}},
            {cmd = "Dialog", args = {"文官06", "主公，大事不好了！"}},
            {cmd = "Dialog", args = {"曹操", "何事惊慌……！？"}},
            {cmd = "Dialog", args = {"文官06", "我、我军………"}},
            {cmd = "Dialog", args = {"文官06", "我军的粮仓被袭击了！"}},
            {cmd = "Dialog", args = {"曹操", "什、什么！？"}},
            {cmd = "Dialog", args = {"曹操", "糟了！原来孔明是为了争取时间！"}},
            {cmd = "Dialog", args = {"曹操", "我居然没有察觉……该死的，孔明！"}},
            {cmd = "Dialog", args = {"士兵06", "主公，我们该如何是好？"}},
            {cmd = "Dialog", args = {"曹操", "当然立刻回去救援！"}},
            {cmd = "Dialog", args = {"曹操", "不过……只怕来不及了。"}},
            {cmd = "Dialog", args = {"曹操", "这回又让该死的孔明给耍了！"}},
            {cmd = "GeneralsDisappear", args = {{"player"}, 1, 1, 28, 28}},
            {cmd = "BattleExtraItems", args = {0, "诸葛巾", 0, "", 0, "", 0, false}},
            {cmd = "BattleOver"},
            {cmd = "VarSet", args = {"Var0", true}},
            {cmd = "VarSet", args = {"Var636", true}},
        },
    },
    {
        {cmd = "BattleLoseTest"},
        {cmd = "VarTest", args = {{falseConditions = {"Var1"}}}},
        {
            {cmd = "Tip", args = {"曹操在刘备军前大败而归"}},
            {cmd = "BattleOver"},
            {cmd = "BattleLose"},
            {cmd = "VarSet", args = {"Var1", true}},
        },
    },
}

return Plot
